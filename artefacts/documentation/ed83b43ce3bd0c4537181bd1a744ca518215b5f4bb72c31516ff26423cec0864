 For internal use, require listener not to block in callbacks.