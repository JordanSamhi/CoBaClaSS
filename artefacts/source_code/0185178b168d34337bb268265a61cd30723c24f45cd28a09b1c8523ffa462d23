public boolean writeLocked(XmlSerializer out){
    try {
        out.startTag(null, TAG_OBSERVER);
        out.attribute(null, ATTR_NAME, name);
        for (int i = 0; i < packages.size(); i++) {
            MonitoredPackage p = packages.valueAt(i);
            p.writeLocked(out);
        }
        out.endTag(null, TAG_OBSERVER);
        return true;
    } catch (IOException e) {
        Slog.w(TAG, "Cannot save observer", e);
        return false;
    }
}