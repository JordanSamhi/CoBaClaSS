public void rememberMediaButtonReceiverLocked(MediaSessionRecordImpl record){
    if (record instanceof MediaSession2Record) {
        return;
    }
    MediaSessionRecord sessionRecord = (MediaSessionRecord) record;
    mLastMediaButtonReceiverHolder = sessionRecord.getMediaButtonReceiver();
    String mediaButtonReceiverInfo = (mLastMediaButtonReceiverHolder == null) ? "" : mLastMediaButtonReceiverHolder.flattenToString();
    Settings.Secure.putStringForUser(mContentResolver, Settings.System.MEDIA_BUTTON_RECEIVER, mediaButtonReceiverInfo, mFullUserId);
}