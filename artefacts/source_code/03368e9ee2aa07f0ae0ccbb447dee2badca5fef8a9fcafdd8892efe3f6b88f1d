public void addEvent(Event event){
    event.mPackage = getCachedStringRef(event.mPackage);
    if (event.mClass != null) {
        event.mClass = getCachedStringRef(event.mClass);
    }
    if (event.mTaskRootPackage != null) {
        event.mTaskRootPackage = getCachedStringRef(event.mTaskRootPackage);
    }
    if (event.mTaskRootClass != null) {
        event.mTaskRootClass = getCachedStringRef(event.mTaskRootClass);
    }
    if (event.mEventType == NOTIFICATION_INTERRUPTION) {
        event.mNotificationChannelId = getCachedStringRef(event.mNotificationChannelId);
    }
    events.insert(event);
    if (event.mTimeStamp > endTime) {
        endTime = event.mTimeStamp;
    }
}