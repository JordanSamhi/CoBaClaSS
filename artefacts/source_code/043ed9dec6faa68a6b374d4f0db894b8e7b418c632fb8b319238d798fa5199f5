public float getFractionRunTime(){
    final long now = JobSchedulerService.sElapsedRealtimeClock.millis();
    if (earliestRunTimeElapsedMillis == 0 && latestRunTimeElapsedMillis == Long.MAX_VALUE) {
        return 1;
    } else if (earliestRunTimeElapsedMillis == 0) {
        return now >= latestRunTimeElapsedMillis ? 1 : 0;
    } else if (latestRunTimeElapsedMillis == Long.MAX_VALUE) {
        return now >= earliestRunTimeElapsedMillis ? 1 : 0;
    } else {
        if (now <= earliestRunTimeElapsedMillis) {
            return 0;
        } else if (now >= latestRunTimeElapsedMillis) {
            return 1;
        } else {
            return (float) (now - earliestRunTimeElapsedMillis) / (float) (latestRunTimeElapsedMillis - earliestRunTimeElapsedMillis);
        }
    }
}