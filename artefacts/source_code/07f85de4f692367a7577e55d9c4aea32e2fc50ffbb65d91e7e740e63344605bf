public static boolean currentUiModeSupportsErrorDialogs(@NonNull Configuration config){
    int modeType = config.uiMode & Configuration.UI_MODE_TYPE_MASK;
    return (modeType != Configuration.UI_MODE_TYPE_CAR && !(modeType == Configuration.UI_MODE_TYPE_WATCH && Build.IS_USER) && modeType != Configuration.UI_MODE_TYPE_TELEVISION && modeType != Configuration.UI_MODE_TYPE_VR_HEADSET);
}