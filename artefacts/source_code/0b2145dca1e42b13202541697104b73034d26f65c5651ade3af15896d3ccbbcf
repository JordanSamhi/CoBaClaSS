public void startTrace(String categories){
    synchronized (this) {
        if (mStarted) {
            throw new IllegalStateException("atrace already started");
        }
        runShellCommand(String.format(ATRACE_START, DEFAULT_ATRACE_BUF_SIZE, categories));
        mStarted = true;
    }
}