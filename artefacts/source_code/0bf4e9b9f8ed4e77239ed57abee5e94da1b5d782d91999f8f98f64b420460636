public boolean waitForIdle(final long timeoutMs){
    final ConditionVariable cv = new ConditionVariable(false);
    mHandler.post(cv::open);
    return cv.block(timeoutMs);
}