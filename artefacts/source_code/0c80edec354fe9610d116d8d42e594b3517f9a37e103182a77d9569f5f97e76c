public void writeToBytes(byte[] dest, int offset){
    if (offset < 0 || offset + mEncodedLength > dest.length) {
        throw new IndexOutOfBoundsException("Not enough space to write. Required bytes: " + mEncodedLength);
    }
    write(dest, offset);
}