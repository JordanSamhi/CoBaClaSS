public synchronized void track(Collection<?> collection, String tag){
    CollectionState collectionState = mCollections.get(collection);
    if (collectionState == null) {
        collectionState = new CollectionState();
        collectionState.tag = tag;
        collectionState.startUptime = SystemClock.uptimeMillis();
        mCollections.put(collection, collectionState);
    }
    if (collectionState.halfwayCount == -1 && SystemClock.uptimeMillis() - collectionState.startUptime > HALFWAY_DELAY) {
        collectionState.halfwayCount = collectionState.lastCount;
    }
    collectionState.lastCount = collection.size();
    collectionState.lastUptime = SystemClock.uptimeMillis();
}