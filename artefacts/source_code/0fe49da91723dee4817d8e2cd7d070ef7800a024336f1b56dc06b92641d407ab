public static void printAggregatedProcStateTagProto(ProtoOutputStream proto, long screenId, long stateId, int state){
    try {
        proto.write(stateId, state >> 0xf);
    } catch (IndexOutOfBoundsException e) {
        proto.write(stateId, ProcessStatsEnums.PROCESS_STATE_UNKNOWN);
    }
    try {
        proto.write(screenId, ADJ_SCREEN_PROTO_ENUMS[state & 0xf]);
    } catch (IndexOutOfBoundsException e) {
        proto.write(screenId, ProcessStatsEnums.SCREEN_STATE_UNKNOWN);
    }
}