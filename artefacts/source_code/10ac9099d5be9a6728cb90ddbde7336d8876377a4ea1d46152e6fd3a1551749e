public boolean matches(NetworkIdentity ident){
    if (!matchesMetered(ident))
        return false;
    if (!matchesRoaming(ident))
        return false;
    if (!matchesDefaultNetwork(ident))
        return false;
    switch(mMatchRule) {
        case MATCH_MOBILE:
            return matchesMobile(ident);
        case MATCH_WIFI:
            return matchesWifi(ident);
        case MATCH_ETHERNET:
            return matchesEthernet(ident);
        case MATCH_MOBILE_WILDCARD:
            return matchesMobileWildcard(ident);
        case MATCH_WIFI_WILDCARD:
            return matchesWifiWildcard(ident);
        case MATCH_BLUETOOTH:
            return matchesBluetooth(ident);
        case MATCH_PROXY:
            return matchesProxy(ident);
        default:
            return false;
    }
}