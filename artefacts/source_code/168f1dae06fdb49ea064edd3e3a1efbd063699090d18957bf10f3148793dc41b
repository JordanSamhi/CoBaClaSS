public void onTopProcChangedLocked(WindowProcessController proc){
    final int curSchedGroup = proc.getCurrentSchedulingGroup();
    if (curSchedGroup == ProcessList.SCHED_GROUP_TOP_APP) {
        setVrRenderThreadLocked(proc.mVrThreadTid, curSchedGroup, true);
    } else {
        if (proc.mVrThreadTid == mVrRenderThreadTid) {
            clearVrRenderThreadLocked(true);
        }
    }
}