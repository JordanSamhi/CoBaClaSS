public List<Integer> getRecoveryAgents(int userId){
    SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();
    String[] projection = { RecoveryServiceMetadataEntry.COLUMN_NAME_UID };
    String selection = RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ?";
    String[] selectionArguments = { Integer.toString(userId) };
    try (Cursor cursor = db.query(RecoveryServiceMetadataEntry.TABLE_NAME, projection, selection, selectionArguments, null, null, null)) {
        int count = cursor.getCount();
        ArrayList<Integer> result = new ArrayList<>(count);
        while (cursor.moveToNext()) {
            int uid = cursor.getInt(cursor.getColumnIndexOrThrow(RecoveryServiceMetadataEntry.COLUMN_NAME_UID));
            result.add(uid);
        }
        return result;
    }
}