public void writeToParcel(@NonNull Parcel dest, int flags){
    final Collection<WifiP2pGroup> groups = mGroups.snapshot().values();
    dest.writeInt(groups.size());
    for (WifiP2pGroup group : groups) {
        dest.writeParcelable(group, flags);
    }
}