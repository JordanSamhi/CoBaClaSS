public void setWiredDeviceConnectionState(int type, @ConnectionState int state, String address, String name, String caller){
    enforceModifyAudioRoutingPermission();
    if (state != CONNECTION_STATE_CONNECTED && state != CONNECTION_STATE_DISCONNECTED) {
        throw new IllegalArgumentException("Invalid state " + state);
    }
    new MediaMetrics.Item(mMetricsId + "setWiredDeviceConnectionState").set(MediaMetrics.Property.ADDRESS, address).set(MediaMetrics.Property.CLIENT_NAME, caller).set(MediaMetrics.Property.DEVICE, AudioSystem.getDeviceName(type)).set(MediaMetrics.Property.NAME, name).set(MediaMetrics.Property.STATE, state == CONNECTION_STATE_CONNECTED ? "connected" : "disconnected").record();
    mDeviceBroker.setWiredDeviceConnectionState(type, state, address, name, caller);
}