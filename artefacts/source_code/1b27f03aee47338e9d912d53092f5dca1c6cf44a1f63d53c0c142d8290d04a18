public static void forEach(@Nullable Set<T> cur, @Nullable ThrowingConsumer<T> action){
    if (cur == null || action == null)
        return;
    int size = cur.size();
    if (size == 0)
        return;
    try {
        if (cur instanceof ArraySet) {
            ArraySet<T> arraySet = (ArraySet<T>) cur;
            for (int i = 0; i < size; i++) {
                action.acceptOrThrow(arraySet.valueAt(i));
            }
        } else {
            for (T t : cur) {
                action.acceptOrThrow(t);
            }
        }
    } catch (Exception e) {
        throw ExceptionUtils.propagate(e);
    }
}