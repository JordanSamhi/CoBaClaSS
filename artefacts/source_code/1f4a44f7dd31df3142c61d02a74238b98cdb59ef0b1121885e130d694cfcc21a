public static int calculateMinimumAlpha(@ColorInt int foreground, @ColorInt int background, float minContrastRatio){
    if (Color.alpha(background) != 255) {
        throw new IllegalArgumentException("background can not be translucent: #" + Integer.toHexString(background));
    }
    ContrastCalculator contrastCalculator = (fg, bg, alpha) -> {
        int testForeground = setAlphaComponent(fg, alpha);
        return calculateContrast(testForeground, bg);
    };
    double testRatio = contrastCalculator.calculateContrast(foreground, background, 255);
    if (testRatio < minContrastRatio) {
        return -1;
    }
    foreground = setAlphaComponent(foreground, 255);
    return binaryAlphaSearch(foreground, background, minContrastRatio, contrastCalculator);
}