public IntArray getCurrentProfileIds(){
    synchronized (mCurrentProfiles) {
        IntArray users = new IntArray(mCurrentProfiles.size());
        final int N = mCurrentProfiles.size();
        for (int i = 0; i < N; ++i) {
            users.add(mCurrentProfiles.keyAt(i));
        }
        return users;
    }
}