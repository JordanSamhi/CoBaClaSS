public void onUserStopping(int userId){
    synchronized (mLock) {
        UserData userData = mUserDataArray.get(userId);
        if (userData != null) {
            userData.setUserStopped();
        }
    }
    mScheduledExecutor.execute(() -> cleanupUser(userId));
}