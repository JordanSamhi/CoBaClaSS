public static int[] appendInt(@Nullable int[] cur, int val, boolean allowDuplicates){
    if (cur == null) {
        return new int[] { val };
    }
    final int N = cur.length;
    if (!allowDuplicates) {
        for (int i = 0; i < N; i++) {
            if (cur[i] == val) {
                return cur;
            }
        }
    }
    int[] ret = new int[N + 1];
    System.arraycopy(cur, 0, ret, 0, N);
    ret[N] = val;
    return ret;
}