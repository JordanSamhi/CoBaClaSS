public static int getAccessibilityServiceFragmentType(@NonNull AccessibilityServiceInfo accessibilityServiceInfo){
    final int targetSdk = accessibilityServiceInfo.getResolveInfo().serviceInfo.applicationInfo.targetSdkVersion;
    final boolean requestA11yButton = (accessibilityServiceInfo.flags & AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON) != 0;
    if (targetSdk <= Build.VERSION_CODES.Q) {
        return AccessibilityFragmentType.VOLUME_SHORTCUT_TOGGLE;
    }
    return requestA11yButton ? AccessibilityFragmentType.INVISIBLE_TOGGLE : AccessibilityFragmentType.TOGGLE;
}