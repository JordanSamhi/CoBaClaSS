public boolean setSubscriptionEnabled(boolean enable, int subId){
    enforceModifyPhoneState("setSubscriptionEnabled");
    final long identity = Binder.clearCallingIdentity();
    try {
        logd("setSubscriptionEnabled" + (enable ? " enable " : " disable ") + " subId " + subId);
        if (!SubscriptionManager.isUsableSubscriptionId(subId)) {
            throw new IllegalArgumentException("setSubscriptionEnabled not usable subId " + subId);
        }
        if (enable == isActiveSubscriptionId(subId))
            return true;
        SubscriptionInfo info = SubscriptionController.getInstance().getAllSubInfoList(mContext.getOpPackageName(), mContext.getAttributionTag()).stream().filter(subInfo -> subInfo.getSubscriptionId() == subId).findFirst().get();
        if (info == null) {
            logd("setSubscriptionEnabled subId " + subId + " doesn't exist.");
            return false;
        }
        if (info.isEmbedded()) {
            return enableEmbeddedSubscription(info, enable);
        } else {
            return enablePhysicalSubscription(info, enable);
        }
    } finally {
        Binder.restoreCallingIdentity(identity);
    }
}