public boolean addOrReplaceDynamicShortcut(@NonNull ShortcutInfo newShortcut){
    Preconditions.checkArgument(newShortcut.isEnabled(), "add/setDynamicShortcuts() cannot publish disabled shortcuts");
    newShortcut.addFlags(ShortcutInfo.FLAG_DYNAMIC);
    final ShortcutInfo oldShortcut = mShortcuts.get(newShortcut.getId());
    if (oldShortcut != null) {
        oldShortcut.ensureUpdatableWith(newShortcut, false);
        newShortcut.addFlags(oldShortcut.getFlags() & (ShortcutInfo.FLAG_PINNED | ShortcutInfo.FLAG_CACHED_ALL));
    }
    forceReplaceShortcutInner(newShortcut);
    return oldShortcut != null;
}