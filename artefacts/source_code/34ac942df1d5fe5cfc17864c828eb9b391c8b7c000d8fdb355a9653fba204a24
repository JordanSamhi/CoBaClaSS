public void performFiltering(@NonNull CharSequence text, int keyCode){
    boolean isCompletedToken = isCompletedToken(text);
    if (enoughToFilter() && !isCompletedToken) {
        int end = getSelectionEnd();
        int start = mTokenizer.findTokenStart(text, end);
        Spannable span = getSpannable();
        DrawableRecipientChip[] chips = span.getSpans(start, end, DrawableRecipientChip.class);
        if (chips != null && chips.length > 0) {
            dismissDropDown();
            return;
        }
    } else if (isCompletedToken) {
        dismissDropDown();
        return;
    }
    super.performFiltering(text, keyCode);
}