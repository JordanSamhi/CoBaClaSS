public boolean isOutputSupportedFor(Size size, int format){
    int internalFormat = imageFormatToInternal(format);
    int dataspace = imageFormatToDataspace(format);
    StreamConfiguration[] configs = dataspace == HAL_DATASPACE_DEPTH ? mDepthConfigurations : dataspace == HAL_DATASPACE_DYNAMIC_DEPTH ? mDynamicDepthConfigurations : dataspace == HAL_DATASPACE_HEIF ? mHeicConfigurations : mConfigurations;
    for (StreamConfiguration config : configs) {
        if ((config.getFormat() == internalFormat) && config.isOutput() && config.getSize().equals(size)) {
            return true;
        }
    }
    return false;
}