public void onLoadersChanged(@NonNull Resources resources, @NonNull List<ResourcesLoader> newLoader){
    synchronized (ResourcesManager.this) {
        final ResourcesKey oldKey = findKeyForResourceImplLocked(resources.getImpl());
        if (oldKey == null) {
            throw new IllegalArgumentException("Cannot modify resource loaders of" + " ResourcesImpl not registered with ResourcesManager");
        }
        final ResourcesKey newKey = new ResourcesKey(oldKey.mResDir, oldKey.mSplitResDirs, oldKey.mOverlayDirs, oldKey.mLibDirs, oldKey.mDisplayId, oldKey.mOverrideConfiguration, oldKey.mCompatInfo, newLoader.toArray(new ResourcesLoader[0]));
        final ResourcesImpl impl = findOrCreateResourcesImplForKeyLocked(newKey);
        resources.setImpl(impl);
    }
}