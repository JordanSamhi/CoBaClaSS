public static int appendQuotedText(SpannableStringBuilder formatString, int index){
    int length = formatString.length();
    if (index + 1 < length && formatString.charAt(index + 1) == QUOTE) {
        formatString.delete(index, index + 1);
        return 1;
    }
    int count = 0;
    formatString.delete(index, index + 1);
    length--;
    while (index < length) {
        char c = formatString.charAt(index);
        if (c == QUOTE) {
            if (index + 1 < length && formatString.charAt(index + 1) == QUOTE) {
                formatString.delete(index, index + 1);
                length--;
                count++;
                index++;
            } else {
                formatString.delete(index, index + 1);
                break;
            }
        } else {
            index++;
            count++;
        }
    }
    return count;
}