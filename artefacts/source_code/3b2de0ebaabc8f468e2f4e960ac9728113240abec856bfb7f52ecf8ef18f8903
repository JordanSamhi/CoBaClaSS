public void setPlaybackActive(boolean playbackActive){
    final ForegroundServiceEventCallback serviceCallback;
    synchronized (mLock) {
        if (mPlaybackActive == playbackActive) {
            return;
        }
        mPlaybackActive = playbackActive;
        serviceCallback = mForegroundServiceEventCallback;
    }
    if (serviceCallback != null) {
        serviceCallback.onPlaybackActiveChanged(this, playbackActive);
    }
    List<ControllerInfo> controllerInfos = getConnectedControllers();
    for (ControllerInfo controller : controllerInfos) {
        controller.notifyPlaybackActiveChanged(playbackActive);
    }
}