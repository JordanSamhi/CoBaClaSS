public int updateFrom(@NonNull WindowConfiguration delta){
    int changed = 0;
    if (!delta.mBounds.isEmpty() && !delta.mBounds.equals(mBounds)) {
        changed |= WINDOW_CONFIG_BOUNDS;
        setBounds(delta.mBounds);
    }
    if (delta.mAppBounds != null && !delta.mAppBounds.equals(mAppBounds)) {
        changed |= WINDOW_CONFIG_APP_BOUNDS;
        setAppBounds(delta.mAppBounds);
    }
    if (delta.mWindowingMode != WINDOWING_MODE_UNDEFINED && mWindowingMode != delta.mWindowingMode) {
        changed |= WINDOW_CONFIG_WINDOWING_MODE;
        setWindowingMode(delta.mWindowingMode);
    }
    if (delta.mActivityType != ACTIVITY_TYPE_UNDEFINED && mActivityType != delta.mActivityType) {
        changed |= WINDOW_CONFIG_ACTIVITY_TYPE;
        setActivityType(delta.mActivityType);
    }
    if (delta.mAlwaysOnTop != ALWAYS_ON_TOP_UNDEFINED && mAlwaysOnTop != delta.mAlwaysOnTop) {
        changed |= WINDOW_CONFIG_ALWAYS_ON_TOP;
        setAlwaysOnTop(delta.mAlwaysOnTop);
    }
    if (delta.mRotation != ROTATION_UNDEFINED && delta.mRotation != mRotation) {
        changed |= WINDOW_CONFIG_ROTATION;
        setRotation(delta.mRotation);
    }
    if (delta.mDisplayWindowingMode != WINDOWING_MODE_UNDEFINED && mDisplayWindowingMode != delta.mDisplayWindowingMode) {
        changed |= WINDOW_CONFIG_DISPLAY_WINDOWING_MODE;
        setDisplayWindowingMode(delta.mDisplayWindowingMode);
    }
    return changed;
}