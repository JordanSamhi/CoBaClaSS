public ImsCall takeCall(IImsCallSession session, ImsCall.Listener listener) throws ImsException{
    checkAndThrowExceptionIfServiceUnavailable();
    try {
        if (session == null) {
            throw new ImsException("No pending session for the call", ImsReasonInfo.CODE_LOCAL_NO_PENDING_CALL);
        }
        ImsCall call = new ImsCall(mContext, session.getCallProfile());
        call.attachSession(new ImsCallSession(session));
        call.setListener(listener);
        return call;
    } catch (Throwable t) {
        loge("takeCall caught: ", t);
        throw new ImsException("takeCall()", t, ImsReasonInfo.CODE_UNSPECIFIED);
    }
}