public synchronized void onRilCallListChanged(List<GsmCdmaConnection> connections){
    for (Connection conn : connections) {
        int id = getConnectionId(conn);
        if (!mCallProtos.contains(id)) {
            if (conn.getDisconnectCause() == DisconnectCause.NOT_DISCONNECTED) {
                addCall(conn);
                checkCallSetup(conn, mCallProtos.get(id));
            } else {
                logd("onRilCallListChanged: skip adding disconnected connection");
            }
        } else {
            VoiceCallSession proto = mCallProtos.get(id);
            checkCallSetup(conn, proto);
            if (conn.getDisconnectCause() != DisconnectCause.NOT_DISCONNECTED) {
                proto.bearerAtEnd = getBearer(conn);
                proto.disconnectReasonCode = conn.getDisconnectCause();
                proto.disconnectExtraCode = conn.getPreciseDisconnectCause();
                proto.disconnectExtraMessage = conn.getVendorDisconnectCause();
                finishCall(id);
            }
        }
    }
}