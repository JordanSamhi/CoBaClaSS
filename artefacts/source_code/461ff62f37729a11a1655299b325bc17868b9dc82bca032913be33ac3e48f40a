public void setInitialSurroundingSubText(@NonNull CharSequence subText, int subTextStart){
    CharSequence newSubText = Editable.Factory.getInstance().newEditable(subText);
    Objects.requireNonNull(newSubText);
    final int subTextSelStart = initialSelStart > initialSelEnd ? initialSelEnd - subTextStart : initialSelStart - subTextStart;
    final int subTextSelEnd = initialSelStart > initialSelEnd ? initialSelStart - subTextStart : initialSelEnd - subTextStart;
    final int subTextLength = newSubText.length();
    if (subTextStart < 0 || subTextSelStart < 0 || subTextSelEnd > subTextLength) {
        mInitialSurroundingText = new InitialSurroundingText();
        return;
    }
    if (isPasswordInputType(inputType)) {
        mInitialSurroundingText = new InitialSurroundingText();
        return;
    }
    if (subTextLength <= MEMORY_EFFICIENT_TEXT_LENGTH) {
        mInitialSurroundingText = new InitialSurroundingText(newSubText, subTextSelStart, subTextSelEnd);
        return;
    }
    trimLongSurroundingText(newSubText, subTextSelStart, subTextSelEnd);
}