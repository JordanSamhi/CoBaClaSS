public ParcelFileDescriptor openFileForSystem(String path, String mode){
    if (DEBUG)
        Slog.d(TAG, "openFileForSystem: " + path + " mode=" + mode);
    try {
        ParcelFileDescriptor pfd = getShellCallback().openFile(path, "u:r:system_server:s0", mode);
        if (pfd != null) {
            if (DEBUG)
                Slog.d(TAG, "Got file: " + pfd);
            return pfd;
        }
    } catch (RuntimeException e) {
        if (DEBUG)
            Slog.d(TAG, "Failure opening file: " + e.getMessage());
        getErrPrintWriter().println("Failure opening file: " + e.getMessage());
    }
    if (DEBUG)
        Slog.d(TAG, "Error: Unable to open file: " + path);
    getErrPrintWriter().println("Error: Unable to open file: " + path);
    String suggestedPath = "/data/local/tmp/";
    if (path == null || !path.startsWith(suggestedPath)) {
        getErrPrintWriter().println("Consider using a file under " + suggestedPath);
    }
    return null;
}