public List<WifiConfiguration> getAllScanOptimizationSuggestionNetworks(){
    List<WifiConfiguration> networks = new ArrayList<>();
    final String activeScorerPackage = mNetworkScoreManager.getActiveScorerPackage();
    for (PerAppInfo info : mActiveNetworkSuggestionsPerApp.values()) {
        if (!info.isApproved(activeScorerPackage)) {
            continue;
        }
        for (ExtendedWifiNetworkSuggestion ewns : info.extNetworkSuggestions) {
            if (ewns.wns.getPasspointConfig() != null) {
                continue;
            }
            WifiConfiguration network = mWifiConfigManager.getConfiguredNetwork(ewns.wns.getWifiConfiguration().getKey());
            if (network == null) {
                network = ewns.createInternalWifiConfiguration();
            }
            networks.add(network);
        }
    }
    return networks;
}