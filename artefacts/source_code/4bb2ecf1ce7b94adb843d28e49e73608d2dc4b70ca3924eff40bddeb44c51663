public void onClusterChange(int flag, byte[] mac, byte[] currentDiscoveryInterfaceMac){
    if (mDbg) {
        Log.v(TAG, "onClusterChange: mClientId=" + mClientId + ", mNotifyIdentityChange=" + mNotifyIdentityChange + ", mac=" + String.valueOf(HexEncoding.encode(mac)) + ", currentDiscoveryInterfaceMac=" + String.valueOf(HexEncoding.encode(currentDiscoveryInterfaceMac)) + ", mLastDiscoveryInterfaceMac=" + String.valueOf(HexEncoding.encode(mLastDiscoveryInterfaceMac)));
    }
    if (mNotifyIdentityChange && !Arrays.equals(currentDiscoveryInterfaceMac, mLastDiscoveryInterfaceMac)) {
        try {
            boolean hasPermission = mWifiPermissionsUtil.checkCallersLocationPermission(mCallingPackage, mCallingFeatureId, mUid, true, null);
            if (VDBG)
                Log.v(TAG, "hasPermission=" + hasPermission);
            mCallback.onIdentityChanged(hasPermission ? currentDiscoveryInterfaceMac : ALL_ZERO_MAC);
        } catch (RemoteException e) {
            Log.w(TAG, "onIdentityChanged: RemoteException - ignored: " + e);
        }
    }
    mLastDiscoveryInterfaceMac = currentDiscoveryInterfaceMac;
}