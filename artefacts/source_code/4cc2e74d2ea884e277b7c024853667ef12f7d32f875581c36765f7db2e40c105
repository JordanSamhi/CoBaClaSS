public int breakText(char[] text, int index, int count, float maxWidth, float[] measuredWidth){
    if (text == null) {
        throw new IllegalArgumentException("text cannot be null");
    }
    if (index < 0 || text.length - index < Math.abs(count)) {
        throw new ArrayIndexOutOfBoundsException();
    }
    if (text.length == 0 || count == 0) {
        return 0;
    }
    if (!mHasCompatScaling) {
        return nBreakText(mNativePaint, text, index, count, maxWidth, mBidiFlags, measuredWidth);
    }
    final float oldSize = getTextSize();
    setTextSize(oldSize * mCompatScaling);
    final int res = nBreakText(mNativePaint, text, index, count, maxWidth * mCompatScaling, mBidiFlags, measuredWidth);
    setTextSize(oldSize);
    if (measuredWidth != null)
        measuredWidth[0] *= mInvCompatScaling;
    return res;
}