public void addTransientView(View view, int index){
    if (index < 0 || view == null) {
        return;
    }
    if (view.mParent != null) {
        throw new IllegalStateException("The specified view already has a parent " + view.mParent);
    }
    if (mTransientIndices == null) {
        mTransientIndices = new ArrayList<Integer>();
        mTransientViews = new ArrayList<View>();
    }
    final int oldSize = mTransientIndices.size();
    if (oldSize > 0) {
        int insertionIndex;
        for (insertionIndex = 0; insertionIndex < oldSize; ++insertionIndex) {
            if (index < mTransientIndices.get(insertionIndex)) {
                break;
            }
        }
        mTransientIndices.add(insertionIndex, index);
        mTransientViews.add(insertionIndex, view);
    } else {
        mTransientIndices.add(index);
        mTransientViews.add(view);
    }
    view.mParent = this;
    if (mAttachInfo != null) {
        view.dispatchAttachedToWindow(mAttachInfo, (mViewFlags & VISIBILITY_MASK));
    }
    invalidate(true);
}