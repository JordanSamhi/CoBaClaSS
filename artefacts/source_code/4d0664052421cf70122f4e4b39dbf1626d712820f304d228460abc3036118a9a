public int getGroupCapability(String peerAddress){
    synchronized (mLock) {
        if (!checkSupplicantP2pIfaceAndLogFailure("getGroupCapability")) {
            return RESULT_NOT_VALID;
        }
        if (peerAddress == null) {
            Log.e(TAG, "Cannot parse peer mac address.");
            return RESULT_NOT_VALID;
        }
        byte[] macAddress = null;
        try {
            macAddress = NativeUtil.macAddressToByteArray(peerAddress);
        } catch (Exception e) {
            Log.e(TAG, "Could not parse group address.", e);
            return RESULT_NOT_VALID;
        }
        SupplicantResult<Integer> capability = new SupplicantResult("getGroupCapability(" + peerAddress + ")");
        try {
            mISupplicantP2pIface.getGroupCapability(macAddress, (SupplicantStatus status, int cap) -> {
                capability.setResult(status, cap);
            });
        } catch (RemoteException e) {
            Log.e(TAG, "ISupplicantP2pIface exception: " + e);
            supplicantServiceDiedHandler();
        }
        if (!capability.isSuccess()) {
            return RESULT_NOT_VALID;
        }
        return capability.getResult();
    }
}