public void setExpansion(boolean forceExpanded, float expansionFraction, float panelTranslationY){
    final float keyguardExpansionFraction = forceExpanded ? 1f : expansionFraction;
    if (mStatusIconsAlphaAnimator != null) {
        mStatusIconsAlphaAnimator.setPosition(keyguardExpansionFraction);
    }
    if (forceExpanded) {
        mHeaderTextContainerView.setTranslationY(panelTranslationY);
    } else {
        mHeaderTextContainerView.setTranslationY(0f);
    }
    if (mHeaderTextContainerAlphaAnimator != null) {
        mHeaderTextContainerAlphaAnimator.setPosition(keyguardExpansionFraction);
        if (keyguardExpansionFraction > 0) {
            mHeaderTextContainerView.setVisibility(VISIBLE);
        } else {
            mHeaderTextContainerView.setVisibility(INVISIBLE);
        }
    }
    if (expansionFraction < 1 && expansionFraction > 0.99) {
        if (mHeaderQsPanel.switchTileLayout()) {
            updateResources();
        }
    }
    mKeyguardExpansionFraction = keyguardExpansionFraction;
}