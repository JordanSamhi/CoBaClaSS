public static boolean shouldRetry(AsyncResult ar, int retryCount){
    if (ar.exception instanceof CommandException && retryCount < MAX_RETRY) {
        CommandException.Error error = ((CommandException) (ar.exception)).getCommandError();
        int[] results = (int[]) ar.result;
        int statusCode = 0;
        if (ar.result != null && results.length == 3) {
            byte[] bytes = new byte[] { (byte) results[1], (byte) results[2] };
            statusCode = Integer.parseInt(IccUtils.bytesToHexString(bytes), 16);
            log("status code: " + String.valueOf(statusCode));
        }
        return (error == CommandException.Error.MISSING_RESOURCE) || (error == CommandException.Error.NO_SUCH_ELEMENT && statusCode == STATUS_CODE_CONDITION_NOT_SATISFIED) || (error == CommandException.Error.INTERNAL_ERR && statusCode == STATUS_CODE_APPLET_SELECT_FAILED);
    }
    return false;
}