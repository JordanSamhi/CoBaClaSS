public void close(){
    if (mFrontendHandle != null) {
        int res = nativeCloseFrontend(mFrontendHandle);
        if (res != Tuner.RESULT_SUCCESS) {
            TunerUtils.throwExceptionForResult(res, "failed to close frontend");
        }
        mTunerResourceManager.releaseFrontend(mFrontendHandle, mClientId);
        FrameworkStatsLog.write(FrameworkStatsLog.TV_TUNER_STATE_CHANGED, mUserId, FrameworkStatsLog.TV_TUNER_STATE_CHANGED__STATE__UNKNOWN);
        mFrontendHandle = null;
        mFrontend = null;
    }
    if (mLnb != null) {
        mLnb.close();
    }
    if (!mDescramblers.isEmpty()) {
        for (Map.Entry<Integer, Descrambler> d : mDescramblers.entrySet()) {
            d.getValue().close();
            mTunerResourceManager.releaseDescrambler(d.getKey(), mClientId);
        }
        mDescramblers.clear();
    }
    if (!mFilters.isEmpty()) {
        for (Filter f : mFilters) {
            f.close();
        }
        mFilters.clear();
    }
    if (mDemuxHandle != null) {
        int res = nativeCloseDemux(mDemuxHandle);
        if (res != Tuner.RESULT_SUCCESS) {
            TunerUtils.throwExceptionForResult(res, "failed to close demux");
        }
        mTunerResourceManager.releaseDemux(mDemuxHandle, mClientId);
        mFrontendHandle = null;
    }
    TunerUtils.throwExceptionForResult(nativeClose(), "failed to close tuner");
}