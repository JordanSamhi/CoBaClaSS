public static IpPrefix ipAddressAsPrefix(InetAddress ip){
    final int bitLength = (ip instanceof Inet4Address) ? NetworkConstants.IPV4_ADDR_BITS : NetworkConstants.IPV6_ADDR_BITS;
    return new IpPrefix(ip, bitLength);
}