public void updateState(){
    final int enabledSetting = getNetworkRecommendationsEnabledSetting();
    if (enabledSetting == NetworkScoreManager.RECOMMENDATIONS_ENABLED_FORCED_OFF) {
        if (DEBUG)
            Log.d(TAG, "Recommendations forced off.");
        return;
    }
    final String currentPackageName = getNetworkRecommendationsPackage();
    if (getScorer(currentPackageName) != null) {
        if (VERBOSE)
            Log.v(TAG, currentPackageName + " is the active scorer.");
        setNetworkRecommendationsEnabledSetting(NetworkScoreManager.RECOMMENDATIONS_ENABLED_ON);
        return;
    }
    int newEnabledSetting = NetworkScoreManager.RECOMMENDATIONS_ENABLED_OFF;
    final String defaultPackageName = getDefaultPackageSetting();
    if (!TextUtils.equals(currentPackageName, defaultPackageName) && getScorer(defaultPackageName) != null) {
        if (DEBUG) {
            Log.d(TAG, "Defaulting the network recommendations app to: " + defaultPackageName);
        }
        setNetworkRecommendationsPackage(defaultPackageName);
        newEnabledSetting = NetworkScoreManager.RECOMMENDATIONS_ENABLED_ON;
    }
    setNetworkRecommendationsEnabledSetting(newEnabledSetting);
}