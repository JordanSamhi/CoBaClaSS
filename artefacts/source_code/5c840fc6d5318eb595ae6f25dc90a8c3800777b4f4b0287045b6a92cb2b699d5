public boolean allowNetworkSuggestionAutojoin(WifiConfiguration config, boolean choice){
    if (!config.fromWifiNetworkSuggestion) {
        Log.e(TAG, "allowNetworkSuggestionAutojoin: on non-suggestion network: " + config);
        return false;
    }
    Set<ExtendedWifiNetworkSuggestion> matchingExtendedWifiNetworkSuggestions = getNetworkSuggestionsForWifiConfiguration(config, config.BSSID);
    if (config.isPasspoint()) {
        if (!mWifiInjector.getPasspointManager().enableAutojoin(config.getKey(), null, choice)) {
            return false;
        }
    }
    for (ExtendedWifiNetworkSuggestion ewns : matchingExtendedWifiNetworkSuggestions) {
        ewns.isAutojoinEnabled = choice;
    }
    saveToStore();
    return true;
}