public static void prefixParcelWithAppOpsIfNeeded(@NonNull Parcel p){
    ArrayMap<String, long[]> notedAppOps = sAppOpsNotedInThisBinderTransaction.get();
    if (notedAppOps == null) {
        return;
    }
    p.writeInt(Parcel.EX_HAS_NOTED_APPOPS_REPLY_HEADER);
    int numAttributionWithNotesAppOps = notedAppOps.size();
    p.writeInt(numAttributionWithNotesAppOps);
    for (int i = 0; i < numAttributionWithNotesAppOps; i++) {
        p.writeString(notedAppOps.keyAt(i));
        p.writeLong(notedAppOps.valueAt(i)[0]);
        p.writeLong(notedAppOps.valueAt(i)[1]);
    }
}