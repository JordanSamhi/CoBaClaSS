public static ComponentName getDefaultWallpaperComponent(Context context){
    ComponentName cn = null;
    String flat = SystemProperties.get(PROP_WALLPAPER_COMPONENT);
    if (!TextUtils.isEmpty(flat)) {
        cn = ComponentName.unflattenFromString(flat);
    }
    if (cn == null) {
        flat = context.getString(com.android.internal.R.string.default_wallpaper_component);
        if (!TextUtils.isEmpty(flat)) {
            cn = ComponentName.unflattenFromString(flat);
        }
    }
    if (cn != null) {
        try {
            final PackageManager packageManager = context.getPackageManager();
            packageManager.getPackageInfo(cn.getPackageName(), PackageManager.MATCH_DIRECT_BOOT_AWARE | PackageManager.MATCH_DIRECT_BOOT_UNAWARE);
        } catch (PackageManager.NameNotFoundException e) {
            cn = null;
        }
    }
    return cn;
}