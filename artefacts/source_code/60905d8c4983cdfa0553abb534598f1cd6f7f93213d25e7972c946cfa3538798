public float getWidth(int start, int end){
    if (mMeasuredText == null) {
        final float[] widths = mWidths.getRawArray();
        float r = 0.0f;
        for (int i = start; i < end; ++i) {
            r += widths[i];
        }
        return r;
    } else {
        return mMeasuredText.getWidth(start, end);
    }
}