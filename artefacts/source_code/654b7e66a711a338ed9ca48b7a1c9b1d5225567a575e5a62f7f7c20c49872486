public synchronized CachedBluetoothDevice findDevice(BluetoothDevice device){
    for (CachedBluetoothDevice cachedDevice : mCachedDevices) {
        if (cachedDevice.getDevice().equals(device)) {
            return cachedDevice;
        }
        CachedBluetoothDevice subDevice = cachedDevice.getSubDevice();
        if (subDevice != null && subDevice.getDevice().equals(device)) {
            return subDevice;
        }
    }
    return null;
}