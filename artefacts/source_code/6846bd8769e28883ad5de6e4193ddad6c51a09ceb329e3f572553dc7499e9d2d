public static void disableImmersiveMode(Window window){
    if (Log.isLoggable(TAG, Log.INFO)) {
        Log.i(TAG, "disableImmersiveMode");
    }
    Preconditions.checkNotNull(window);
    window.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_VISIBLE);
    Context context = window.getContext();
    if (context == null) {
        if (Log.isLoggable(TAG, Log.WARN)) {
            Log.w(TAG, "Can't restore colors for navigation and status bar.");
        }
        return;
    }
    final TypedArray typedArray = context.obtainStyledAttributes(new int[] { android.R.attr.statusBarColor, android.R.attr.navigationBarColor });
    int statusBarColor = typedArray.getColor(0, 0);
    int navigationBarColor = typedArray.getColor(1, 0);
    window.setStatusBarColor(statusBarColor);
    window.setNavigationBarColor(navigationBarColor);
    typedArray.recycle();
}