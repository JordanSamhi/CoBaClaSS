public ParceledListSlice<WifiConfiguration> getPrivilegedConfiguredNetworks(String packageName, String featureId){
    enforceReadCredentialPermission();
    enforceAccessPermission();
    int callingUid = Binder.getCallingUid();
    long ident = Binder.clearCallingIdentity();
    try {
        mWifiPermissionsUtil.enforceCanAccessScanResults(packageName, featureId, callingUid, null);
    } catch (SecurityException e) {
        Log.e(TAG, "Permission violation - getPrivilegedConfiguredNetworks not allowed for" + " uid=" + callingUid + ", packageName=" + packageName + ", reason=" + e);
        return null;
    } finally {
        Binder.restoreCallingIdentity(ident);
    }
    if (mVerboseLoggingEnabled) {
        mLog.info("getPrivilegedConfiguredNetworks uid=%").c(callingUid).flush();
    }
    List<WifiConfiguration> configs = mWifiThreadRunner.call(() -> mWifiConfigManager.getConfiguredNetworksWithPasswords(), Collections.emptyList());
    return new ParceledListSlice<>(configs);
}