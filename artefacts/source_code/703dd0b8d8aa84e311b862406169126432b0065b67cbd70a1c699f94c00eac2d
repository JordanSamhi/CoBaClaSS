public static NetworkKey createFromWifiInfo(@Nullable WifiInfo wifiInfo){
    if (wifiInfo != null) {
        final String ssid = wifiInfo.getSSID();
        final String bssid = wifiInfo.getBSSID();
        if (!TextUtils.isEmpty(ssid) && !ssid.equals(WifiManager.UNKNOWN_SSID) && !TextUtils.isEmpty(bssid)) {
            WifiKey wifiKey;
            try {
                wifiKey = new WifiKey(ssid, bssid);
            } catch (IllegalArgumentException e) {
                Log.e(TAG, "Unable to create WifiKey.", e);
                return null;
            }
            return new NetworkKey(wifiKey);
        }
    }
    return null;
}