public static int audioFormatToBluetoothSourceCodec(@AudioFormatNativeEnumForBtCodec int audioFormat){
    switch(audioFormat) {
        case AUDIO_FORMAT_AAC:
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_AAC;
        case AUDIO_FORMAT_SBC:
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_SBC;
        case AUDIO_FORMAT_APTX:
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_APTX;
        case AUDIO_FORMAT_APTX_HD:
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_APTX_HD;
        case AUDIO_FORMAT_LDAC:
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_LDAC;
        default:
            Log.e(TAG, "Unknown audio format 0x" + Integer.toHexString(audioFormat) + " for conversion to BT codec");
            return BluetoothCodecConfig.SOURCE_CODEC_TYPE_INVALID;
    }
}