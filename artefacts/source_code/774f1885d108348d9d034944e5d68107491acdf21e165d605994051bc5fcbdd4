public Set<Integer> removeNetworksForApp(ApplicationInfo app){
    if (app == null || app.packageName == null) {
        return Collections.<Integer>emptySet();
    }
    Log.d(TAG, "Remove all networks for app " + app);
    Set<Integer> removedNetworks = new ArraySet<>();
    WifiConfiguration[] copiedConfigs = mConfiguredNetworks.valuesForAllUsers().toArray(new WifiConfiguration[0]);
    for (WifiConfiguration config : copiedConfigs) {
        if (app.uid != config.creatorUid || !app.packageName.equals(getCreatorPackageName(config))) {
            continue;
        }
        localLog("Removing network " + config.SSID + ", application \"" + app.packageName + "\" uninstalled" + " from user " + UserHandle.getUserHandleForUid(app.uid));
        if (removeNetwork(config.networkId, config.creatorUid, config.creatorName)) {
            removedNetworks.add(config.networkId);
        }
    }
    return removedNetworks;
}