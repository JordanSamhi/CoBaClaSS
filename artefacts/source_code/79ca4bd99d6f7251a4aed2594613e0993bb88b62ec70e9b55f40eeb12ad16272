public boolean onTouchEvent(MotionEvent event){
    if (DEBUG) {
        Slog.v(TAG, this + " onTouch: " + MotionEvent.actionToString(event.getAction()));
    }
    if (event.getToolType(0) == MotionEvent.TOOL_TYPE_MOUSE) {
        return false;
    }
    final int action = event.getAction();
    if (action == MotionEvent.ACTION_OUTSIDE) {
        poke(event);
        return true;
    } else if (action == MotionEvent.ACTION_DOWN) {
        if (DEBUG) {
            Slog.v(TAG, this + " ACTION_DOWN: " + event.getX() + "," + event.getY());
        }
        mNavBarController.touchAutoDim(mDisplayId);
        int size = (int) getSize(event.getEventTime());
        final boolean consumeEvent;
        if (mVertical) {
            if (mDisplayRotation == Surface.ROTATION_270) {
                consumeEvent = event.getX() > mNavigationBarView.getWidth() - size;
            } else {
                consumeEvent = event.getX() < size;
            }
        } else {
            consumeEvent = event.getY() < size;
        }
        if (consumeEvent) {
            if (CHATTY) {
                Slog.v(TAG, "consuming errant click: (" + event.getX() + "," + event.getY() + ")");
            }
            if (mShouldFlash) {
                mNavigationBarView.post(mDebugFlash);
                mNavigationBarView.postInvalidate();
            }
            return true;
        }
    }
    return false;
}