public void update(int callType, ImsStreamMediaProfile mediaProfile) throws ImsException{
    logi("update :: callType=" + callType + ", mediaProfile=" + mediaProfile);
    if (isOnHold()) {
        if (DBG) {
            logi("update :: call is on hold");
        }
        throw new ImsException("Not in a call to update call", ImsReasonInfo.CODE_LOCAL_ILLEGAL_STATE);
    }
    synchronized (mLockObj) {
        if (mUpdateRequest != UPDATE_NONE) {
            if (DBG) {
                logi("update :: update is in progress; request=" + updateRequestToString(mUpdateRequest));
            }
            throw new ImsException("Call update is in progress", ImsReasonInfo.CODE_LOCAL_ILLEGAL_STATE);
        }
        if (mSession == null) {
            loge("update :: ");
            throw new ImsException("No call session", ImsReasonInfo.CODE_LOCAL_CALL_TERMINATED);
        }
        mSession.update(callType, mediaProfile);
        mUpdateRequest = UPDATE_UNSPECIFIED;
    }
}