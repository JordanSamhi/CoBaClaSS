public static InputStream convertAndRetrieveSharedConfigStoreFile(@SharedStoreFileId int storeFileId){
    if (storeFileId != STORE_FILE_SHARED_GENERAL && storeFileId != STORE_FILE_SHARED_SOFTAP) {
        throw new IllegalArgumentException("Invalid shared store file id");
    }
    try {
        return getSharedAtomicFile(storeFileId).openRead();
    } catch (FileNotFoundException e) {
        if (storeFileId == STORE_FILE_SHARED_SOFTAP) {
            return SoftApConfToXmlMigrationUtil.convert();
        }
        return null;
    }
}