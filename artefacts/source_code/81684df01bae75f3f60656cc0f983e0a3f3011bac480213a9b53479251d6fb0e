public void updateSimState(int phoneId, int simState){
    int state = mapSimStateToProto(simState);
    Integer lastSimState = mLastSimState.get(phoneId);
    if (lastSimState == null || !lastSimState.equals(state)) {
        mLastSimState.put(phoneId, state);
        addTelephonyEvent(new TelephonyEventBuilder().setSimStateChange(mLastSimState).build());
    }
}