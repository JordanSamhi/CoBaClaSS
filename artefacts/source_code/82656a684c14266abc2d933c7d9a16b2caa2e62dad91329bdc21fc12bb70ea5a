public void updateModel(ComponentName componentName){
    synchronized (mLock) {
        if (mRanker != null) {
            try {
                int selectedPos = new ArrayList<ComponentName>(mTargetsDict.keySet()).indexOf(componentName);
                if (selectedPos >= 0 && mTargets != null) {
                    final float selectedProbability = getScore(componentName);
                    int order = 0;
                    for (ResolverTarget target : mTargets) {
                        if (target.getSelectProbability() > selectedProbability) {
                            order++;
                        }
                    }
                    logMetrics(order);
                    mRanker.train(mTargets, selectedPos);
                } else {
                    if (DEBUG) {
                        Log.d(TAG, "Selected a unknown component: " + componentName);
                    }
                }
            } catch (RemoteException e) {
                Log.e(TAG, "Error in Train: " + e);
            }
        } else {
            if (DEBUG) {
                Log.d(TAG, "Ranker is null; skip updateModel.");
            }
        }
    }
}