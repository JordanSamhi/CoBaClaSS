public void setVoiceMessageCount(int countWaiting){
    mVmCount = countWaiting;
    int subId = getSubId();
    if (SubscriptionManager.isValidSubscriptionId(subId)) {
        Rlog.d(LOG_TAG, "setVoiceMessageCount: Storing Voice Mail Count = " + countWaiting + " for mVmCountKey = " + VM_COUNT + subId + " in preferences.");
        SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(mContext);
        SharedPreferences.Editor editor = sp.edit();
        editor.putInt(VM_COUNT + subId, countWaiting);
        editor.apply();
    } else {
        Rlog.e(LOG_TAG, "setVoiceMessageCount in sharedPreference: invalid subId " + subId);
    }
    IccRecords records = UiccController.getInstance().getIccRecords(mPhoneId, UiccController.APP_FAM_3GPP);
    if (records != null) {
        Rlog.d(LOG_TAG, "setVoiceMessageCount: updating SIM Records");
        records.setVoiceMessageWaiting(1, countWaiting);
    } else {
        Rlog.d(LOG_TAG, "setVoiceMessageCount: SIM Records not found");
    }
    notifyMessageWaitingIndicator();
}