public void setDimAmount(float amount){
    final WindowManager.LayoutParams attrs = getAttributes();
    attrs.dimAmount = amount;
    mHaveDimAmount = true;
    dispatchWindowAttributesChanged(attrs);
}