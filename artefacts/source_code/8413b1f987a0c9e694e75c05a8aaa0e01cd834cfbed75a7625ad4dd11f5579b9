public void requestAllCellInfo(WorkSource workSource, Message rspMsg){
    if (VDBG)
        log("SST.requestAllCellInfo(): E");
    if (mCi.getRilVersion() < 8) {
        AsyncResult.forMessage(rspMsg);
        rspMsg.sendToTarget();
        if (DBG)
            log("SST.requestAllCellInfo(): not implemented");
        return;
    }
    synchronized (mPendingCellInfoRequests) {
        if (mIsPendingCellInfoRequest) {
            if (rspMsg != null)
                mPendingCellInfoRequests.add(rspMsg);
            return;
        }
        final long curTime = SystemClock.elapsedRealtime();
        if ((curTime - mLastCellInfoReqTime) < mCellInfoMinIntervalMs) {
            if (rspMsg != null) {
                if (DBG)
                    log("SST.requestAllCellInfo(): return last, back to back calls");
                AsyncResult.forMessage(rspMsg, mLastCellInfoList, null);
                rspMsg.sendToTarget();
            }
            return;
        }
        if (rspMsg != null)
            mPendingCellInfoRequests.add(rspMsg);
        mLastCellInfoReqTime = curTime;
        mIsPendingCellInfoRequest = true;
        Message msg = obtainMessage(EVENT_GET_CELL_INFO_LIST);
        mCi.getCellInfoList(msg, workSource);
        sendMessageDelayed(obtainMessage(EVENT_GET_CELL_INFO_LIST), CELL_INFO_LIST_QUERY_TIMEOUT);
    }
}