public final int getForegroundServiceType(){
    int ret = ServiceInfo.FOREGROUND_SERVICE_TYPE_NONE;
    try {
        ret = mActivityManager.getForegroundServiceType(new ComponentName(this, mClassName), mToken);
    } catch (RemoteException ex) {
    }
    return ret;
}