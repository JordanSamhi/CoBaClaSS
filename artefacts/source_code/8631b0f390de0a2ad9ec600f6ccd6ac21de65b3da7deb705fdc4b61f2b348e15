public void setMaxEms(int maxEms){
    mMaxWidth = maxEms;
    mMaxWidthMode = EMS;
    requestLayout();
    invalidate();
}