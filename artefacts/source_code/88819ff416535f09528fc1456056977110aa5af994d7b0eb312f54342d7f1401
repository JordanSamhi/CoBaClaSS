public void enforce(long changeId, String packageName) throws SecurityException{
    switch(state) {
        case ALLOWED:
            return;
        case DISABLED_NOT_DEBUGGABLE:
            throw new SecurityException("Cannot override a change on a non-debuggable app and user build.");
        case DISABLED_NON_TARGET_SDK:
            throw new SecurityException("Cannot override a default enabled/disabled change on a user build.");
        case DISABLED_TARGET_SDK_TOO_HIGH:
            throw new SecurityException(String.format("Cannot override %1$d for %2$s because the app's targetSdk (%3$d) is " + "above the change's targetSdk threshold (%4$d)", changeId, packageName, appTargetSdk, changeIdTargetSdk));
        case PACKAGE_DOES_NOT_EXIST:
            throw new SecurityException(String.format("Cannot override %1$d for %2$s because the package does not exist, and " + "the change is targetSdk gated.", changeId, packageName));
        case LOGGING_ONLY_CHANGE:
            throw new SecurityException(String.format("Cannot override %1$d because it is marked as a logging-only change.", changeId));
    }
}