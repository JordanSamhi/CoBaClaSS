public void registerHealthObserver(PackageHealthObserver observer){
    synchronized (mLock) {
        ObserverInternal internalObserver = mAllObservers.get(observer.getName());
        if (internalObserver != null) {
            internalObserver.registeredObserver = observer;
        } else {
            internalObserver = new ObserverInternal(observer.getName(), new ArrayList<>());
            internalObserver.registeredObserver = observer;
            mAllObservers.put(observer.getName(), internalObserver);
            syncState("added new observer");
        }
    }
}