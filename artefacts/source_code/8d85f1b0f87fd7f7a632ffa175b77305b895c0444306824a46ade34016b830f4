public static ETC1Texture compressTexture(Buffer input, int width, int height, int pixelSize, int stride){
    int encodedImageSize = ETC1.getEncodedDataSize(width, height);
    ByteBuffer compressedImage = ByteBuffer.allocateDirect(encodedImageSize).order(ByteOrder.nativeOrder());
    ETC1.encodeImage(input, width, height, pixelSize, stride, compressedImage);
    return new ETC1Texture(width, height, compressedImage);
}