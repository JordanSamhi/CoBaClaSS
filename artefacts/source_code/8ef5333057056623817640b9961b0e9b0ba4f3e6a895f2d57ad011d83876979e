public static boolean isBundledSystemApp(ApplicationInfo ai){
    if (ai == null || ai.packageName == null) {
        return true;
    } else if (ai.isSystemApp()) {
        if (ai.packageName.equals("com.android.vending") || ai.packageName.equals("com.android.chrome")) {
            return false;
        }
        if (ai.packageName.equals("com.android.phone")) {
            return false;
        }
        if (ai.packageName.equals("android") || ai.packageName.startsWith("android.") || ai.packageName.startsWith("com.android.")) {
            return true;
        }
    }
    return false;
}