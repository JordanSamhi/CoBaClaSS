public void requestDownloadState(DownloadRequest downloadRequest, FileInfo fileInfo){
    IMbmsDownloadService downloadService = mService.get();
    if (downloadService == null) {
        throw new IllegalStateException("Middleware not yet bound");
    }
    try {
        int result = downloadService.requestDownloadState(downloadRequest, fileInfo);
        if (result == MbmsErrors.UNKNOWN) {
            close();
            throw new IllegalStateException("Middleware must not return an unknown error code");
        }
        if (result != MbmsErrors.SUCCESS) {
            if (result == MbmsErrors.DownloadErrors.ERROR_UNKNOWN_DOWNLOAD_REQUEST) {
                throw new IllegalArgumentException("Unknown download request.");
            }
            if (result == MbmsErrors.DownloadErrors.ERROR_UNKNOWN_FILE_INFO) {
                throw new IllegalArgumentException("Unknown file.");
            }
            sendErrorToApp(result, null);
        }
    } catch (RemoteException e) {
        mService.set(null);
        sIsInitialized.set(false);
        sendErrorToApp(MbmsErrors.ERROR_MIDDLEWARE_LOST, null);
    }
}