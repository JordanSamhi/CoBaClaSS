public void freezeDisplayRotation(int displayId, int rotation){
    if (!checkCallingPermission(android.Manifest.permission.SET_ORIENTATION, "freezeRotation()")) {
        throw new SecurityException("Requires SET_ORIENTATION permission");
    }
    if (rotation < -1 || rotation > Surface.ROTATION_270) {
        throw new IllegalArgumentException("Rotation argument must be -1 or a valid " + "rotation constant.");
    }
    long origId = Binder.clearCallingIdentity();
    try {
        synchronized (mGlobalLock) {
            final DisplayContent display = mRoot.getDisplayContent(displayId);
            if (display == null) {
                Slog.w(TAG, "Trying to freeze rotation for a missing display.");
                return;
            }
            display.getDisplayRotation().freezeRotation(rotation);
        }
    } finally {
        Binder.restoreCallingIdentity(origId);
    }
    updateRotationUnchecked(false, false);
}