public String getDeviceDisplayName(ScanResult sr){
    if (mRenameBytesFrom < 0 && mRenameNameFrom < 0) {
        return getDeviceDisplayNameInternal(sr.getDevice());
    }
    final StringBuilder sb = new StringBuilder(TextUtils.emptyIfNull(mRenamePrefix));
    if (mRenameBytesFrom >= 0) {
        final byte[] bytes = sr.getScanRecord().getBytes();
        int startInclusive = mRenameBytesFrom;
        int endInclusive = mRenameBytesFrom + mRenameBytesLength - 1;
        int initial = mRenameBytesReverseOrder ? endInclusive : startInclusive;
        int step = mRenameBytesReverseOrder ? -1 : 1;
        for (int i = initial; startInclusive <= i && i <= endInclusive; i += step) {
            sb.append(HexEncoding.encodeToString(bytes[i], true));
        }
    } else {
        sb.append(getDeviceDisplayNameInternal(sr.getDevice()).substring(mRenameNameFrom, mRenameNameFrom + mRenameNameLength));
    }
    return sb.append(TextUtils.emptyIfNull(mRenameSuffix)).toString();
}