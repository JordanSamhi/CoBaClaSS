public int compareTo(MediaDevice another){
    if (isConnected() ^ another.isConnected()) {
        if (isConnected()) {
            return -1;
        } else {
            return 1;
        }
    }
    if (mType == another.mType) {
        if (isFastPairDevice()) {
            return -1;
        } else if (another.isFastPairDevice()) {
            return 1;
        }
        if (isCarKitDevice()) {
            return -1;
        } else if (another.isCarKitDevice()) {
            return 1;
        }
        final String lastSelectedDevice = ConnectionRecordManager.getInstance().getLastSelectedDevice();
        if (TextUtils.equals(lastSelectedDevice, getId())) {
            return -1;
        } else if (TextUtils.equals(lastSelectedDevice, another.getId())) {
            return 1;
        }
        if ((mConnectedRecord != another.mConnectedRecord) && (another.mConnectedRecord > 0 || mConnectedRecord > 0)) {
            return (another.mConnectedRecord - mConnectedRecord);
        }
        final String s1 = getName();
        final String s2 = another.getName();
        return s1.compareToIgnoreCase(s2);
    } else {
        return mType < another.mType ? -1 : 1;
    }
}