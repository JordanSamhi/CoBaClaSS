public void updateUpstreamNetworkState(UpstreamNetworkState ns){
    if (VDBG) {
        Log.d(TAG, "updateUpstreamNetworkState: " + toDebugString(ns));
    }
    if (TetheringInterfaceUtils.getIPv6Interface(ns) == null) {
        stopIPv6TetheringOnAllInterfaces();
        setUpstreamNetworkState(null);
        return;
    }
    if (mUpstreamNetworkState != null && !ns.network.equals(mUpstreamNetworkState.network)) {
        stopIPv6TetheringOnAllInterfaces();
    }
    setUpstreamNetworkState(ns);
    updateIPv6TetheringInterfaces();
}