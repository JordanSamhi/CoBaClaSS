public static synchronized NfcDta getInstance(NfcAdapter adapter){
    if (adapter == null)
        throw new NullPointerException("NfcAdapter is null");
    Context context = adapter.getContext();
    if (context == null) {
        Log.e(TAG, "NfcAdapter context is null.");
        throw new UnsupportedOperationException();
    }
    NfcDta manager = sNfcDtas.get(context);
    if (manager == null) {
        INfcDta service = adapter.getNfcDtaInterface();
        if (service == null) {
            Log.e(TAG, "This device does not implement the INfcDta interface.");
            throw new UnsupportedOperationException();
        }
        manager = new NfcDta(context, service);
        sNfcDtas.put(context, manager);
    }
    return manager;
}