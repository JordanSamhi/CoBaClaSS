public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState){
    Optional.of(getDialog()).map(Dialog::getWindow).ifPresent(window -> {
        window.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
    });
    List<Pair<Drawable, CharSequence>> items = mTargetInfos.stream().map(dri -> {
        return new Pair<>(getItemIcon(dri), getItemLabel(dri));
    }).collect(toList());
    View v = inflater.inflate(R.layout.chooser_dialog, container, false);
    TextView title = v.findViewById(R.id.title);
    ImageView icon = v.findViewById(R.id.icon);
    RecyclerView rv = v.findViewById(R.id.listContainer);
    final ResolveInfoPresentationGetter pg = getProvidingAppPresentationGetter();
    title.setText(pg.getLabel());
    icon.setImageDrawable(pg.getIcon(mUserHandle));
    rv.setAdapter(new VHAdapter(items));
    return v;
}