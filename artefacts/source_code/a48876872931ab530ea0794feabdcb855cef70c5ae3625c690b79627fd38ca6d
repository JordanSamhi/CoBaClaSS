public static int appInfoPrivateFlags(AndroidPackage pkg, @Nullable PackageSetting pkgSetting){
    int pkgWithoutStateFlags = PackageInfoWithoutStateUtils.appInfoPrivateFlags(pkg) | flag(pkg.isSystemExt(), ApplicationInfo.PRIVATE_FLAG_SYSTEM_EXT) | flag(pkg.isPrivileged(), ApplicationInfo.PRIVATE_FLAG_PRIVILEGED) | flag(pkg.isOem(), ApplicationInfo.PRIVATE_FLAG_OEM) | flag(pkg.isVendor(), ApplicationInfo.PRIVATE_FLAG_VENDOR) | flag(pkg.isProduct(), ApplicationInfo.PRIVATE_FLAG_PRODUCT) | flag(pkg.isOdm(), ApplicationInfo.PRIVATE_FLAG_ODM) | flag(pkg.isSignedWithPlatformKey(), ApplicationInfo.PRIVATE_FLAG_SIGNED_WITH_PLATFORM_KEY);
    return appInfoPrivateFlags(pkgWithoutStateFlags, pkgSetting);
}