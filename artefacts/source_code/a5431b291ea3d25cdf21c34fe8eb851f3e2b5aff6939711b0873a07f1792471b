public static void setUpTransportsForTransportManager(ShadowPackageManager shadowPackageManager, TransportData... transports) throws Exception{
    for (TransportData transport : transports) {
        if (transport.transportStatus == TransportStatus.UNREGISTERED) {
            continue;
        }
        ComponentName transportComponent = transport.getTransportComponent();
        String packageName = transportComponent.getPackageName();
        ResolveInfo resolveInfo = resolveInfo(transportComponent);
        shadowPackageManager.addResolveInfoForIntent(transportIntent(), resolveInfo);
        shadowPackageManager.addResolveInfoForIntent(transportIntent().setPackage(packageName), resolveInfo);
    }
}