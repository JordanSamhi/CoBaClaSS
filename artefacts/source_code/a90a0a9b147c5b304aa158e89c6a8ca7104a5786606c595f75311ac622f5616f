public static void showSystemBars(final Window window, final Context context){
    if (VERSION.SDK_INT >= VERSION_CODES.LOLLIPOP) {
        removeVisibilityFlag(window, DEFAULT_IMMERSIVE_FLAGS);
        removeImmersiveFlagsFromDecorView(window, DEFAULT_IMMERSIVE_FLAGS);
        if (context != null) {
            final TypedArray typedArray = context.obtainStyledAttributes(new int[] { android.R.attr.statusBarColor, android.R.attr.navigationBarColor });
            final int statusBarColor = typedArray.getColor(0, 0);
            final int navigationBarColor = typedArray.getColor(1, 0);
            window.setStatusBarColor(statusBarColor);
            window.setNavigationBarColor(navigationBarColor);
            typedArray.recycle();
        }
    }
}