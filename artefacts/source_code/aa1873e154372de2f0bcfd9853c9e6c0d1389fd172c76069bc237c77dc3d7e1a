public InputMethodSubtype getCurrentInputMethodSubtype(){
    synchronized (mMethodMap) {
        if (!calledFromValidUserLocked()) {
            return null;
        }
        return getCurrentInputMethodSubtypeLocked();
    }
}