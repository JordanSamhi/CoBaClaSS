public void setExpandedChild(@Nullable View child){
    if (mExpandedChild != null) {
        mPreviousExpandedRemoteInputIntent = null;
        if (mExpandedRemoteInput != null) {
            mExpandedRemoteInput.onNotificationUpdateOrReset();
            if (mExpandedRemoteInput.isActive()) {
                mPreviousExpandedRemoteInputIntent = mExpandedRemoteInput.getPendingIntent();
                mCachedExpandedRemoteInput = mExpandedRemoteInput;
                mExpandedRemoteInput.dispatchStartTemporaryDetach();
                ((ViewGroup) mExpandedRemoteInput.getParent()).removeView(mExpandedRemoteInput);
            }
        }
        mOnContentViewInactiveListeners.remove(mExpandedChild);
        mExpandedChild.animate().cancel();
        removeView(mExpandedChild);
        mExpandedRemoteInput = null;
    }
    if (child == null) {
        mExpandedChild = null;
        mExpandedWrapper = null;
        if (mTransformationStartVisibleType == VISIBLE_TYPE_EXPANDED) {
            mTransformationStartVisibleType = VISIBLE_TYPE_NONE;
        }
        if (mVisibleType == VISIBLE_TYPE_EXPANDED) {
            selectLayout(false, true);
        }
        return;
    }
    addView(child);
    mExpandedChild = child;
    mExpandedWrapper = NotificationViewWrapper.wrap(getContext(), child, mContainingNotification);
    if (mContainingNotification != null) {
        applyBubbleAction(mExpandedChild, mContainingNotification.getEntry());
    }
}