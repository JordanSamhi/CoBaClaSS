public static int computeTargetSdkVersion(@IntRange(from = 0) int targetVers, @Nullable String targetCode, @NonNull String[] platformSdkCodenames, @NonNull String[] outError){
    if (targetCode == null) {
        return targetVers;
    }
    if (matchTargetCode(platformSdkCodenames, targetCode)) {
        return Build.VERSION_CODES.CUR_DEVELOPMENT;
    }
    if (platformSdkCodenames.length > 0) {
        outError[0] = "Requires development platform " + targetCode + " (current platform is any of " + Arrays.toString(platformSdkCodenames) + ")";
    } else {
        outError[0] = "Requires development platform " + targetCode + " but this is a release platform.";
    }
    return -1;
}