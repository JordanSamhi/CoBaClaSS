public List<InputMethodSubtype> getEnabledInputMethodSubtypeList(String imiId, boolean allowsImplicitlySelectedSubtypes){
    final int callingUserId = UserHandle.getCallingUserId();
    synchronized (mMethodMap) {
        final int[] resolvedUserIds = InputMethodUtils.resolveUserId(callingUserId, mSettings.getCurrentUserId(), null);
        if (resolvedUserIds.length != 1) {
            return Collections.emptyList();
        }
        final long ident = Binder.clearCallingIdentity();
        try {
            return getEnabledInputMethodSubtypeListLocked(imiId, allowsImplicitlySelectedSubtypes, resolvedUserIds[0]);
        } finally {
            Binder.restoreCallingIdentity(ident);
        }
    }
}