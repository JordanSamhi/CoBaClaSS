public static int copy(byte[] src, int srcOffset, byte[] dst, int dstOffset, int length){
    if (dst == null || src == null) {
        return 0;
    }
    if (length > dst.length - dstOffset) {
        length = dst.length - dstOffset;
    }
    if (length > src.length - srcOffset) {
        length = src.length - srcOffset;
    }
    if (length <= 0) {
        return 0;
    }
    System.arraycopy(src, srcOffset, dst, dstOffset, length);
    return length;
}