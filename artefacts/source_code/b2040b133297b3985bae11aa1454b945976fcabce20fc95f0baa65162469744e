public static NetworkCapabilities networkCapabilitiesForType(int type){
    final NetworkCapabilities nc = new NetworkCapabilities();
    final int NOT_FOUND = -1;
    final int transport = sLegacyTypeToTransport.get(type, NOT_FOUND);
    Preconditions.checkArgument(transport != NOT_FOUND, "unknown legacy type: " + type);
    nc.addTransportType(transport);
    nc.addCapability(sLegacyTypeToCapability.get(type, NetworkCapabilities.NET_CAPABILITY_INTERNET));
    nc.maybeMarkCapabilitiesRestricted();
    return nc;
}