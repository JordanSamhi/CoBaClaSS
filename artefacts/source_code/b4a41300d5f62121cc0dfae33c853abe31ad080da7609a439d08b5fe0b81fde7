public static int getWidth(Context context){
    Display d = context.getDisplay();
    DisplayMetrics dm = new DisplayMetrics();
    d.getRealMetrics(dm);
    int rotation = d.getRotation();
    if (rotation == Surface.ROTATION_0 || rotation == Surface.ROTATION_180) {
        return dm.widthPixels;
    } else {
        return dm.heightPixels;
    }
}