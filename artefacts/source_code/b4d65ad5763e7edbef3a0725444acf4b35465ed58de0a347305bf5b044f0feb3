public void addRegistrationListener(ImsConnectionStateListener listener) throws ImsException{
    if (listener == null) {
        throw new NullPointerException("listener can't be null");
    }
    addRegistrationCallback(listener);
    addCapabilitiesCallback(new ImsMmTelManager.CapabilityCallback() {

        @Override
        public void onCapabilitiesStatusChanged(MmTelFeature.MmTelCapabilities capabilities) {
            listener.onFeatureCapabilityChangedAdapter(getRegistrationTech(), capabilities);
        }
    });
    log("Registration Callback registered.");
}