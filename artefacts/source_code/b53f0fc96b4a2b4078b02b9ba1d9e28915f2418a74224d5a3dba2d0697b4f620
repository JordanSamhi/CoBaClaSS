public static void initVmDefaults(ApplicationInfo ai){
    final VmPolicy.Builder builder = new VmPolicy.Builder();
    final int targetSdkVersion = (ai != null) ? ai.targetSdkVersion : Build.VERSION_CODES.CUR_DEVELOPMENT;
    if (targetSdkVersion >= Build.VERSION_CODES.N) {
        builder.detectFileUriExposure();
        builder.penaltyDeathOnFileUriExposure();
    }
    if (Build.IS_USER || DISABLE || SystemProperties.getBoolean(DISABLE_PROPERTY, false)) {
    } else if (Build.IS_USERDEBUG) {
        if (isBundledSystemApp(ai)) {
            builder.detectAll();
            builder.permitActivityLeaks();
            builder.penaltyDropBox();
        }
    } else if (Build.IS_ENG) {
        if (isBundledSystemApp(ai)) {
            builder.detectAll();
            builder.penaltyDropBox();
            builder.penaltyLog();
        }
    }
    setVmPolicy(builder.build());
}