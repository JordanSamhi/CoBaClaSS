public synchronized void setError(int error){
    mCurrentError = error;
    doStateTransition(STATE_ERROR);
}