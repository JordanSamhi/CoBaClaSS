public int removePackage(String packageName, long timeRemoved){
    removedPackagesMap.put(packageName, timeRemoved);
    if (!packagesToTokensMap.containsKey(packageName)) {
        return UNASSIGNED_TOKEN;
    }
    final int packageToken = packagesToTokensMap.get(packageName).get(packageName);
    packagesToTokensMap.remove(packageName);
    tokensToPackagesMap.delete(packageToken);
    return packageToken;
}