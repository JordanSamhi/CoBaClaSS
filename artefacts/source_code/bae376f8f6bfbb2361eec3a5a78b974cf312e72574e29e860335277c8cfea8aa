public void handleConnectionAttemptEnded(int failureCode, @NonNull WifiConfiguration network, @Nullable String bssid){
    if (mVerboseLoggingEnabled) {
        Log.v(TAG, "handleConnectionAttemptEnded " + failureCode + ", " + network);
    }
    resetConnectionState();
    if (failureCode == WifiMetrics.ConnectionEvent.FAILURE_NONE) {
        handleConnectionSuccess(network, bssid);
    } else {
        handleConnectionFailure(network, bssid, failureCode);
    }
}