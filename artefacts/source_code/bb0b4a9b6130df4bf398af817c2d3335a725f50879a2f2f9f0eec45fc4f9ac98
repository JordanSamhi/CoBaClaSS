public ArrayList<ApnSetting> fetchDunApns(){
    int bearer = getDataRat();
    ArrayList<ApnSetting> dunCandidates = new ArrayList<ApnSetting>();
    ArrayList<ApnSetting> retDunSettings = new ArrayList<ApnSetting>();
    String apnData = Settings.Global.getString(mResolver, Settings.Global.TETHER_DUN_APN);
    if (!TextUtils.isEmpty(apnData)) {
        dunCandidates.addAll(ApnSetting.arrayFromString(apnData));
        if (VDBG)
            log("fetchDunApns: dunCandidates from Setting: " + dunCandidates);
    }
    if (dunCandidates.isEmpty()) {
        if (!ArrayUtils.isEmpty(mAllApnSettings)) {
            for (ApnSetting apn : mAllApnSettings) {
                if (apn.canHandleType(ApnSetting.TYPE_DUN)) {
                    dunCandidates.add(apn);
                }
            }
            if (VDBG)
                log("fetchDunApns: dunCandidates from database: " + dunCandidates);
        }
    }
    for (ApnSetting dunSetting : dunCandidates) {
        if (!dunSetting.canSupportNetworkType(ServiceState.rilRadioTechnologyToNetworkType(bearer))) {
            continue;
        }
        retDunSettings.add(dunSetting);
    }
    if (VDBG)
        log("fetchDunApns: dunSettings=" + retDunSettings);
    return retDunSettings;
}