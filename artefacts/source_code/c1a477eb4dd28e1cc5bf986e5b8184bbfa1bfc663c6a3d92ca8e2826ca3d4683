public void setWifiState(boolean enabled){
    if (mVerboseLoggingEnabled)
        Log.v(TAG, "setWifiState " + enabled);
    if (enabled) {
        reevaluateAllRequests();
    } else {
        if (mActiveSpecificNetworkRequest != null) {
            Log.w(TAG, "Wifi off, cancelling " + mActiveSpecificNetworkRequest);
            teardownForActiveRequest();
        }
        if (mConnectedSpecificNetworkRequest != null) {
            Log.w(TAG, "Wifi off, cancelling " + mConnectedSpecificNetworkRequest);
            teardownForConnectedNetwork();
        }
    }
    mWifiEnabled = enabled;
}