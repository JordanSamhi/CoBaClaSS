public int getStreamVolume(int streamType){
    ensureValidStreamType(streamType);
    int device = getDeviceForStream(streamType);
    synchronized (VolumeStreamState.class) {
        int index = mStreamStates[streamType].getIndex(device);
        if (mStreamStates[streamType].mIsMuted) {
            index = 0;
        }
        if (index != 0 && (mStreamVolumeAlias[streamType] == AudioSystem.STREAM_MUSIC) && isFixedVolumeDevice(device)) {
            index = mStreamStates[streamType].getMaxIndex();
        }
        return (index + 5) / 10;
    }
}