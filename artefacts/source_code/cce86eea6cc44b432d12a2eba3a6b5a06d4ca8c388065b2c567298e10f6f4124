public void startDeferring(final int uid){
    synchronized (mLock) {
        Deferrals d = findUidLocked(uid);
        if (d == null) {
            final long now = SystemClock.uptimeMillis();
            d = new Deferrals(uid, now, mConstants.DEFERRAL, mAlarmUids.get(uid, 0));
            if (DEBUG_BROADCAST_DEFERRAL) {
                Slog.i(TAG, "Now deferring broadcasts to " + uid + " until " + d.deferUntil);
            }
            if (d.alarmCount == 0) {
                insertLocked(mDeferredBroadcasts, d);
                scheduleDeferralCheckLocked(true);
            } else {
                mAlarmBroadcasts.add(d);
            }
        } else {
            d.deferredBy = mConstants.DEFERRAL;
            if (DEBUG_BROADCAST_DEFERRAL) {
                Slog.i(TAG, "Uid " + uid + " slow again, deferral interval reset to " + d.deferredBy);
            }
        }
    }
}