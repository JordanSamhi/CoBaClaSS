public synchronized int getActiveAppVpnType(){
    if (VpnConfig.LEGACY_VPN.equals(mPackage)) {
        return VpnManager.TYPE_VPN_NONE;
    }
    if (mVpnRunner != null && mVpnRunner instanceof IkeV2VpnRunner) {
        return VpnManager.TYPE_VPN_PLATFORM;
    } else {
        return VpnManager.TYPE_VPN_SERVICE;
    }
}