public static void throwExceptionForResult(@Tuner.Result int r, @Nullable String msg){
    if (msg == null) {
        msg = "";
    }
    switch(r) {
        case Tuner.RESULT_SUCCESS:
            return;
        case Tuner.RESULT_INVALID_ARGUMENT:
            throw new IllegalArgumentException(msg);
        case Tuner.RESULT_INVALID_STATE:
            throw new IllegalStateException(msg);
        case Tuner.RESULT_NOT_INITIALIZED:
            throw new IllegalStateException("Invalid state: not initialized. " + msg);
        case Tuner.RESULT_OUT_OF_MEMORY:
            throw new OutOfMemoryError(msg);
        case Tuner.RESULT_UNAVAILABLE:
            throw new IllegalStateException("Invalid state: resource unavailable. " + msg);
        case Tuner.RESULT_UNKNOWN_ERROR:
            throw new RuntimeException("Unknown error" + msg);
        default:
            break;
    }
    throw new RuntimeException("Unexpected result " + r + ".  " + msg);
}