public static HidlMemory byteListToHidlMemory(@NonNull List<Byte> input, @Nullable String name){
    Preconditions.checkNotNull(input);
    if (input.isEmpty()) {
        return new HidlMemory("ashmem", 0, null);
    }
    try {
        SharedMemory shmem = SharedMemory.create(name != null ? name : "", input.size());
        ByteBuffer buffer = shmem.mapReadWrite();
        for (Byte b : input) {
            buffer.put(b);
        }
        shmem.unmap(buffer);
        return sharedMemoryToHidlMemory(shmem);
    } catch (ErrnoException e) {
        throw new RuntimeException(e);
    }
}