public static List<ExtconInfo> getExtconInfos(@Nullable String regex){
    if (!extconExists()) {
        return new ArrayList<>(0);
    }
    Pattern p = regex == null ? null : Pattern.compile(regex);
    File file = new File("/sys/class/extcon");
    File[] files = file.listFiles();
    if (files == null) {
        Slog.wtf(TAG, file + " exists " + file.exists() + " isDir " + file.isDirectory() + " but listFiles returns null. " + SELINUX_POLICIES_NEED_TO_BE_CHANGED);
        return new ArrayList<>(0);
    } else {
        ArrayList list = new ArrayList(files.length);
        for (File f : files) {
            String name = f.getName();
            if (p == null || p.matcher(name).matches()) {
                ExtconInfo uei = new ExtconInfo(name);
                list.add(uei);
                if (LOG)
                    Slog.d(TAG, name + " matches " + regex);
            } else {
                if (LOG)
                    Slog.d(TAG, name + " does not match " + regex);
            }
        }
        return list;
    }
}