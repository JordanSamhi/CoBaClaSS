public int encodeSmdxSubjectAndReasonCode(@Nullable String subjectCode, @Nullable String reasonCode) throws NumberFormatException, IllegalArgumentException, UnsupportedOperationException{
    final int maxSupportedSection = 3;
    final int maxSupportedDigit = 15;
    final int bitsPerSection = 4;
    if (TextUtils.isEmpty(subjectCode) || TextUtils.isEmpty(reasonCode)) {
        throw new IllegalArgumentException("SubjectCode/ReasonCode is empty");
    }
    final String[] subjectCodeToken = subjectCode.split("\\.");
    final String[] reasonCodeToken = reasonCode.split("\\.");
    if (subjectCodeToken.length > maxSupportedSection || reasonCodeToken.length > maxSupportedSection) {
        throw new UnsupportedOperationException("Only three nested layer is supported.");
    }
    int result = EuiccManager.OPERATION_SMDX_SUBJECT_REASON_CODE;
    result = result << (maxSupportedSection - subjectCodeToken.length) * bitsPerSection;
    for (String digitString : subjectCodeToken) {
        int num = Integer.parseInt(digitString);
        if (num > maxSupportedDigit) {
            throw new UnsupportedOperationException("SubjectCode exceeds " + maxSupportedDigit);
        }
        result = (result << bitsPerSection) + num;
    }
    result = result << (maxSupportedSection - reasonCodeToken.length) * bitsPerSection;
    for (String digitString : reasonCodeToken) {
        int num = Integer.parseInt(digitString);
        if (num > maxSupportedDigit) {
            throw new UnsupportedOperationException("ReasonCode exceeds " + maxSupportedDigit);
        }
        result = (result << bitsPerSection) + num;
    }
    return result;
}