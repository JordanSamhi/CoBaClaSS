public void setVisibility(boolean on, SurfaceControl.Transaction t){
    if (mSurfaceControl == null) {
        return;
    }
    mVisible = on;
    drawIfNeeded(t);
    if (on) {
        t.show(mSurfaceControl);
    } else {
        t.hide(mSurfaceControl);
    }
}