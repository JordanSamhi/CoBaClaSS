public void writeStackTrace(@NonNull Throwable e){
    final int sizePosition = dataPosition();
    writeInt(0);
    StackTraceElement[] stackTrace = e.getStackTrace();
    final int truncatedSize = Math.min(stackTrace.length, 5);
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < truncatedSize; i++) {
        sb.append("\tat ").append(stackTrace[i]).append('\n');
    }
    writeString(sb.toString());
    final int payloadPosition = dataPosition();
    setDataPosition(sizePosition);
    writeInt(payloadPosition - sizePosition);
    setDataPosition(payloadPosition);
}