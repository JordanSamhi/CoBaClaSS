public LinkProperties getActiveLinkProperties(){
    enforceAccessPermission();
    final int uid = Binder.getCallingUid();
    NetworkState state = getUnfilteredActiveNetworkState(uid);
    if (state.linkProperties == null)
        return null;
    return linkPropertiesRestrictedForCallerPermissions(state.linkProperties, Binder.getCallingPid(), uid);
}