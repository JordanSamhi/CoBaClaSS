public Bundle toBundle(){
    Bundle bundle = new Bundle();
    if (mText != null) {
        bundle.putCharSequence(KEY_TEXT, mText);
    }
    bundle.putLong(KEY_TIMESTAMP, mTimestamp);
    if (mSender != null) {
        bundle.putCharSequence(KEY_SENDER, mSender.getName());
        bundle.putParcelable(KEY_SENDER_PERSON, mSender);
    }
    if (mDataMimeType != null) {
        bundle.putString(KEY_DATA_MIME_TYPE, mDataMimeType);
    }
    if (mDataUri != null) {
        bundle.putParcelable(KEY_DATA_URI, mDataUri);
    }
    if (mExtras != null) {
        bundle.putBundle(KEY_EXTRAS_BUNDLE, mExtras);
    }
    if (mRemoteInputHistory) {
        bundle.putBoolean(KEY_REMOTE_INPUT_HISTORY, mRemoteInputHistory);
    }
    return bundle;
}