public Matrix getPreviewTransform(int currentDisplayOrientation, RectF surfaceDimensions, RectF desiredBounds){
    if (!orientationIsValid(currentDisplayOrientation) || surfaceDimensions.equals(desiredBounds)) {
        return new Matrix();
    }
    Matrix transform = new Matrix();
    transform.setRectToRect(surfaceDimensions, desiredBounds, Matrix.ScaleToFit.FILL);
    return transform;
}