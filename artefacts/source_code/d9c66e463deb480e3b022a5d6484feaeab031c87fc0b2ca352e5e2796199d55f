public static Set<T> add(@Nullable Set<T> cur, T val){
    if (cur == null || cur == emptySet()) {
        cur = new ArraySet<>();
    }
    cur.add(val);
    return cur;
}