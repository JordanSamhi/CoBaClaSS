public boolean addGnssBatchingCallback(IBatchedLocationCallback callback, String packageName, @Nullable String featureId){
    mContext.enforceCallingPermission(Manifest.permission.LOCATION_HARDWARE, null);
    mContext.enforceCallingPermission(Manifest.permission.ACCESS_FINE_LOCATION, null);
    CallerIdentity identity = CallerIdentity.fromBinder(mContext, packageName, featureId);
    synchronized (mGnssBatchingLock) {
        mGnssBatchingCallback = callback;
        mGnssBatchingDeathCallback = new LinkedListener<>(null, callback, identity, (IBatchedLocationCallback listener) -> {
            stopGnssBatch();
            removeGnssBatchingCallback();
        });
        return mGnssBatchingDeathCallback.linkToListenerDeathNotificationLocked(callback.asBinder());
    }
}