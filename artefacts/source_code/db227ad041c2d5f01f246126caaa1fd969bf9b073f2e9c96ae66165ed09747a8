public static InputMethodManager forContext(Context context){
    final int displayId = context.getDisplayId();
    final Looper looper = displayId == Display.DEFAULT_DISPLAY ? Looper.getMainLooper() : context.getMainLooper();
    return forContextInternal(displayId, looper);
}