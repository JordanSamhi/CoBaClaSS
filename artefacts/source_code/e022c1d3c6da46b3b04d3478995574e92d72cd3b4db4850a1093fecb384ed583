public void startTcpKeepalive(@Nullable NetworkAgentInfo nai, @NonNull FileDescriptor fd, int intervalSeconds, @NonNull ISocketKeepaliveCallback cb){
    if (nai == null) {
        notifyErrorCallback(cb, ERROR_INVALID_NETWORK);
        return;
    }
    final TcpKeepalivePacketData packet;
    try {
        packet = TcpKeepaliveController.getTcpKeepalivePacket(fd);
    } catch (InvalidSocketException e) {
        notifyErrorCallback(cb, e.error);
        return;
    } catch (InvalidPacketException e) {
        notifyErrorCallback(cb, e.getError());
        return;
    }
    KeepaliveInfo ki = null;
    try {
        ki = new KeepaliveInfo(cb, nai, packet, intervalSeconds, KeepaliveInfo.TYPE_TCP, fd);
    } catch (InvalidSocketException | IllegalArgumentException | SecurityException e) {
        Log.e(TAG, "Fail to construct keepalive e=" + e);
        notifyErrorCallback(cb, ERROR_INVALID_SOCKET);
        return;
    }
    Log.d(TAG, "Created keepalive: " + ki.toString());
    mConnectivityServiceHandler.obtainMessage(CMD_START_SOCKET_KEEPALIVE, ki).sendToTarget();
}