public RemoteAnimationAdapter getAdapter(@TransitionType int transition, ArraySet<Integer> activityTypes){
    final RemoteAnimationAdapterEntry entry = mTransitionAnimationMap.get(transition);
    if (entry == null) {
        return null;
    }
    if (entry.activityTypeFilter == ACTIVITY_TYPE_UNDEFINED || activityTypes.contains(entry.activityTypeFilter)) {
        return entry.adapter;
    } else {
        return null;
    }
}