public void handleConnectionFailure(){
    if (mState != STATE_CONNECTING_IN_NOTIFICATION) {
        return;
    }
    postNotification(mNotificationBuilder.createNetworkFailedNotification(mTag));
    Log.d(mTag, "User failed to connect to recommended network: " + "\"" + mRecommendedNetwork.SSID + "\"");
    mWifiMetrics.incrementConnectToNetworkNotification(mTag, ConnectToNetworkNotificationAndActionCount.NOTIFICATION_FAILED_TO_CONNECT);
    mState = STATE_CONNECT_FAILED_NOTIFICATION;
    mHandler.postDelayed(() -> {
        if (mState == STATE_CONNECT_FAILED_NOTIFICATION) {
            clearPendingNotification(false);
        }
    }, TIME_TO_SHOW_FAILED_MILLIS);
}