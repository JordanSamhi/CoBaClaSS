public static int computeSampleSize(int width, int height, int minSideLength, int maxNumOfPixels){
    int initialSize = computeInitialSampleSize(width, height, minSideLength, maxNumOfPixels);
    return initialSize <= 8 ? Utils.nextPowerOf2(initialSize) : (initialSize + 7) / 8 * 8;
}