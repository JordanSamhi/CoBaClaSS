public void updateSavedNetworks(List<WifiConfiguration> networks){
    synchronized (mLock) {
        mWifiLogProto.numSavedNetworks = networks.size();
        mWifiLogProto.numSavedNetworksWithMacRandomization = 0;
        mWifiLogProto.numOpenNetworks = 0;
        mWifiLogProto.numLegacyPersonalNetworks = 0;
        mWifiLogProto.numLegacyEnterpriseNetworks = 0;
        mWifiLogProto.numEnhancedOpenNetworks = 0;
        mWifiLogProto.numWpa3PersonalNetworks = 0;
        mWifiLogProto.numWpa3EnterpriseNetworks = 0;
        mWifiLogProto.numWapiPersonalNetworks = 0;
        mWifiLogProto.numWapiEnterpriseNetworks = 0;
        mWifiLogProto.numNetworksAddedByUser = 0;
        mWifiLogProto.numNetworksAddedByApps = 0;
        mWifiLogProto.numHiddenNetworks = 0;
        mWifiLogProto.numPasspointNetworks = 0;
        for (WifiConfiguration config : networks) {
            if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.NONE)) {
                mWifiLogProto.numOpenNetworks++;
            } else if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.OWE)) {
                mWifiLogProto.numEnhancedOpenNetworks++;
            } else if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.WAPI_PSK)) {
                mWifiLogProto.numWapiPersonalNetworks++;
            } else if (config.isEnterprise()) {
                if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.SUITE_B_192)) {
                    mWifiLogProto.numWpa3EnterpriseNetworks++;
                } else if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.WAPI_CERT)) {
                    mWifiLogProto.numWapiEnterpriseNetworks++;
                } else {
                    mWifiLogProto.numLegacyEnterpriseNetworks++;
                }
            } else {
                if (config.allowedKeyManagement.get(WifiConfiguration.KeyMgmt.SAE)) {
                    mWifiLogProto.numWpa3PersonalNetworks++;
                } else {
                    mWifiLogProto.numLegacyPersonalNetworks++;
                }
            }
            mWifiLogProto.numNetworksAddedByApps++;
            if (config.hiddenSSID) {
                mWifiLogProto.numHiddenNetworks++;
            }
            if (config.isPasspoint()) {
                mWifiLogProto.numPasspointNetworks++;
            }
            if (config.macRandomizationSetting == WifiConfiguration.RANDOMIZATION_PERSISTENT) {
                mWifiLogProto.numSavedNetworksWithMacRandomization++;
            }
        }
    }
}