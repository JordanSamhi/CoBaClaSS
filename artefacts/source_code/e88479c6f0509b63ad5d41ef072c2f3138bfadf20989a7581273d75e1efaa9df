public List<SubscriptionInfo> getActiveSubscriptionInfoList(boolean userVisibleOnly){
    List<SubscriptionInfo> activeList = null;
    try {
        ISub iSub = TelephonyManager.getSubscriptionService();
        if (iSub != null) {
            activeList = iSub.getActiveSubscriptionInfoList(mContext.getOpPackageName(), mContext.getAttributionTag());
        }
    } catch (RemoteException ex) {
    }
    if (!userVisibleOnly || activeList == null) {
        return activeList;
    } else {
        return activeList.stream().filter(subInfo -> isSubscriptionVisible(subInfo)).collect(Collectors.toList());
    }
}