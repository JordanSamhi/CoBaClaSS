public boolean isHardwareDetected(String opPackageName){
    if (!canUseBiometric(opPackageName, false, Binder.getCallingUid(), Binder.getCallingPid(), UserHandle.getCallingUserId())) {
        return false;
    }
    final long token = Binder.clearCallingIdentity();
    try {
        IBiometricsFingerprint daemon = getFingerprintDaemon();
        return daemon != null && mHalDeviceId != 0;
    } finally {
        Binder.restoreCallingIdentity(token);
    }
}