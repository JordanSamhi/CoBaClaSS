public static Size getSurfaceSize(Surface surface) throws BufferQueueAbandonedException{
    checkNotNull(surface);
    int[] dimens = new int[2];
    LegacyExceptionUtils.throwOnError(nativeDetectSurfaceDimens(surface, dimens));
    return new Size(dimens[0], dimens[1]);
}