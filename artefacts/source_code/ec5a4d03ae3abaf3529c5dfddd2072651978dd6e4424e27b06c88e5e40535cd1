public static String flagsToString(Class<?> clazz, String field, int flags){
    final FlagToString[] mapping = getFlagMapping(clazz, field);
    if (mapping == null) {
        return Integer.toHexString(flags);
    }
    final StringBuilder result = new StringBuilder();
    final int count = mapping.length;
    for (int j = 0; j < count; j++) {
        final FlagToString flagMapping = mapping[j];
        final boolean ifTrue = flagMapping.outputIf();
        final int maskResult = flags & flagMapping.mask();
        final boolean test = maskResult == flagMapping.equals();
        if (test && ifTrue) {
            final String name = flagMapping.name();
            result.append(name).append(' ');
        }
    }
    if (result.length() > 0) {
        result.deleteCharAt(result.length() - 1);
    }
    return result.toString();
}