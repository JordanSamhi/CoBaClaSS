public boolean satisfiesNetworkSpecifier(@NonNull WifiNetworkSpecifier ns){
    checkNotNull(ns);
    checkNotNull(ns.ssidPatternMatcher);
    checkNotNull(ns.bssidPatternMatcher);
    checkNotNull(ns.wifiConfiguration.allowedKeyManagement);
    checkNotNull(this.mWifiConfiguration.SSID);
    checkNotNull(this.mWifiConfiguration.BSSID);
    checkNotNull(this.mWifiConfiguration.allowedKeyManagement);
    final String ssidWithQuotes = this.mWifiConfiguration.SSID;
    checkState(ssidWithQuotes.startsWith("\"") && ssidWithQuotes.endsWith("\""));
    final String ssidWithoutQuotes = ssidWithQuotes.substring(1, ssidWithQuotes.length() - 1);
    if (!ns.ssidPatternMatcher.match(ssidWithoutQuotes)) {
        return false;
    }
    final MacAddress bssid = MacAddress.fromString(this.mWifiConfiguration.BSSID);
    final MacAddress matchBaseAddress = ns.bssidPatternMatcher.first;
    final MacAddress matchMask = ns.bssidPatternMatcher.second;
    if (!bssid.matches(matchBaseAddress, matchMask)) {
        return false;
    }
    if (!ns.wifiConfiguration.allowedKeyManagement.equals(this.mWifiConfiguration.allowedKeyManagement)) {
        return false;
    }
    return true;
}