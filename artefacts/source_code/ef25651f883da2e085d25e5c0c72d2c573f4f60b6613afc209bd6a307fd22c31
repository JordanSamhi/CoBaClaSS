public boolean isUidNetworkingBlocked(int uid, String ifname){
    final long startTime = mStatLogger.getTime();
    final int uidRules;
    final boolean isBackgroundRestricted;
    synchronized (mUidRulesFirstLock) {
        uidRules = mUidRules.get(uid, RULE_NONE);
        isBackgroundRestricted = mRestrictBackground;
    }
    final boolean isNetworkMetered;
    synchronized (mNetworkPoliciesSecondLock) {
        isNetworkMetered = mMeteredIfaces.contains(ifname);
    }
    final boolean ret = isUidNetworkingBlockedInternal(uid, uidRules, isNetworkMetered, isBackgroundRestricted, mLogger);
    mStatLogger.logDurationStat(Stats.IS_UID_NETWORKING_BLOCKED, startTime);
    return ret;
}