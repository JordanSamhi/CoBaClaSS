public List<MediaRoute2Info> getRoutes(){
    synchronized (sRouterLock) {
        if (mShouldUpdateRoutes) {
            mShouldUpdateRoutes = false;
            List<MediaRoute2Info> filteredRoutes = new ArrayList<>();
            for (MediaRoute2Info route : mRoutes.values()) {
                if (route.hasAnyFeatures(mDiscoveryPreference.getPreferredFeatures())) {
                    filteredRoutes.add(route);
                }
            }
            mFilteredRoutes = Collections.unmodifiableList(filteredRoutes);
        }
    }
    return mFilteredRoutes;
}