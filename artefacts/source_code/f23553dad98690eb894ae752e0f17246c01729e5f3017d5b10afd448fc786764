public static byte[] patternToByteArray(List<LockPatternView.Cell> pattern){
    if (pattern == null) {
        return new byte[0];
    }
    final int patternSize = pattern.size();
    byte[] res = new byte[patternSize];
    for (int i = 0; i < patternSize; i++) {
        LockPatternView.Cell cell = pattern.get(i);
        res[i] = (byte) (cell.getRow() * 3 + cell.getColumn() + '1');
    }
    return res;
}