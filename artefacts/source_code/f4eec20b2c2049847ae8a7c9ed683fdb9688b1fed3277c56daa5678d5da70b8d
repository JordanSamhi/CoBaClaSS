public static void assertBottomAligned(View first, View second, int margin){
    int[] xy = new int[2];
    first.getLocationOnScreen(xy);
    int firstBottom = xy[1] + first.getMeasuredHeight();
    second.getLocationOnScreen(xy);
    int secondBottom = xy[1] + second.getMeasuredHeight();
    assertEquals("views are not bottom aligned", Math.abs(firstBottom - secondBottom), margin);
}