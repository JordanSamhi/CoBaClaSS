public CachedBluetoothDevice addDevice(BluetoothDevice device){
    CachedBluetoothDevice newDevice;
    final LocalBluetoothProfileManager profileManager = mBtManager.getProfileManager();
    synchronized (this) {
        newDevice = findDevice(device);
        if (newDevice == null) {
            newDevice = new CachedBluetoothDevice(mContext, profileManager, device);
            mHearingAidDeviceManager.initHearingAidDeviceIfNeeded(newDevice);
            if (!mHearingAidDeviceManager.setSubDeviceIfNeeded(newDevice)) {
                mCachedDevices.add(newDevice);
                mBtManager.getEventManager().dispatchDeviceAdded(newDevice);
            }
        }
    }
    return newDevice;
}