public AudioDeviceAttributes getPreferredDeviceForStrategy(int strategy){
    enforceModifyAudioRoutingPermission();
    AudioDeviceAttributes[] devices = new AudioDeviceAttributes[1];
    final long identity = Binder.clearCallingIdentity();
    final int status = AudioSystem.getPreferredDeviceForStrategy(strategy, devices);
    Binder.restoreCallingIdentity(identity);
    if (status != AudioSystem.SUCCESS) {
        Log.e(TAG, String.format("Error %d in getPreferredDeviceForStrategy(%d)", status, strategy));
        return null;
    } else {
        return devices[0];
    }
}