public boolean copyMessageToIccEf(String callingPackage, int status, byte[] pdu, byte[] smsc){
    if (DBG)
        log("copyMessageToIccEf: status=" + status + " ==> " + "pdu=(" + Arrays.toString(pdu) + "), smsc=(" + Arrays.toString(smsc) + ")");
    enforceReceiveAndSend("Copying message to Icc");
    enforceNotOnHandlerThread("copyMessageToIccEf");
    if (mAppOps.noteOp(AppOpsManager.OPSTR_WRITE_ICC_SMS, Binder.getCallingUid(), callingPackage) != AppOpsManager.MODE_ALLOWED) {
        return false;
    }
    synchronized (mLock) {
        mSuccess = false;
        Message response = mHandler.obtainMessage(EVENT_UPDATE_DONE);
        if (PhoneConstants.PHONE_TYPE_GSM == mPhone.getPhoneType()) {
            mPhone.mCi.writeSmsToSim(status, IccUtils.bytesToHexString(smsc), IccUtils.bytesToHexString(pdu), response);
        } else {
            mPhone.mCi.writeSmsToRuim(status, pdu, response);
        }
        try {
            mLock.wait();
        } catch (InterruptedException e) {
            loge("interrupted while trying to update by index");
        }
    }
    return mSuccess;
}