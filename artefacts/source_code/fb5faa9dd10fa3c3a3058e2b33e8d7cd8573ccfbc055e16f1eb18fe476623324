public float setPulseHeight(float height){
    mAmbientState.setPulseHeight(height);
    if (mKeyguardBypassController.getBypassEnabled()) {
        notifyAppearChangedListeners();
    }
    requestChildrenUpdate();
    return Math.max(0, height - mAmbientState.getInnerHeight(true));
}