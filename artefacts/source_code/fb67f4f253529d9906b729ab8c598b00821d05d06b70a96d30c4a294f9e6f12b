public boolean isLocationModeEnabled(){
    final LocationManager LocationManager = (LocationManager) mContext.getSystemService(Context.LOCATION_SERVICE);
    try {
        return LocationManager.isLocationEnabledForUser(UserHandle.of(getCurrentUser()));
    } catch (Exception e) {
        Log.e(TAG, "Failure to get location mode via API, falling back to settings", e);
        return false;
    }
}