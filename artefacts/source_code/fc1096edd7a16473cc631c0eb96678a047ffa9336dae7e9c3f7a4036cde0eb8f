public static float getLumaOfSurfaceControl(Display display, SurfaceControl surfaceControl){
    if (surfaceControl == null) {
        return 0;
    }
    Point size = new Point();
    display.getSize(size);
    Rect crop = new Rect(0, 0, size.x, size.y);
    SurfaceControl.ScreenshotGraphicBuffer buffer = SurfaceControl.captureLayers(surfaceControl, crop, 1);
    if (buffer == null) {
        return 0;
    }
    return RotationAnimationUtils.getMedianBorderLuma(buffer.getGraphicBuffer(), buffer.getColorSpace());
}