public void handleScanResults(@NonNull List<ScanDetail> availableNetworks){
    if (!isControllerEnabled()) {
        clearPendingNotification(true);
        return;
    }
    if (availableNetworks.isEmpty() && mState == STATE_SHOWING_RECOMMENDATION_NOTIFICATION) {
        clearPendingNotification(false);
        return;
    }
    if (mState == STATE_NO_NOTIFICATION && mClock.getWallClockMillis() < mNotificationRepeatTime) {
        return;
    }
    if (mState == STATE_NO_NOTIFICATION && !mScreenOn) {
        return;
    }
    if (mState == STATE_NO_NOTIFICATION || mState == STATE_SHOWING_RECOMMENDATION_NOTIFICATION) {
        ScanResult recommendation = recommendNetwork(availableNetworks);
        if (recommendation != null) {
            postInitialNotification(recommendation);
        } else {
            clearPendingNotification(false);
        }
    }
}