public int compareTo(CachedBluetoothDevice another){
    int comparison = (another.isConnected() ? 1 : 0) - (isConnected() ? 1 : 0);
    if (comparison != 0)
        return comparison;
    comparison = (another.getBondState() == BluetoothDevice.BOND_BONDED ? 1 : 0) - (getBondState() == BluetoothDevice.BOND_BONDED ? 1 : 0);
    if (comparison != 0)
        return comparison;
    comparison = (another.mJustDiscovered ? 1 : 0) - (mJustDiscovered ? 1 : 0);
    if (comparison != 0)
        return comparison;
    comparison = another.mRssi - mRssi;
    if (comparison != 0)
        return comparison;
    return getName().compareTo(another.getName());
}