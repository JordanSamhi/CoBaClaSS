public static CallerInfo getCallerInfo(Context context, String number, int subId){
    if (TextUtils.isEmpty(number)) {
        return null;
    }
    if (PhoneNumberUtils.isLocalEmergencyNumber(context, number)) {
        return new CallerInfo().markAsEmergency(context);
    } else if (PhoneNumberUtils.isVoiceMailNumber(null, subId, number)) {
        return new CallerInfo().markAsVoiceMail(context, subId);
    }
    Uri contactUri = Uri.withAppendedPath(PhoneLookup.ENTERPRISE_CONTENT_FILTER_URI, Uri.encode(number));
    CallerInfo info = getCallerInfo(context, contactUri);
    info = doSecondaryLookupIfNecessary(context, number, info);
    if (TextUtils.isEmpty(info.phoneNumber)) {
        info.phoneNumber = number;
    }
    return info;
}