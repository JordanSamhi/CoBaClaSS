public static List<O> map(@Nullable List<I> cur, Function<? super I, ? extends O> f){
    if (isEmpty(cur))
        return Collections.emptyList();
    final ArrayList<O> result = new ArrayList<>();
    for (int i = 0; i < cur.size(); i++) {
        result.add(f.apply(cur.get(i)));
    }
    return result;
}