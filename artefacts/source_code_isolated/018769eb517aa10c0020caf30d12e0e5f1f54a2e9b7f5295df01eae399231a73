public int getPort(){
    if (!isConnected())
        return 0;
    try {
        return getImpl().getPort();
    } catch (SocketException e) {
    }
    return -1;
}