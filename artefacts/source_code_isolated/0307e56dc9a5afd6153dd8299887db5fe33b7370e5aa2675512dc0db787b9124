public int getLastResumedActivityUserId(){
    mAmInternal.enforceCallingPermission(Manifest.permission.INTERACT_ACROSS_USERS_FULL, "getLastResumedActivityUserId()");
    synchronized (mGlobalLock) {
        if (mLastResumedActivity == null) {
            return getCurrentUserId();
        }
        return mLastResumedActivity.mUserId;
    }
}