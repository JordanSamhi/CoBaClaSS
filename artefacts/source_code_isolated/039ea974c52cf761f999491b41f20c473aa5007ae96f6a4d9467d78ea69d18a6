public boolean hasActiveConnection(View view){
    synchronized (mH) {
        if (!hasServedByInputMethodLocked(view)) {
            return false;
        }
        return mServedInputConnectionWrapper != null && mServedInputConnectionWrapper.isActive() && mServedInputConnectionWrapper.mServedView.get() == view;
    }
}