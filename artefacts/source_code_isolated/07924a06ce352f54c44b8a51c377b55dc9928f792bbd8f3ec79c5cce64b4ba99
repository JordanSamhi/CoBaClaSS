public static List<T> unmodifiableList(List<? extends T> list){
    return (list instanceof RandomAccess ? new UnmodifiableRandomAccessList<>(list) : new UnmodifiableList<>(list));
}