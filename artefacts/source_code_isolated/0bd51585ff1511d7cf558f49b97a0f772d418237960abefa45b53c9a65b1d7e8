public void noteConnectionFailure(@NonNull ExtendedWifiInfo wifiInfo, int scanRssi, String ssid, @FailureReason int failureReason){
    updatePerBssid(Event.CONNECTION_FAILURE, wifiInfo);
    updatePerNetwork(Event.CONNECTION_FAILURE, ssid, scanRssi, LINK_SPEED_UNKNOWN, failureReason);
    resetConnectionStateInternal(false);
}