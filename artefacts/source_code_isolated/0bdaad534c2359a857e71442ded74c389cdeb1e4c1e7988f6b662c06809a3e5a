public void applyTheme(@NonNull Theme t){
    super.applyTheme(t);
    final LayerState state = mLayerState;
    if (state == null) {
        return;
    }
    final int density = Drawable.resolveDensity(t.getResources(), 0);
    state.setDensity(density);
    final ChildDrawable[] array = state.mChildren;
    for (int i = 0; i < state.N_CHILDREN; i++) {
        final ChildDrawable layer = array[i];
        layer.setDensity(density);
        if (layer.mThemeAttrs != null) {
            final TypedArray a = t.resolveAttributes(layer.mThemeAttrs, R.styleable.AdaptiveIconDrawableLayer);
            updateLayerFromTypedArray(layer, a);
            a.recycle();
        }
        final Drawable d = layer.mDrawable;
        if (d != null && d.canApplyTheme()) {
            d.applyTheme(t);
            state.mChildrenChangingConfigurations |= d.getChangingConfigurations();
        }
    }
}