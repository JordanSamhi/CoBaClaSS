public void conclude(long timestampMillis){
    if (mLastKey != null) {
        long durationMillis = timestampMillis - mLastKeyTimestampMillis;
        if (durationMillis < 0L) {
            Rlog.e(TAG, "conclude: durationMillis<0");
            durationMillis = 0L;
        }
        Value value = mRatUsageMap.get(mLastKey);
        if (value == null) {
            Rlog.e(TAG, "conclude: value=null && mLastKey!=null");
        } else {
            value.durationMillis += durationMillis;
        }
        mRatUsageMap.values().stream().forEach(Value::endSession);
    } else {
        Rlog.e(TAG, "conclude: mLastKey=null");
    }
}