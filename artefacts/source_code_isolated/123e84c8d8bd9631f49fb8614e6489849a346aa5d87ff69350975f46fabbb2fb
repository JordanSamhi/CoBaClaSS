public NetworkStats queryDetailsForUidTagState(NetworkTemplate template, long startTime, long endTime, int uid, int tag, int state) throws SecurityException{
    NetworkStats result;
    try {
        result = new NetworkStats(mContext, template, mFlags, startTime, endTime, mService);
        result.startHistoryEnumeration(uid, tag, state);
    } catch (RemoteException e) {
        Log.e(TAG, "Error while querying stats for uid=" + uid + " tag=" + tag + " state=" + state, e);
        return null;
    }
    return result;
}