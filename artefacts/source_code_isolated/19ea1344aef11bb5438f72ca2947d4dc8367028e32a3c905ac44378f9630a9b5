public void setResourceBundle(ResourceBundle bundle){
    checkPermission();
    final String baseName = bundle.getBaseBundleName();
    if (baseName == null || baseName.isEmpty()) {
        throw new IllegalArgumentException("resource bundle must have a name");
    }
    synchronized (this) {
        LoggerBundle lb = loggerBundle;
        final boolean canReplaceResourceBundle = lb.resourceBundleName == null || lb.resourceBundleName.equals(baseName);
        if (!canReplaceResourceBundle) {
            throw new IllegalArgumentException("can't replace resource bundle");
        }
        loggerBundle = LoggerBundle.get(baseName, bundle);
    }
}