public static boolean auditUncompressedDexInApk(String fileName){
    StrictJarFile jarFile = null;
    try {
        jarFile = new StrictJarFile(fileName, false, false);
        Iterator<ZipEntry> it = jarFile.iterator();
        boolean allCorrect = true;
        while (it.hasNext()) {
            ZipEntry entry = it.next();
            if (entry.getName().endsWith(".dex")) {
                if (entry.getMethod() != ZipEntry.STORED) {
                    allCorrect = false;
                    Slog.w(TAG, "APK " + fileName + " has compressed dex code " + entry.getName());
                } else if ((entry.getDataOffset() & 0x3) != 0) {
                    allCorrect = false;
                    Slog.w(TAG, "APK " + fileName + " has unaligned dex code " + entry.getName());
                }
            }
        }
        return allCorrect;
    } catch (IOException ignore) {
        Slog.wtf(TAG, "Error when parsing APK " + fileName);
        return false;
    } finally {
        try {
            if (jarFile != null) {
                jarFile.close();
            }
        } catch (IOException ignore) {
        }
    }
}