public void flush(){
    ensureOpen();
    if (a instanceof Flushable) {
        try {
            ((Flushable) a).flush();
        } catch (IOException ioe) {
            lastException = ioe;
        }
    }
}