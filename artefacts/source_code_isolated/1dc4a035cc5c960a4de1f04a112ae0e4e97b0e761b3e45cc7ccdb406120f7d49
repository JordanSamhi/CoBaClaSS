public void addCallback(int[] opsCodes, AppOpsController.Callback callback){
    boolean added = false;
    final int numCodes = opsCodes.length;
    for (int i = 0; i < numCodes; i++) {
        if (mCallbacksByCode.containsKey(opsCodes[i])) {
            mCallbacksByCode.get(opsCodes[i]).add(callback);
            added = true;
        } else {
            if (DEBUG)
                Log.wtf(TAG, "APP_OP " + opsCodes[i] + " not supported");
        }
    }
    if (added)
        mCallbacks.add(callback);
    if (!mCallbacks.isEmpty())
        setListening(true);
}