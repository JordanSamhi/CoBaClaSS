public boolean noteMockLocationAccess(CallerIdentity callerIdentity){
    synchronized (this) {
        Preconditions.checkState(mAppOps != null);
    }
    long identity = Binder.clearCallingIdentity();
    try {
        return mAppOps.noteOp(AppOpsManager.OP_MOCK_LOCATION, callerIdentity.uid, callerIdentity.packageName, callerIdentity.featureId, callerIdentity.listenerId) == AppOpsManager.MODE_ALLOWED;
    } finally {
        Binder.restoreCallingIdentity(identity);
    }
}