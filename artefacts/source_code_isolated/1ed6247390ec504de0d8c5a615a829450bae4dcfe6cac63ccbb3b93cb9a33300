public Field[] getFields() throws SecurityException{
    List<Field> fields = new ArrayList<Field>();
    getPublicFieldsRecursive(fields);
    return fields.toArray(new Field[fields.size()]);
}