public static boolean isLegacyVersion(Context context, int minVersion){
    try {
        if (context.getPackageManager().getApplicationInfo(context.getOpPackageName(), 0).targetSdkVersion < minVersion) {
            return true;
        }
    } catch (PackageManager.NameNotFoundException e) {
    }
    return false;
}