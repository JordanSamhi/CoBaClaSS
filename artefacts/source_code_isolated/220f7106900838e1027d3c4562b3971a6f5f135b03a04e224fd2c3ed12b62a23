public List<ActivityManager.StackInfo> getAllStackInfosOnDisplay(int displayId){
    enforceCallerIsRecentsOrHasPermission(MANAGE_ACTIVITY_STACKS, "getAllStackInfos()");
    long ident = Binder.clearCallingIdentity();
    try {
        synchronized (mGlobalLock) {
            return mRootWindowContainer.getAllStackInfos(displayId);
        }
    } finally {
        Binder.restoreCallingIdentity(ident);
    }
}