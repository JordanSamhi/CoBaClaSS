public void setBluetoothScoOn(boolean on){
    if (!checkAudioSettingsPermission("setBluetoothScoOn()")) {
        return;
    }
    if (UserHandle.getCallingAppId() >= FIRST_APPLICATION_UID) {
        mDeviceBroker.setBluetoothScoOnByApp(on);
        return;
    }
    final int uid = Binder.getCallingUid();
    final int pid = Binder.getCallingPid();
    final String eventSource = new StringBuilder("setBluetoothScoOn(").append(on).append(") from u/pid:").append(uid).append("/").append(pid).toString();
    new MediaMetrics.Item(MediaMetrics.Name.AUDIO_DEVICE + MediaMetrics.SEPARATOR + "setBluetoothScoOn").setUid(uid).setPid(pid).set(MediaMetrics.Property.STATE, on ? MediaMetrics.Value.ON : MediaMetrics.Value.OFF).record();
    mDeviceBroker.setBluetoothScoOn(on, eventSource);
}