public byte[] getBytes(int size){
    final byte[] result = new byte[size];
    final int bufCount = size / mChunkSize;
    int bufIndex;
    int writeIndex = 0;
    for (bufIndex = 0; bufIndex < bufCount; bufIndex++) {
        System.arraycopy(mBuffers.get(bufIndex), 0, result, writeIndex, mChunkSize);
        writeIndex += mChunkSize;
    }
    final int lastSize = size - (bufCount * mChunkSize);
    if (lastSize > 0) {
        System.arraycopy(mBuffers.get(bufIndex), 0, result, writeIndex, lastSize);
    }
    return result;
}