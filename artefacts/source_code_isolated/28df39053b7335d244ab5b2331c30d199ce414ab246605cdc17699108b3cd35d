public final void finish(){
    if (mDebug)
        Slog.v(TAG, "finish(): mFinished=" + mFinished);
    Activity activity = mActivity;
    if (activity != null) {
        if (!activity.isFinishing()) {
            activity.finishAndRemoveTask();
        }
        return;
    }
    if (mFinished) {
        return;
    }
    mFinished = true;
    if (mDreamToken == null) {
        Slog.w(TAG, "Finish was called before the dream was attached.");
        stopSelf();
        return;
    }
    try {
        mDreamManager.finishSelf(mDreamToken, true);
    } catch (RemoteException ex) {
    }
}