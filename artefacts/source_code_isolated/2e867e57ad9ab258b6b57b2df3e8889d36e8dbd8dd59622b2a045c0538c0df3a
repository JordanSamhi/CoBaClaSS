public boolean initialize(SurfaceControl parent){
    if (isInitialized()) {
        throw new IllegalStateException("Trying to initialize for the second time.");
    }
    mTransaction = new SurfaceControl.Transaction();
    final String name = "TaskEmbedder - " + Integer.toHexString(System.identityHashCode(this));
    mSurfaceControl = new SurfaceControl.Builder().setContainerLayer().setParent(parent).setName(name).setCallsite("TaskEmbedder.initialize").build();
    if (!onInitialize()) {
        return false;
    }
    if (mListener != null && isInitialized()) {
        mListener.onInitialized();
    }
    mOpened = true;
    mGuard.open("release");
    mTransaction.show(getSurfaceControl()).apply();
    return true;
}