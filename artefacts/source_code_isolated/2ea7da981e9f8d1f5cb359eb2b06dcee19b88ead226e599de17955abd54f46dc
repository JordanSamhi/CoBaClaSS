public long getFreeSpaceRequired(){
    if (mErrorCode == ErrorCodeConstants.SUCCESS) {
        return 0;
    }
    if (mErrorCode == ErrorCodeConstants.NOT_ENOUGH_SPACE) {
        return mFreeSpaceRequired;
    }
    throw new IllegalStateException(String.format("getFreeSpaceRequired() is not available when error code is %d", mErrorCode));
}