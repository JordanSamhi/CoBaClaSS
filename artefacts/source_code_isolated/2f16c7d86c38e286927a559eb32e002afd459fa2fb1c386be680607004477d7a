public boolean okToShowLocked(){
    if (!StorageManager.isUserKeyUnlocked(mUserId) && !info.applicationInfo.isEncryptionAware()) {
        return false;
    }
    return (info.flags & FLAG_SHOW_FOR_ALL_USERS) != 0 || (mStackSupervisor.isCurrentProfileLocked(mUserId) && mAtmService.mAmInternal.isUserRunning(mUserId, 0));
}