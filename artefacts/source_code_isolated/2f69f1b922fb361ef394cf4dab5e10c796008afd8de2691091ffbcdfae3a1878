public long getDeviceIdleModeTime(int mode, long elapsedRealtimeUs, int which){
    switch(mode) {
        case DEVICE_IDLE_MODE_LIGHT:
            return mDeviceIdleModeLightTimer.getTotalTimeLocked(elapsedRealtimeUs, which);
        case DEVICE_IDLE_MODE_DEEP:
            return mDeviceIdleModeFullTimer.getTotalTimeLocked(elapsedRealtimeUs, which);
    }
    return 0;
}