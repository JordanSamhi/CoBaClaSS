public static int getConnectionTimeout(final HttpParams params){
    if (params == null) {
        throw new IllegalArgumentException("HTTP parameters may not be null");
    }
    return params.getIntParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, 0);
}