public AdvertisingSetParameters build(){
    if (mIsLegacy) {
        if (mIsAnonymous) {
            throw new IllegalArgumentException("Legacy advertising can't be anonymous");
        }
        if (mConnectable && !mScannable) {
            throw new IllegalStateException("Legacy advertisement can't be connectable and non-scannable");
        }
        if (mIncludeTxPower) {
            throw new IllegalStateException("Legacy advertising can't include TX power level in header");
        }
    } else {
        if (mConnectable && mScannable) {
            throw new IllegalStateException("Advertising can't be both connectable and scannable");
        }
        if (mIsAnonymous && mConnectable) {
            throw new IllegalStateException("Advertising can't be both connectable and anonymous");
        }
    }
    return new AdvertisingSetParameters(mConnectable, mScannable, mIsLegacy, mIsAnonymous, mIncludeTxPower, mPrimaryPhy, mSecondaryPhy, mInterval, mTxPowerLevel);
}