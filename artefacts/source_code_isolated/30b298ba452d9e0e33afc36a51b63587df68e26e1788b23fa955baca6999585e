public int getInnerHeight(boolean ignorePulseHeight){
    if (mDozeAmount == 1.0f && !isPulseExpanding()) {
        return mShelf.getHeight();
    }
    int height = Math.max(mLayoutMinHeight, Math.min(mLayoutHeight, mMaxLayoutHeight) - mTopPadding);
    if (ignorePulseHeight) {
        return height;
    }
    float pulseHeight = Math.min(mPulseHeight, (float) height);
    return (int) MathUtils.lerp(height, pulseHeight, mDozeAmount);
}