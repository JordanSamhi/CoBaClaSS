public void addCallback(Callback callback){
    synchronized (mCallbacks) {
        if (callback == null || mCallbacks.contains(callback))
            return;
        if (DEBUG)
            Log.d(TAG, "addCallback " + callback);
        mCallbacks.add(callback);
        if (mWifiManager != null) {
            if (mCallbacks.size() == 1) {
                mWifiManager.registerSoftApCallback(new HandlerExecutor(mMainHandler), this);
            } else {
                mMainHandler.post(() -> callback.onHotspotChanged(isHotspotEnabled(), mNumConnectedDevices));
            }
        }
    }
}