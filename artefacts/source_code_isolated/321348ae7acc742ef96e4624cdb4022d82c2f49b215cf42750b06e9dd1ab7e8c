public static PasswordAuthentication requestPasswordAuthentication(String host, InetAddress addr, int port, String protocol, String prompt, String scheme, URL url, RequestorType reqType){
    SecurityManager sm = System.getSecurityManager();
    if (sm != null) {
        NetPermission requestPermission = new NetPermission("requestPasswordAuthentication");
        sm.checkPermission(requestPermission);
    }
    Authenticator a = theAuthenticator;
    if (a == null) {
        return null;
    } else {
        synchronized (a) {
            a.reset();
            a.requestingHost = host;
            a.requestingSite = addr;
            a.requestingPort = port;
            a.requestingProtocol = protocol;
            a.requestingPrompt = prompt;
            a.requestingScheme = scheme;
            a.requestingURL = url;
            a.requestingAuthType = reqType;
            return a.getPasswordAuthentication();
        }
    }
}