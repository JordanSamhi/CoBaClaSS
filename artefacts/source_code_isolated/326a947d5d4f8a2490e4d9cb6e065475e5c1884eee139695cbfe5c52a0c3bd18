public CameraCaptureSession waitAndGetSession(long timeoutMs){
    try {
        return mSessionFuture.get(timeoutMs, TimeUnit.MILLISECONDS);
    } catch (TimeoutException e) {
        throw new TimeoutRuntimeException(String.format("Failed to get session after %s milliseconds", timeoutMs), e);
    }
}