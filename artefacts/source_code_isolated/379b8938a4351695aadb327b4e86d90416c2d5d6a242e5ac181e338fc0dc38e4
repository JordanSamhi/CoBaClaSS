public synchronized boolean endRemoveObject(MtpObject obj, boolean success){
    if (sDebug)
        Log.v(TAG, "endRemoveObject " + success);
    boolean ret = true;
    if (obj.isDir()) {
        for (MtpObject child : new ArrayList<>(obj.getChildren())) if (child.getOperation() == MtpOperation.DELETE)
            ret = endRemoveObject(child, success) && ret;
    }
    return generalEndRemoveObject(obj, success, true) && ret;
}