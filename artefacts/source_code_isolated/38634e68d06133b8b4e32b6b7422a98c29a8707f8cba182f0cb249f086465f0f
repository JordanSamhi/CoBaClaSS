public void addOnRoutingChangedListener(AudioRouting.OnRoutingChangedListener listener, Handler handler){
    synchronized (mRoutingChangeListeners) {
        if (listener != null && !mRoutingChangeListeners.containsKey(listener)) {
            testEnableNativeRoutingCallbacksLocked();
            mRoutingChangeListeners.put(listener, new NativeRoutingEventHandlerDelegate(this, listener, handler != null ? handler : new Handler(mInitializationLooper)));
        }
    }
}