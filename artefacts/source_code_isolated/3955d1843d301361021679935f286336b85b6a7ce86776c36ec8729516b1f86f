public void initialize(){
    ContentObserver contentObserver = new ContentObserver(mHandler) {

        @Override
        public void onChange(boolean selfChange) {
            if (selfChange)
                return;
            boolean settingsIsAvailable = mFrameworkFacade.getIntegerSetting(mContentResolver, SETTINGS_GLOBAL_WIFI_SCAN_ALWAYS_AVAILABLE, 0) == 1;
            if (mWifiSettingsStore.isScanAlwaysAvailable() != settingsIsAvailable) {
                Log.i(TAG, "settings changed, new value: " + settingsIsAvailable + ", triggering update");
                mWifiSettingsStore.handleWifiScanAlwaysAvailableToggled(settingsIsAvailable);
                mActiveModeWarden.scanAlwaysModeChanged();
            }
        }
    };
    mContentResolver.registerContentObserver(Settings.Global.getUriFor(SETTINGS_GLOBAL_WIFI_SCAN_ALWAYS_AVAILABLE), false, contentObserver);
}