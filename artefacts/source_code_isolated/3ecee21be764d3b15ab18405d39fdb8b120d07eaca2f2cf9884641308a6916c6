public void setVoiceMessageWaiting(int line, int countWaiting){
    if (line != 1) {
        return;
    }
    try {
        if (mEfMWIS != null) {
            mEfMWIS[0] = (byte) ((mEfMWIS[0] & 0xfe) | (countWaiting == 0 ? 0 : 1));
            if (countWaiting < 0) {
                mEfMWIS[1] = 0;
            } else {
                mEfMWIS[1] = (byte) countWaiting;
            }
            mFh.updateEFLinearFixed(EF_MWIS, 1, mEfMWIS, null, obtainMessage(EVENT_UPDATE_DONE, EF_MWIS, 0));
        }
        if (mEfCPHS_MWI != null) {
            mEfCPHS_MWI[0] = (byte) ((mEfCPHS_MWI[0] & 0xf0) | (countWaiting == 0 ? 0x5 : 0xa));
            mFh.updateEFTransparent(EF_VOICE_MAIL_INDICATOR_CPHS, mEfCPHS_MWI, obtainMessage(EVENT_UPDATE_DONE, EF_VOICE_MAIL_INDICATOR_CPHS));
        }
    } catch (ArrayIndexOutOfBoundsException ex) {
        logw("Error saving voice mail state to SIM. Probably malformed SIM record", ex);
    }
}