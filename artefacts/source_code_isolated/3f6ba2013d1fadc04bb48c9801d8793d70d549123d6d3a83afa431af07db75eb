public void cleanUpExpandedState(){
    if (DEBUG_BUBBLE_EXPANDED_VIEW) {
        Log.d(TAG, "cleanUpExpandedState: mActivityViewStatus=" + mActivityViewStatus + ", bubble=" + getBubbleKey());
    }
    if (mActivityView == null) {
        return;
    }
    mActivityView.release();
    if (mTaskId != -1) {
        try {
            ActivityTaskManager.getService().removeTask(mTaskId);
        } catch (RemoteException e) {
            Log.w(TAG, "Failed to remove taskId " + mTaskId);
        }
        mTaskId = -1;
    }
    removeView(mActivityView);
    mActivityView = null;
}