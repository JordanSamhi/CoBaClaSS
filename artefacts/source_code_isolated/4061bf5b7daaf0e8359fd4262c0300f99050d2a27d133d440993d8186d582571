public int[] getValidOutputFormatsForInput(int inputFormat){
    if (mInputOutputFormatsMap == null) {
        return new int[0];
    }
    int[] outputs = mInputOutputFormatsMap.getOutputs(inputFormat);
    if (mHeicOutputFormats.size() > 0) {
        int[] outputsWithHeic = Arrays.copyOf(outputs, outputs.length + 1);
        outputsWithHeic[outputs.length] = ImageFormat.HEIC;
        return outputsWithHeic;
    } else {
        return outputs;
    }
}