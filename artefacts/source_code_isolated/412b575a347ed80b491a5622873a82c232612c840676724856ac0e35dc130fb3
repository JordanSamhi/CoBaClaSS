public static IncrementalFileStorages initialize(Context context, @NonNull File stageDir, @NonNull DataLoaderParams dataLoaderParams, @Nullable IDataLoaderStatusListener statusListener, @Nullable StorageHealthCheckParams healthCheckParams, @Nullable IStorageHealthListener healthListener, List<InstallationFileParcel> addedFiles) throws IOException{
    IncrementalManager incrementalManager = (IncrementalManager) context.getSystemService(Context.INCREMENTAL_SERVICE);
    if (incrementalManager == null) {
        throw new IOException("Failed to obtain incrementalManager.");
    }
    final IncrementalFileStorages result = new IncrementalFileStorages(stageDir, incrementalManager, dataLoaderParams, statusListener, healthCheckParams, healthListener);
    for (InstallationFileParcel file : addedFiles) {
        if (file.location == LOCATION_DATA_APP) {
            try {
                result.addApkFile(file);
            } catch (IOException e) {
                throw new IOException("Failed to add file to IncFS: " + file.name + ", reason: ", e);
            }
        } else {
            throw new IOException("Unknown file location: " + file.location);
        }
    }
    result.startLoading();
    return result;
}