public static ParcelFileDescriptor fromSocket(Socket socket){
    FileDescriptor fd = socket.getFileDescriptor$();
    try {
        return fd != null ? ParcelFileDescriptor.dup(fd) : null;
    } catch (IOException e) {
        throw new UncheckedIOException(e);
    }
}