public void setXFraction(float fraction){
    xFraction = fraction;
    final int width = getWidth();
    if (width != 0) {
        setTranslationX(width * fraction);
    } else {
        if (preDrawListener == null) {
            preDrawListener = new ViewTreeObserver.OnPreDrawListener() {

                @Override
                public boolean onPreDraw() {
                    getViewTreeObserver().removeOnPreDrawListener(preDrawListener);
                    setXFraction(xFraction);
                    return true;
                }
            };
            getViewTreeObserver().addOnPreDrawListener(preDrawListener);
        }
    }
}