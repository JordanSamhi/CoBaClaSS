public static boolean moveMessageToFolder(Context context, Uri uri, int folder, int error){
    if (uri == null) {
        return false;
    }
    boolean markAsUnread = false;
    boolean markAsRead = false;
    switch(folder) {
        case MESSAGE_TYPE_INBOX:
        case MESSAGE_TYPE_DRAFT:
            break;
        case MESSAGE_TYPE_OUTBOX:
        case MESSAGE_TYPE_SENT:
            markAsRead = true;
            break;
        case MESSAGE_TYPE_FAILED:
        case MESSAGE_TYPE_QUEUED:
            markAsUnread = true;
            break;
        default:
            return false;
    }
    ContentValues values = new ContentValues(3);
    values.put(TYPE, folder);
    if (markAsUnread) {
        values.put(READ, 0);
    } else if (markAsRead) {
        values.put(READ, 1);
    }
    values.put(ERROR_CODE, error);
    return 1 == SqliteWrapper.update(context, context.getContentResolver(), uri, values, null, null);
}