public boolean wouldShowOverLockscreen(Intent intent, int currentUserId){
    ActivityInfo targetActivityInfo = getTargetActivityInfo(intent, currentUserId, false);
    return targetActivityInfo != null && (targetActivityInfo.flags & (ActivityInfo.FLAG_SHOW_WHEN_LOCKED | ActivityInfo.FLAG_SHOW_FOR_ALL_USERS)) > 0;
}