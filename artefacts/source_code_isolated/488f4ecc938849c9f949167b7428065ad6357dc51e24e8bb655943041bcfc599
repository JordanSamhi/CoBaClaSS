public static int scaleFromDensity(int size, int sdensity, int tdensity){
    if (sdensity == DENSITY_NONE || tdensity == DENSITY_NONE || sdensity == tdensity) {
        return size;
    }
    return ((size * tdensity) + (sdensity >> 1)) / sdensity;
}