public void enableContaminantDetection(@NonNull String portId, boolean enable, @NonNull IndentingPrintWriter pw){
    final PortInfo portInfo = mPorts.get(portId);
    if (portInfo == null) {
        if (pw != null) {
            pw.println("No such USB port: " + portId);
        }
        return;
    }
    if (!portInfo.mUsbPort.supportsEnableContaminantPresenceDetection()) {
        return;
    }
    if ((enable && portInfo.mUsbPortStatus.getContaminantDetectionStatus() != UsbPortStatus.CONTAMINANT_DETECTION_DISABLED) || (!enable && portInfo.mUsbPortStatus.getContaminantDetectionStatus() == UsbPortStatus.CONTAMINANT_DETECTION_DISABLED) || (portInfo.mUsbPortStatus.getContaminantDetectionStatus() == UsbPortStatus.CONTAMINANT_DETECTION_NOT_SUPPORTED)) {
        return;
    }
    try {
        android.hardware.usb.V1_2.IUsb proxy = android.hardware.usb.V1_2.IUsb.castFrom(mProxy);
        proxy.enableContaminantPresenceDetection(portId, enable);
    } catch (RemoteException e) {
        logAndPrintException(pw, "Failed to set contaminant detection", e);
    } catch (ClassCastException e) {
        logAndPrintException(pw, "Method only applicable to V1.2 or above implementation", e);
    }
}