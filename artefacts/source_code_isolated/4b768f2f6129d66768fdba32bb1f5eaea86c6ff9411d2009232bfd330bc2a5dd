public boolean keepRunning(){
    switch(mState) {
        case NOT_STARTED:
            beginWarmup();
            return true;
        case WARMUP:
            mIteration++;
            final long duration = System.nanoTime() - mStartTimeNs;
            if (mIteration >= WARMUP_MIN_ITERATIONS && duration >= WARMUP_DURATION_NS) {
                beginBenchmark(duration, mIteration);
            }
            return true;
        case RUNNING:
            mIteration++;
            if (mIteration >= mMaxIterations) {
                return startNextTestRun();
            }
            if (mPaused) {
                throw new IllegalStateException("Benchmark step finished with paused state. " + "Resume the benchmark before finishing each step.");
            }
            return true;
        case FINISHED:
            throw new IllegalStateException("The benchmark has finished.");
        default:
            throw new IllegalStateException("The benchmark is in unknown state.");
    }
}