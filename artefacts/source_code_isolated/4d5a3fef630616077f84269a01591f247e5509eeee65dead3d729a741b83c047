public int available() throws IOException{
    return (offset < endOffset ? 1 : 0);
}