public static FontConfig.Family readFamily(XmlPullParser parser, String fontDir) throws XmlPullParserException, IOException{
    final String name = parser.getAttributeValue(null, "name");
    final String lang = parser.getAttributeValue("", "lang");
    final String variant = parser.getAttributeValue(null, "variant");
    final List<FontConfig.Font> fonts = new ArrayList<FontConfig.Font>();
    while (parser.next() != XmlPullParser.END_TAG) {
        if (parser.getEventType() != XmlPullParser.START_TAG)
            continue;
        final String tag = parser.getName();
        if (tag.equals("font")) {
            fonts.add(readFont(parser, fontDir));
        } else {
            skip(parser);
        }
    }
    int intVariant = FontConfig.Family.VARIANT_DEFAULT;
    if (variant != null) {
        if (variant.equals("compact")) {
            intVariant = FontConfig.Family.VARIANT_COMPACT;
        } else if (variant.equals("elegant")) {
            intVariant = FontConfig.Family.VARIANT_ELEGANT;
        }
    }
    return new FontConfig.Family(name, fonts.toArray(new FontConfig.Font[fonts.size()]), lang, intVariant);
}