public boolean requestTime(String host, int timeout, Network network){
    final Network networkForResolv = network.getPrivateDnsBypassingCopy();
    InetAddress address = null;
    try {
        address = networkForResolv.getByName(host);
    } catch (Exception e) {
        EventLogTags.writeNtpFailure(host, e.toString());
        if (DBG)
            Log.d(TAG, "request time failed: " + e);
        return false;
    }
    return requestTime(address, NTP_PORT, timeout, networkForResolv);
}