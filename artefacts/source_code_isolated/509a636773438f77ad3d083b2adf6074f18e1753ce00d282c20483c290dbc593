public void updateState(int state){
    int reportState = BatteryStatsManager.WIFI_STATE_OFF;
    if (state != mWifiState) {
        switch(state) {
            case SCAN_MODE:
                reportState = BatteryStatsManager.WIFI_STATE_OFF_SCANNING;
                break;
            case DISCONNECTED:
                reportState = BatteryStatsManager.WIFI_STATE_ON_DISCONNECTED;
                break;
            case CONNECTED:
                reportState = BatteryStatsManager.WIFI_STATE_ON_CONNECTED_STA;
                break;
            case SOFT_AP:
                reportState = BatteryStatsManager.WIFI_STATE_SOFT_AP;
                break;
            case INVALID:
                mWifiState = INVALID;
            default:
                return;
        }
        mWifiState = state;
        informWifiStateBatteryStats(reportState);
    }
    return;
}