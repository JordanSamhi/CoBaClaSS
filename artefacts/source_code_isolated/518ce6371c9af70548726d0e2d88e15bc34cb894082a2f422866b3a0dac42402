public static boolean isEmergencyCallOnly(){
    boolean isEmergencyCallOnly = false;
    for (Phone phone : PhoneFactory.getPhones()) {
        if (phone != null) {
            ServiceState ss = phone.getServiceStateTracker().getServiceState();
            if (ss.getState() == ServiceState.STATE_IN_SERVICE || ss.getDataRegistrationState() == ServiceState.STATE_IN_SERVICE) {
                return false;
            }
            isEmergencyCallOnly |= ss.isEmergencyOnly();
        }
    }
    return isEmergencyCallOnly;
}