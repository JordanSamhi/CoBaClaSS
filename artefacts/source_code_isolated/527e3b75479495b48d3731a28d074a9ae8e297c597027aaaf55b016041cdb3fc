public WifiConfiguration put(WifiConfiguration config){
    final WifiConfiguration current = mPerID.put(config.networkId, config);
    final UserHandle currentUser = UserHandle.of(mCurrentUserId);
    final UserHandle creatorUser = UserHandle.getUserHandleForUid(config.creatorUid);
    if (config.shared || currentUser.equals(creatorUser) || mUserManager.isSameProfileGroup(currentUser, creatorUser)) {
        mPerIDForCurrentUser.put(config.networkId, config);
        if (!config.fromWifiNetworkSpecifier) {
            mScanResultMatchInfoMapForCurrentUser.put(ScanResultMatchInfo.fromWifiConfiguration(config), config);
        }
    }
    return current;
}