public boolean performLongClick(){
    if (DEBUG_CURSOR) {
        logCursor("performLongClick", null);
    }
    boolean handled = false;
    boolean performedHapticFeedback = false;
    if (mEditor != null) {
        mEditor.mIsBeingLongClicked = true;
    }
    if (super.performLongClick()) {
        handled = true;
        performedHapticFeedback = true;
    }
    if (mEditor != null) {
        handled |= mEditor.performLongClick(handled);
        mEditor.mIsBeingLongClicked = false;
    }
    if (handled) {
        if (!performedHapticFeedback) {
            performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);
        }
        if (mEditor != null)
            mEditor.mDiscardNextActionUp = true;
    } else {
        MetricsLogger.action(mContext, MetricsEvent.TEXT_LONGPRESS, TextViewMetrics.SUBTYPE_LONG_PRESS_OTHER);
    }
    return handled;
}