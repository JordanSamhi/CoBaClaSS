public SocketFlow priority(int priority){
    if (priority != NORMAL_PRIORITY && priority != HIGH_PRIORITY) {
        throw new IllegalArgumentException("invalid priority");
    }
    this.priority = priority;
    return this;
}