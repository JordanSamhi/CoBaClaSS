public void setOnErrorListener(@Nullable OnErrorListener listener, @Nullable Handler handler){
    synchronized (mOnErrorListenerLock) {
        if (handler != null) {
            mOnErrorListenerHandler = handler;
        } else {
            Looper looper;
            if ((looper = Looper.myLooper()) == null) {
                looper = Looper.getMainLooper();
            }
            if (looper == null) {
                mOnErrorListenerHandler = null;
            } else {
                mOnErrorListenerHandler = new Handler(looper);
            }
        }
        mOnErrorListener = listener;
    }
}