public GpsBatteryStats getGpsBatteryStats(){
    GpsBatteryStats s = new GpsBatteryStats();
    final int which = STATS_SINCE_CHARGED;
    final long rawRealTime = SystemClock.elapsedRealtime() * 1000;
    s.setLoggingDurationMs(computeBatteryRealtime(rawRealTime, which) / 1000);
    s.setEnergyConsumedMaMs(getGpsBatteryDrainMaMs());
    long[] time = new long[GnssMetrics.NUM_GPS_SIGNAL_QUALITY_LEVELS];
    for (int i = 0; i < time.length; i++) {
        time[i] = getGpsSignalQualityTime(i, rawRealTime, which) / 1000;
    }
    s.setTimeInGpsSignalQualityLevel(time);
    return s;
}