public void showUnsupportedCompileSdkDialogIfNeeded(ActivityRecord r){
    if (r.info.applicationInfo.compileSdkVersion == 0 || r.info.applicationInfo.compileSdkVersionCodename == null) {
        return;
    }
    if (!mAlwaysShowUnsupportedCompileSdkWarningActivities.contains(r.mActivityComponent)) {
        return;
    }
    final int compileSdk = r.info.applicationInfo.compileSdkVersion;
    final int platformSdk = Build.VERSION.SDK_INT;
    final boolean isCompileSdkPreview = !"REL".equals(r.info.applicationInfo.compileSdkVersionCodename);
    final boolean isPlatformSdkPreview = !"REL".equals(Build.VERSION.CODENAME);
    if ((isCompileSdkPreview && compileSdk < platformSdk) || (isPlatformSdkPreview && platformSdk < compileSdk) || (isCompileSdkPreview && isPlatformSdkPreview && platformSdk == compileSdk && !Build.VERSION.CODENAME.equals(r.info.applicationInfo.compileSdkVersionCodename))) {
        mUiHandler.showUnsupportedCompileSdkDialog(r);
    }
}