public static void setSoTimeout(final HttpParams params, int timeout){
    if (params == null) {
        throw new IllegalArgumentException("HTTP parameters may not be null");
    }
    params.setIntParameter(CoreConnectionPNames.SO_TIMEOUT, timeout);
}