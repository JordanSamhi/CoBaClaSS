public void setPanelExpansion(float fraction){
    if (isNaN(fraction)) {
        throw new IllegalArgumentException("Fraction should not be NaN");
    }
    if (mExpansionFraction != fraction) {
        mExpansionFraction = fraction;
        boolean relevantState = (mState == ScrimState.UNLOCKED || mState == ScrimState.KEYGUARD || mState == ScrimState.PULSING || mState == ScrimState.BUBBLE_EXPANDED);
        if (!(relevantState && mExpansionAffectsAlpha)) {
            return;
        }
        applyAndDispatchExpansion();
    }
}