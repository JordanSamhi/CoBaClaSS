public void disableProfile(String iccid, boolean refresh, AsyncResultCallback<Void> callback, Handler handler){
    sendApduWithSimResetErrorWorkaround(newRequestProvider((RequestBuilder requestBuilder) -> {
        byte[] iccidBytes = IccUtils.bcdToBytes(padTrailingFs(iccid));
        requestBuilder.addStoreData(Asn1Node.newBuilder(Tags.TAG_DISABLE_PROFILE).addChild(Asn1Node.newBuilder(Tags.TAG_CTX_COMP_0).addChildAsBytes(Tags.TAG_ICCID, iccidBytes)).addChildAsBoolean(Tags.TAG_CTX_1, refresh).build().toHex());
    }), response -> {
        int result;
        result = parseSimpleResult(response);
        switch(result) {
            case CODE_OK:
                return null;
            case CODE_PROFILE_NOT_IN_EXPECTED_STATE:
                logd("Profile is already disabled, iccid: " + SubscriptionInfo.givePrintableIccid(iccid));
                return null;
            default:
                throw new EuiccCardErrorException(EuiccCardErrorException.OPERATION_DISABLE_PROFILE, result);
        }
    }, callback, handler);
}