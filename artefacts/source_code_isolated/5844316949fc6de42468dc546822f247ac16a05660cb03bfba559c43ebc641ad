public void notifyPackageDataDestroyed(String packageName, int userId){
    if (userId == UserHandle.USER_ALL) {
        if (mPackageDexUsage.removePackage(packageName)) {
            mPackageDexUsage.maybeWriteAsync();
        }
        mDynamicCodeLogger.removePackage(packageName);
    } else {
        if (mPackageDexUsage.removeUserPackage(packageName, userId)) {
            mPackageDexUsage.maybeWriteAsync();
        }
        mDynamicCodeLogger.removeUserPackage(packageName, userId);
    }
}