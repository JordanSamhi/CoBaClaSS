public static float nextUp(float f){
    if (Float.isNaN(f) || f == FloatConsts.POSITIVE_INFINITY)
        return f;
    else {
        f += 0.0f;
        return Float.intBitsToFloat(Float.floatToRawIntBits(f) + ((f >= 0.0f) ? +1 : -1));
    }
}