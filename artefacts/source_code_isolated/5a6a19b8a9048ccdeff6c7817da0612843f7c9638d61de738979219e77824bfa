public int onCommand(BasicShellCommandHandler parentShell){
    final PrintWriter pwe = parentShell.getErrPrintWriter();
    final PrintWriter pwo = parentShell.getOutPrintWriter();
    String subCmd = parentShell.getNextArgRequired();
    switch(subCmd) {
        case "get_cb_count":
            {
                String option = parentShell.getNextOption();
                boolean reset = false;
                if (option != null) {
                    if ("--reset".equals(option)) {
                        reset = true;
                    } else {
                        pwe.println("Unknown option to 'get_cb_count'");
                        return -1;
                    }
                }
                JSONObject j = new JSONObject();
                try {
                    for (int i = 0; i < mCallbackCounter.size(); ++i) {
                        j.put(Integer.toString(mCallbackCounter.keyAt(i)), mCallbackCounter.valueAt(i));
                    }
                } catch (JSONException e) {
                    Log.e(TAG, "onCommand: get_cb_count e=" + e);
                }
                pwo.println(j.toString());
                if (reset) {
                    mCallbackCounter.clear();
                }
                return 0;
            }
        case "get_channel_info":
            {
                String option = parentShell.getNextOption();
                if (option != null) {
                    pwe.println("Unknown option to 'get_channel_info'");
                    return -1;
                }
                String channelInfoString = convertChannelInfoToJsonString();
                pwo.println(channelInfoString);
                return 0;
            }
        default:
            pwe.println("Unknown 'wifiaware native_cb <cmd>'");
    }
    return -1;
}