public boolean createEglContext(){
    if (DEBUG) {
        Log.d(TAG, "createEglContext start");
    }
    int[] attrib_list = new int[5];
    int idx = 0;
    attrib_list[idx++] = EGL_CONTEXT_CLIENT_VERSION;
    attrib_list[idx++] = OPENGLES_VERSION;
    if (checkExtensionCapability(EGL_IMG_CONTEXT_PRIORITY)) {
        attrib_list[idx++] = EGL_CONTEXT_PRIORITY_LEVEL_IMG;
        attrib_list[idx++] = EGL_CONTEXT_PRIORITY_LOW_IMG;
    }
    attrib_list[idx] = EGL_NONE;
    if (hasEglDisplay()) {
        mEglContext = eglCreateContext(mEglDisplay, mEglConfig, EGL_NO_CONTEXT, attrib_list, 0);
    } else {
        Log.w(TAG, "mEglDisplay is null");
        return false;
    }
    if (!hasEglContext()) {
        Log.w(TAG, "eglCreateContext failed: " + GLUtils.getEGLErrorString(eglGetError()));
        return false;
    }
    if (DEBUG) {
        Log.d(TAG, "createEglContext done");
    }
    return true;
}