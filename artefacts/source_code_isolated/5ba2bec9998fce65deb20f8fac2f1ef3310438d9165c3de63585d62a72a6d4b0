public long getFrame(int frameNr, Bitmap output, int previousFrameNr){
    if (output == null || output.getConfig() != Bitmap.Config.ARGB_8888) {
        throw new IllegalArgumentException("Bitmap passed must be non-null and ARGB_8888");
    }
    if (mNativeState == 0) {
        throw new IllegalStateException("attempted to draw destroyed FrameSequenceState");
    }
    return nativeGetFrame(mNativeState, frameNr, output, previousFrameNr);
}