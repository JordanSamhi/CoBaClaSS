public boolean isUidInForeground(int uid){
    if (UserHandle.isCore(uid)) {
        return true;
    }
    synchronized (mLock) {
        return mForegroundUids.get(uid);
    }
}