public void backupWidget(PackageInfo packageInfo, File metadataFile, File filesDir, byte[] widgetData) throws IOException{
    Preconditions.checkArgument(widgetData.length > 0, "Can't backup widget with no data.");
    String packageName = packageInfo.packageName;
    FileOutputStream fileOutputStream = new FileOutputStream(metadataFile);
    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fileOutputStream);
    DataOutputStream dataOutputStream = new DataOutputStream(bufferedOutputStream);
    byte[] metadata = getMetadataBytes(packageName);
    bufferedOutputStream.write(metadata);
    writeWidgetData(dataOutputStream, widgetData);
    bufferedOutputStream.flush();
    dataOutputStream.close();
    metadataFile.setLastModified(0);
    FullBackup.backupToTar(packageName, null, null, filesDir.getAbsolutePath(), metadataFile.getAbsolutePath(), mOutput);
}