public static void writeToXmlForConfigStore(XmlSerializer out, WifiConfiguration configuration, @Nullable WifiConfigStoreEncryptionUtil encryptionUtil) throws XmlPullParserException, IOException{
    writeCommonElementsToXml(out, configuration, encryptionUtil);
    XmlUtil.writeNextValue(out, XML_TAG_IS_TRUSTED, configuration.trusted);
    XmlUtil.writeNextValue(out, XML_TAG_BSSID, configuration.BSSID);
    XmlUtil.writeNextValue(out, XML_TAG_STATUS, configuration.status);
    XmlUtil.writeNextValue(out, XML_TAG_FQDN, configuration.FQDN);
    XmlUtil.writeNextValue(out, XML_TAG_PROVIDER_FRIENDLY_NAME, configuration.providerFriendlyName);
    XmlUtil.writeNextValue(out, XML_TAG_LINKED_NETWORKS_LIST, configuration.linkedConfigurations);
    XmlUtil.writeNextValue(out, XML_TAG_DEFAULT_GW_MAC_ADDRESS, configuration.defaultGwMacAddress);
    XmlUtil.writeNextValue(out, XML_TAG_VALIDATED_INTERNET_ACCESS, configuration.validatedInternetAccess);
    XmlUtil.writeNextValue(out, XML_TAG_NO_INTERNET_ACCESS_EXPECTED, configuration.noInternetAccessExpected);
    XmlUtil.writeNextValue(out, XML_TAG_METERED_HINT, configuration.meteredHint);
    XmlUtil.writeNextValue(out, XML_TAG_METERED_OVERRIDE, configuration.meteredOverride);
    XmlUtil.writeNextValue(out, XML_TAG_USE_EXTERNAL_SCORES, configuration.useExternalScores);
    XmlUtil.writeNextValue(out, XML_TAG_CREATOR_UID, configuration.creatorUid);
    XmlUtil.writeNextValue(out, XML_TAG_CREATOR_NAME, configuration.creatorName);
    XmlUtil.writeNextValue(out, XML_TAG_LAST_UPDATE_UID, configuration.lastUpdateUid);
    XmlUtil.writeNextValue(out, XML_TAG_LAST_UPDATE_NAME, configuration.lastUpdateName);
    XmlUtil.writeNextValue(out, XML_TAG_LAST_CONNECT_UID, configuration.lastConnectUid);
    XmlUtil.writeNextValue(out, XML_TAG_IS_LEGACY_PASSPOINT_CONFIG, configuration.isLegacyPasspointConfig);
    XmlUtil.writeNextValue(out, XML_TAG_ROAMING_CONSORTIUM_OIS, configuration.roamingConsortiumIds);
    XmlUtil.writeNextValue(out, XML_TAG_RANDOMIZED_MAC_ADDRESS, configuration.getRandomizedMacAddress().toString());
    XmlUtil.writeNextValue(out, XML_TAG_MAC_RANDOMIZATION_SETTING, configuration.macRandomizationSetting);
    XmlUtil.writeNextValue(out, XML_TAG_CARRIER_ID, configuration.carrierId);
    XmlUtil.writeNextValue(out, XML_TAG_IS_MOST_RECENTLY_CONNECTED, configuration.isMostRecentlyConnected);
}