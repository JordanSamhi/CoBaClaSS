public static CodecCapabilities createFromProfileLevel(String mime, int profile, int level){
    CodecProfileLevel pl = new CodecProfileLevel();
    pl.profile = profile;
    pl.level = level;
    MediaFormat defaultFormat = new MediaFormat();
    defaultFormat.setString(MediaFormat.KEY_MIME, mime);
    CodecCapabilities ret = new CodecCapabilities(new CodecProfileLevel[] { pl }, new int[0], true, defaultFormat, new MediaFormat());
    if (ret.mError != 0) {
        return null;
    }
    return ret;
}