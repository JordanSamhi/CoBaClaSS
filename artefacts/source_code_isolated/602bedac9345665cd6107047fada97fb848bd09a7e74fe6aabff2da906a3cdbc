public boolean hasMic(){
    boolean hasMic = false;
    ArrayList<UsbDescriptor> acDescriptors = getACInterfaceDescriptors(UsbACInterface.ACI_INPUT_TERMINAL, UsbACInterface.AUDIO_AUDIOCONTROL);
    for (UsbDescriptor descriptor : acDescriptors) {
        if (descriptor instanceof UsbACTerminal) {
            UsbACTerminal inDescr = (UsbACTerminal) descriptor;
            if (inDescr.getTerminalType() == UsbTerminalTypes.TERMINAL_IN_MIC || inDescr.getTerminalType() == UsbTerminalTypes.TERMINAL_BIDIR_HEADSET || inDescr.getTerminalType() == UsbTerminalTypes.TERMINAL_BIDIR_UNDEFINED || inDescr.getTerminalType() == UsbTerminalTypes.TERMINAL_EXTERN_LINE) {
                hasMic = true;
                break;
            }
        } else {
            Log.w(TAG, "Undefined Audio Input terminal l: " + descriptor.getLength() + " t:0x" + Integer.toHexString(descriptor.getType()));
        }
    }
    return hasMic;
}