public void testRichTextViewFocusChangesWithTextChange(){
    RichTextView textView = new RichTextView(application);
    textView.setText("Thou shall not be focusable!");
    assertThat(textView.isFocusable()).isFalse();
    assertThat(textView.isFocusableInTouchMode()).isFalse();
    SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder("I am focusable");
    spannableStringBuilder.setSpan(new Annotation("link", "focus:on_me"), 0, 1, 0);
    textView.setText(spannableStringBuilder);
    assertThat(textView.isFocusable()).isTrue();
    if (VERSION.SDK_INT >= VERSION_CODES.N_MR1) {
        assertThat(textView.isFocusableInTouchMode()).isTrue();
        assertThat(textView.getRevealOnFocusHint()).isFalse();
    } else {
        assertThat(textView.isFocusableInTouchMode()).isFalse();
    }
}