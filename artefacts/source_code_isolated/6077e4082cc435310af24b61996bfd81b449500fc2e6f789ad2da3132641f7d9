public void chunkify_doesNotProduceChunksLargerThanMaxSize() throws Exception{
    byte[] largeInput = new byte[MAX_SIZE_BYTES * 10];
    Arrays.fill(largeInput, "a".getBytes(UTF_8)[0]);
    ByteArrayInputStream inputStream = new ByteArrayInputStream(largeInput);
    ArrayList<String> result = new ArrayList<>();
    mChunker.chunkify(inputStream, (chunk) -> result.add(new String(chunk, UTF_8)));
    byte[] expectedChunkBytes = new byte[MAX_SIZE_BYTES];
    Arrays.fill(expectedChunkBytes, "a".getBytes(UTF_8)[0]);
    String expectedChunk = new String(expectedChunkBytes, UTF_8);
    assertThat(result).containsExactly(expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk, expectedChunk).inOrder();
}