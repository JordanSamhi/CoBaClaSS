public final Provider getProvider(){
    updateProviderIfNeeded();
    return this.provider;
}