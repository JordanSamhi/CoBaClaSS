public static FactoryResetProtectionPolicy readFromXml(@NonNull XmlPullParser parser){
    try {
        boolean factoryResetProtectionEnabled = Boolean.parseBoolean(parser.getAttributeValue(null, KEY_FACTORY_RESET_PROTECTION_ENABLED));
        List<String> factoryResetProtectionAccounts = new ArrayList<>();
        int outerDepth = parser.getDepth();
        int type;
        while ((type = parser.next()) != END_DOCUMENT && (type != END_TAG || parser.getDepth() > outerDepth)) {
            if (type == END_TAG || type == TEXT) {
                continue;
            }
            if (!parser.getName().equals(KEY_FACTORY_RESET_PROTECTION_ACCOUNT)) {
                continue;
            }
            factoryResetProtectionAccounts.add(parser.getAttributeValue(null, ATTR_VALUE));
        }
        return new FactoryResetProtectionPolicy(factoryResetProtectionAccounts, factoryResetProtectionEnabled);
    } catch (XmlPullParserException | IOException e) {
        Log.w(LOG_TAG, "Reading from xml failed", e);
    }
    return null;
}