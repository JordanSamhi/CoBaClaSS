public FileOutputStream startWrite(long startTime) throws IOException{
    mStartTime = startTime;
    if (mLegacyBackupName.exists()) {
        rename(mLegacyBackupName, mBaseName);
    }
    try {
        return new FileOutputStream(mNewName);
    } catch (FileNotFoundException e) {
        File parent = mNewName.getParentFile();
        if (!parent.mkdirs()) {
            throw new IOException("Failed to create directory for " + mNewName);
        }
        FileUtils.setPermissions(parent.getPath(), FileUtils.S_IRWXU | FileUtils.S_IRWXG | FileUtils.S_IXOTH, -1, -1);
        try {
            return new FileOutputStream(mNewName);
        } catch (FileNotFoundException e2) {
            throw new IOException("Failed to create new file " + mNewName, e2);
        }
    }
}