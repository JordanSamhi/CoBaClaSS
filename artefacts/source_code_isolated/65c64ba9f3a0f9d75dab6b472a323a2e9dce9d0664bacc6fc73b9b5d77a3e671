public void timedJoin(Thread thread, long timeout) throws InterruptedException{
    if (timeout > 0) {
        long ms = toMillis(timeout);
        int ns = excessNanos(timeout, ms);
        thread.join(ms, ns);
    }
}