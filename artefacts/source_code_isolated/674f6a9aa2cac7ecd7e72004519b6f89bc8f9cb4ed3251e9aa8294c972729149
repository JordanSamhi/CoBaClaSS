public static int[] calculateLength(CharSequence msgBody, boolean use7bitOnly, int subId){
    TextEncodingDetails ted = useCdmaFormatForMoSms(subId) ? com.android.internal.telephony.cdma.SmsMessage.calculateLength(msgBody, use7bitOnly, true) : com.android.internal.telephony.gsm.SmsMessage.calculateLength(msgBody, use7bitOnly);
    int[] ret = new int[6];
    ret[0] = ted.msgCount;
    ret[1] = ted.codeUnitCount;
    ret[2] = ted.codeUnitsRemaining;
    ret[3] = ted.codeUnitSize;
    ret[4] = ted.languageTable;
    ret[5] = ted.languageShiftTable;
    return ret;
}