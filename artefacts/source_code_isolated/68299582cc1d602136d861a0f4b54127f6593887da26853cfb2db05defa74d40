public synchronized void setSocketAddress(SocketAddress address){
    if (address == null || !(address instanceof InetSocketAddress))
        throw new IllegalArgumentException("unsupported address type");
    InetSocketAddress addr = (InetSocketAddress) address;
    if (addr.isUnresolved())
        throw new IllegalArgumentException("unresolved address");
    setAddress(addr.getAddress());
    setPort(addr.getPort());
}