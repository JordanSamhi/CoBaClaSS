public byte[] transmit(@NonNull byte[] command) throws IOException{
    if (!mService.isConnected()) {
        throw new IllegalStateException("service not connected to system");
    }
    synchronized (mLock) {
        try {
            byte[] response = mChannel.transmit(command);
            if (response == null) {
                throw new IOException("Error in communicating with Secure Element");
            }
            return response;
        } catch (ServiceSpecificException e) {
            throw new IOException(e.getMessage());
        } catch (RemoteException e) {
            throw new IllegalStateException(e.getMessage());
        }
    }
}