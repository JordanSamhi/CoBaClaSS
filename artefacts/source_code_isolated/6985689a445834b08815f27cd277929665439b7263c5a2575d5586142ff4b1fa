public synchronized void sendNetworkInfo(NetworkInfo networkInfo, DataConnection dc){
    if (!isOwned(dc, "sendNetworkInfo"))
        return;
    final NetworkInfo.State oldState = mNetworkInfo.getState();
    final NetworkInfo.State state = networkInfo.getState();
    if (mNetworkInfo.getExtraInfo() != networkInfo.getExtraInfo()) {
        setLegacyExtraInfo(networkInfo.getExtraInfo());
    }
    int subType = networkInfo.getSubtype();
    if (mNetworkInfo.getSubtype() != subType) {
        setLegacySubtype(subType, TelephonyManager.getNetworkTypeName(subType));
    }
    if ((oldState == NetworkInfo.State.SUSPENDED || oldState == NetworkInfo.State.CONNECTED) && state == NetworkInfo.State.DISCONNECTED) {
        unregister(dc);
    }
    mNetworkInfo = new NetworkInfo(networkInfo);
}