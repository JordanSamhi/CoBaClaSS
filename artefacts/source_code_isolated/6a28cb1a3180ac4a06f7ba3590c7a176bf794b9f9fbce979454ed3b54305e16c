public static void killUid(int appId, int userId, String reason){
    final long identity = Binder.clearCallingIdentity();
    try {
        IActivityManager am = ActivityManager.getService();
        if (am != null) {
            try {
                am.killUidForPermissionChange(appId, userId, reason);
            } catch (RemoteException e) {
            }
        }
    } finally {
        Binder.restoreCallingIdentity(identity);
    }
}