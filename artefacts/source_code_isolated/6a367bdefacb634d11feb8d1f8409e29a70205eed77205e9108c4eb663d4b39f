public static ComponentName getServiceComponentName(Context context, String packageName, int resolveFlags){
    final Intent intent = new Intent(SERVICE_INTERFACE).setPackage(packageName);
    final ResolveInfo ri = context.getPackageManager().resolveService(intent, resolveFlags);
    if ((ri == null) || (ri.serviceInfo == null)) {
        Slog.w(LOG_TAG, String.format("Package or service not found in package %s for user %d", packageName, context.getUserId()));
        return null;
    }
    final ServiceInfo si = ri.serviceInfo;
    final String permission = si.permission;
    if (Manifest.permission.BIND_TEXTCLASSIFIER_SERVICE.equals(permission)) {
        return si.getComponentName();
    }
    Slog.w(LOG_TAG, String.format("Service %s should require %s permission. Found %s permission", si.getComponentName(), Manifest.permission.BIND_TEXTCLASSIFIER_SERVICE, si.permission));
    return null;
}