public void expectEvent(@NonNull View view, int event){
    MyEvent myEvent;
    try {
        myEvent = mEvents.poll(TIMEOUT_MS, TimeUnit.MILLISECONDS);
        if (myEvent == null) {
            throw new IllegalStateException("no event received in " + TIMEOUT_MS + "ms while waiting for " + toString(view, event));
        }
    } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
        throw new IllegalStateException("interrupted waiting for " + toString(view, event));
    }
    if (!myEvent.view.equals(view) || myEvent.event != event) {
        throw new AssertionError("Invalid event: expected " + myEvent + ", got " + toString(view, event));
    }
}