public synchronized void onVpnUidRangesRemoved(@NonNull String iface, Set<UidRange> rangesToRemove, int vpnAppUid){
    final Set<Integer> changedUids = intersectUids(rangesToRemove, mAllApps);
    removeBypassingUids(changedUids, vpnAppUid);
    updateVpnUids(iface, changedUids, false);
    Set<UidRange> existingRanges = mVpnUidRanges.getOrDefault(iface, null);
    if (existingRanges == null) {
        loge("Attempt to remove unknown vpn uid Range iface = " + iface);
        return;
    }
    existingRanges.removeAll(rangesToRemove);
    if (existingRanges.size() == 0) {
        mVpnUidRanges.remove(iface);
    }
}