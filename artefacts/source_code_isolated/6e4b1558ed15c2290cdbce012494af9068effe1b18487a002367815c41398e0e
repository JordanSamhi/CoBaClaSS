public static long roundStorageSize(long size){
    long val = 1;
    long pow = 1;
    while ((val * pow) < size) {
        val <<= 1;
        if (val > 512) {
            val = 1;
            pow *= 1000;
        }
    }
    return val * pow;
}