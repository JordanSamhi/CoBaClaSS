public SecurityParameterIndex allocateSecurityParameterIndex(@NonNull InetAddress destinationAddress, int requestedSpi) throws SpiUnavailableException, ResourceUnavailableException{
    if (requestedSpi == IpSecManager.INVALID_SECURITY_PARAMETER_INDEX) {
        throw new IllegalArgumentException("Requested SPI must be a valid (non-zero) SPI");
    }
    try {
        return new SecurityParameterIndex(mService, destinationAddress, requestedSpi);
    } catch (ServiceSpecificException e) {
        throw rethrowUncheckedExceptionFromServiceSpecificException(e);
    }
}