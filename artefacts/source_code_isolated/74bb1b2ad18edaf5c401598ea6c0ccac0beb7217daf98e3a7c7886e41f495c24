public void unlock(){
    if (getCameraState().isInvalid()) {
        return;
    }
    final WaitDoneBundle bundle = new WaitDoneBundle();
    try {
        getDispatchThread().runJobSync(new Runnable() {

            @Override
            public void run() {
                getCameraHandler().sendEmptyMessage(CameraActions.UNLOCK);
                getCameraHandler().post(bundle.mUnlockRunnable);
            }
        }, bundle.mWaitLock, CAMERA_OPERATION_TIMEOUT_MS, "camera unlock");
    } catch (final RuntimeException ex) {
        getAgent().getCameraExceptionHandler().onDispatchThreadException(ex);
    }
}