public void forceMergeWith(EditOperation edit){
    if (DEBUG_UNDO)
        Log.d(TAG, "forceMerge");
    if (mergeWith(edit)) {
        return;
    }
    Editor editor = getOwnerData();
    Editable editable = (Editable) editor.mTextView.getText();
    Editable originalText = new SpannableStringBuilder(editable.toString());
    modifyText(originalText, mStart, getNewTextEnd(), mOldText, mStart, mOldCursorPos);
    Editable finalText = new SpannableStringBuilder(editable.toString());
    modifyText(finalText, edit.mStart, edit.getOldTextEnd(), edit.mNewText, edit.mStart, edit.mNewCursorPos);
    mType = TYPE_REPLACE;
    mNewText = finalText.toString();
    mOldText = originalText.toString();
    mStart = 0;
    mNewCursorPos = edit.mNewCursorPos;
    mIsComposition = edit.mIsComposition;
}