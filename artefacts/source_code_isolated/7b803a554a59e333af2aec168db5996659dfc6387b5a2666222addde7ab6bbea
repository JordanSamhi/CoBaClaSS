public int getProfileConnectionState(int profile){
    if (getState() != STATE_ON) {
        return BluetoothProfile.STATE_DISCONNECTED;
    }
    return mGetProfileConnectionStateCache.query(new Integer(profile));
}