public void setOffloadEndOfStream(){
    if (!mOffloaded) {
        throw new IllegalStateException("EOS not supported on non-offloaded track");
    }
    if (mState == STATE_UNINITIALIZED) {
        throw new IllegalStateException("Uninitialized track");
    }
    if (mPlayState != PLAYSTATE_PLAYING) {
        throw new IllegalStateException("EOS not supported if not playing");
    }
    synchronized (mStreamEventCbLock) {
        if (mStreamEventCbInfoList.size() == 0) {
            throw new IllegalStateException("EOS not supported without StreamEventCallback");
        }
    }
    synchronized (mPlayStateLock) {
        native_stop();
        mOffloadEosPending = true;
        mPlayState = PLAYSTATE_STOPPING;
    }
}