public void registerForDataConnectionAttached(@TransportType int transport, Handler h, int what, Object obj){
    Registrant r = new Registrant(h, what, obj);
    if (mAttachedRegistrants.get(transport) == null) {
        mAttachedRegistrants.put(transport, new RegistrantList());
    }
    mAttachedRegistrants.get(transport).add(r);
    if (mSS != null) {
        NetworkRegistrationInfo netRegState = mSS.getNetworkRegistrationInfo(NetworkRegistrationInfo.DOMAIN_PS, transport);
        if (netRegState == null || netRegState.isInService()) {
            r.notifyRegistrant();
        }
    }
}