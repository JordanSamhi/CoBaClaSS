public void setUpstreamLinkProperties(LinkProperties lp){
    if (!started() || Objects.equals(mUpstreamLinkProperties, lp))
        return;
    final String prevUpstream = currentUpstreamInterface();
    mUpstreamLinkProperties = (lp != null) ? new LinkProperties(lp) : null;
    final String iface = currentUpstreamInterface();
    if (!TextUtils.isEmpty(iface))
        mForwardedStats.putIfAbsent(iface, EMPTY_STATS);
    maybeSchedulePollingStats();
    computeAndPushLocalPrefixes(UpdateType.IF_NEEDED);
    pushUpstreamParameters(prevUpstream);
}