public final int getAndAccumulate(int x, IntBinaryOperator accumulatorFunction){
    int prev, next;
    do {
        prev = get();
        next = accumulatorFunction.applyAsInt(prev, x);
    } while (!compareAndSet(prev, next));
    return prev;
}