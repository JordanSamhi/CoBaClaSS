public static void dumpTheme(View view, OutputStream clientStream) throws IOException{
    BufferedWriter out = null;
    try {
        out = new BufferedWriter(new OutputStreamWriter(clientStream, "utf-8"), 32 * 1024);
        String[] attributes = getStyleAttributesDump(view.getContext().getResources(), view.getContext().getTheme());
        if (attributes != null) {
            for (int i = 0; i < attributes.length; i += 2) {
                if (attributes[i] != null) {
                    out.write(attributes[i] + "\n");
                    out.write(attributes[i + 1] + "\n");
                }
            }
        }
        out.write("DONE.");
        out.newLine();
    } catch (Exception e) {
        android.util.Log.w("View", "Problem dumping View Theme:", e);
    } finally {
        if (out != null) {
            out.close();
        }
    }
}