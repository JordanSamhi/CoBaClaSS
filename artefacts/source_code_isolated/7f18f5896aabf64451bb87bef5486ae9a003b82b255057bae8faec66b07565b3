public void queue(){
    if (!isAccessible()) {
        throw new IllegalStateException("The request is stale");
    }
    if (mLinearBlock == null && mHardwareBuffer == null) {
        throw new IllegalStateException("No block is set");
    }
    setAccessible(false);
    if (mLinearBlock != null) {
        mCodec.native_queueLinearBlock(mIndex, mLinearBlock, mOffset, mSize, mCryptoInfo, mPresentationTimeUs, mFlags, mTuningKeys, mTuningValues);
    } else if (mHardwareBuffer != null) {
        mCodec.native_queueHardwareBuffer(mIndex, mHardwareBuffer, mPresentationTimeUs, mFlags, mTuningKeys, mTuningValues);
    }
    clear();
}