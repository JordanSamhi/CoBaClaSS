public void registerInterfaceAvailableForRequestListener(int ifaceType, @NonNull InterfaceAvailableForRequestListener listener, @Nullable Handler handler){
    if (VDBG) {
        Log.d(TAG, "registerInterfaceAvailableForRequestListener: ifaceType=" + ifaceType + ", listener=" + listener + ", handler=" + handler);
    }
    synchronized (mLock) {
        InterfaceAvailableForRequestListenerProxy proxy = new InterfaceAvailableForRequestListenerProxy(listener, handler);
        if (mInterfaceAvailableForRequestListeners.get(ifaceType).containsKey(proxy)) {
            if (VDBG) {
                Log.d(TAG, "registerInterfaceAvailableForRequestListener: dup listener skipped: " + listener);
            }
            return;
        }
        mInterfaceAvailableForRequestListeners.get(ifaceType).put(proxy, null);
    }
    WifiChipInfo[] chipInfos = getAllChipInfo();
    if (chipInfos == null) {
        Log.e(TAG, "registerInterfaceAvailableForRequestListener: no chip info found - but " + "possibly registered pre-started - ignoring");
        return;
    }
    dispatchAvailableForRequestListenersForType(ifaceType, chipInfos);
}