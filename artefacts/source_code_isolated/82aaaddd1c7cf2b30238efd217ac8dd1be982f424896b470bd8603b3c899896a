public GetEuiccProfileInfoListResult blockingGetEuiccProfileInfoList(int cardId){
    final CountDownLatch latch = new CountDownLatch(1);
    final AtomicReference<GetEuiccProfileInfoListResult> resultRef = new AtomicReference<>();
    mConnector.getEuiccProfileInfoList(cardId, new EuiccConnector.GetEuiccProfileInfoListCommandCallback() {

        @Override
        public void onListComplete(GetEuiccProfileInfoListResult result) {
            resultRef.set(result);
            latch.countDown();
        }

        @Override
        public void onEuiccServiceUnavailable() {
            latch.countDown();
        }
    });
    try {
        latch.await();
    } catch (InterruptedException e) {
        Log.e(TAG, "blockingGetEuiccInfoFromEuiccService got InterruptedException e: " + e);
        Thread.currentThread().interrupt();
    }
    return resultRef.get();
}