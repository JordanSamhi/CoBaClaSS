public static Package[] getPackages(){
    ClassLoader l = ClassLoader.getClassLoader(Reflection.getCallerClass());
    if (l != null) {
        return l.getPackages();
    } else {
        return getSystemPackages();
    }
}