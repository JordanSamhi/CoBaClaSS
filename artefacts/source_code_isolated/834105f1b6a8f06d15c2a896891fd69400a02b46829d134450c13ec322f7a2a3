public void undo(){
    if (DEBUG_UNDO)
        Log.d(TAG, "undo");
    Editor editor = getOwnerData();
    Editable text = (Editable) editor.mTextView.getText();
    modifyText(text, mStart, getNewTextEnd(), mOldText, mStart, mOldCursorPos);
}