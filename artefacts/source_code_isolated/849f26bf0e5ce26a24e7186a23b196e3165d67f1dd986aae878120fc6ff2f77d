public void takeBugReport(String bugTitle, String bugDetail){
    if (mBuildProperties.isUserBuild() || !mContext.getResources().getBoolean(R.bool.config_wifi_diagnostics_bugreport_enabled)) {
        return;
    }
    long currentTime = mClock.getWallClockMillis();
    if ((currentTime - mLastBugReportTime) < mWifiInjector.getDeviceConfigFacade().getBugReportMinWindowMs() && mLastBugReportTime > 0) {
        return;
    }
    mLastBugReportTime = currentTime;
    BugreportManager bugreportManager = mContext.getSystemService(BugreportManager.class);
    BugreportParams params = new BugreportParams(BugreportParams.BUGREPORT_MODE_FULL);
    try {
        bugreportManager.requestBugreport(params, bugTitle, bugDetail);
    } catch (RuntimeException e) {
        mLog.err("error taking bugreport: %").c(e.getClass().getName()).flush();
    }
}