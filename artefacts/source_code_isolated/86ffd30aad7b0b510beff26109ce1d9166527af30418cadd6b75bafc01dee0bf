public Drawable getActivityIcon(Intent intent) throws NameNotFoundException{
    if (intent.getComponent() != null) {
        return getActivityIcon(intent.getComponent());
    }
    ResolveInfo info = resolveActivity(intent, MATCH_DEFAULT_ONLY);
    if (info != null) {
        return info.activityInfo.loadIcon(this);
    }
    throw new NameNotFoundException(intent.toUri(0));
}