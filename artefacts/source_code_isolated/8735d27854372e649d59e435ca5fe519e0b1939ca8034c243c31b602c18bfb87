public void handleMessage(Message msg){
    log("handleMessage msg=" + msg, false);
    switch(msg.what) {
        case EVENT_RIL_CONNECTED:
        case EVENT_RADIO_AVAILABLE:
            onReset();
            break;
        case EVENT_SCREEN_STATE_CHANGED:
        case EVENT_POWER_SAVE_MODE_CHANGED:
        case EVENT_CHARGING_STATE_CHANGED:
        case EVENT_TETHERING_STATE_CHANGED:
        case EVENT_UPDATE_ALWAYS_REPORT_SIGNAL_STRENGTH:
        case EVENT_CAR_MODE_CHANGED:
            onUpdateDeviceState(msg.what, msg.arg1 != 0);
            break;
        case EVENT_WIFI_CONNECTION_CHANGED:
            onUpdateDeviceState(msg.what, msg.arg1 != WIFI_UNAVAILABLE);
            break;
        default:
            throw new IllegalStateException("Unexpected message arrives. msg = " + msg.what);
    }
}