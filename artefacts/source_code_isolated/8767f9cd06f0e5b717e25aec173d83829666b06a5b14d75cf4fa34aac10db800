public void unregisterPhone(Phone phone){
    if (phone != null && mPhones.contains(phone)) {
        if (DBG) {
            Rlog.d(LOG_TAG, "unregisterPhone(" + phone.getPhoneName() + " " + phone + ")");
        }
        Phone imsPhone = phone.getImsPhone();
        if (imsPhone != null) {
            unregisterPhone(imsPhone);
        }
        mPhones.remove(phone);
        mRingingCalls.remove(phone.getRingingCall());
        mBackgroundCalls.remove(phone.getBackgroundCall());
        mForegroundCalls.remove(phone.getForegroundCall());
        unregisterForPhoneStates(phone);
        if (phone == mDefaultPhone) {
            if (mPhones.isEmpty()) {
                mDefaultPhone = null;
            } else {
                mDefaultPhone = mPhones.get(0);
            }
        }
    }
}