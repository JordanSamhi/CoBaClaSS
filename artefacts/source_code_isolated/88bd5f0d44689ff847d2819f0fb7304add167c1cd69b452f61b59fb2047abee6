public int getPointerDisplayId(){
    synchronized (mService.mGlobalLock) {
        if (!mService.mForceDesktopModeOnExternalDisplays) {
            return DEFAULT_DISPLAY;
        }
        int firstExternalDisplayId = DEFAULT_DISPLAY;
        for (int i = mService.mRoot.mChildren.size() - 1; i >= 0; --i) {
            final DisplayContent displayContent = mService.mRoot.mChildren.get(i);
            if (displayContent.getWindowingMode() == WINDOWING_MODE_FREEFORM) {
                return displayContent.getDisplayId();
            }
            if (firstExternalDisplayId == DEFAULT_DISPLAY && displayContent.getDisplayId() != DEFAULT_DISPLAY) {
                firstExternalDisplayId = displayContent.getDisplayId();
            }
        }
        return firstExternalDisplayId;
    }
}