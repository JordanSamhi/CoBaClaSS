public long[] readDelta(){
    StrictMode.ThreadPolicy policy = StrictMode.allowThreadDiskReads();
    try (BufferedReader reader = new BufferedReader(new FileReader(mProcFile))) {
        TextUtils.SimpleStringSplitter splitter = new TextUtils.SimpleStringSplitter(' ');
        String line;
        int speedIndex = 0;
        while (speedIndex < mLastSpeedTimesMs.length && (line = reader.readLine()) != null) {
            splitter.setString(line);
            splitter.next();
            long time = Long.parseLong(splitter.next()) * mJiffyMillis;
            if (time < mLastSpeedTimesMs[speedIndex]) {
                mDeltaSpeedTimesMs[speedIndex] = time;
            } else {
                mDeltaSpeedTimesMs[speedIndex] = time - mLastSpeedTimesMs[speedIndex];
            }
            mLastSpeedTimesMs[speedIndex] = time;
            speedIndex++;
        }
    } catch (IOException e) {
        Slog.e(TAG, "Failed to read cpu-freq: " + e.getMessage());
        Arrays.fill(mDeltaSpeedTimesMs, 0);
    } finally {
        StrictMode.setThreadPolicy(policy);
    }
    return mDeltaSpeedTimesMs;
}