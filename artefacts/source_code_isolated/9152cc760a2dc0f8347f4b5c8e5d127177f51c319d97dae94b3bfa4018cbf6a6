public boolean hasInternetOrExpectNoInternet(WifiInfo wifiInfo){
    WifiConfiguration network = mWifiConfigManager.getConfiguredNetwork(wifiInfo.getNetworkId());
    if (network == null) {
        return false;
    }
    return !network.hasNoInternetAccess() || network.isNoInternetAccessExpected();
}