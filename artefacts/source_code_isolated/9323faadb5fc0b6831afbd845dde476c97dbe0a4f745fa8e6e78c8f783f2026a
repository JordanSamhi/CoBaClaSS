public static ArrayList<T> getOrderedPartitions(@NonNull Function<SystemPartition, T> producer){
    final ArrayList<T> out = new ArrayList<>();
    for (int i = 0, n = SYSTEM_PARTITIONS.size(); i < n; i++) {
        final T v = producer.apply(SYSTEM_PARTITIONS.get(i));
        if (v != null) {
            out.add(v);
        }
    }
    return out;
}