public static Set<T> toSet(@Nullable Collection<T> cur){
    return isEmpty(cur) ? emptySet() : new ArraySet<>(cur);
}