public Bundle filterValues(){
    unparcel();
    Bundle bundle = this;
    if (mMap != null) {
        ArrayMap<String, Object> map = mMap;
        for (int i = map.size() - 1; i >= 0; i--) {
            Object value = map.valueAt(i);
            if (PersistableBundle.isValidType(value)) {
                continue;
            }
            if (value instanceof Bundle) {
                Bundle newBundle = ((Bundle) value).filterValues();
                if (newBundle != value) {
                    if (map == mMap) {
                        bundle = new Bundle(this);
                        map = bundle.mMap;
                    }
                    map.setValueAt(i, newBundle);
                }
                continue;
            }
            if (value.getClass().getName().startsWith("android.")) {
                continue;
            }
            if (map == mMap) {
                bundle = new Bundle(this);
                map = bundle.mMap;
            }
            map.removeAt(i);
        }
    }
    mFlags |= FLAG_HAS_FDS_KNOWN;
    mFlags &= ~FLAG_HAS_FDS;
    return bundle;
}