public void getMovementBounds(Rect stackBounds, Rect insetBounds, Rect movementBoundsOut, int bottomOffset){
    movementBoundsOut.set(insetBounds);
    movementBoundsOut.right = Math.max(insetBounds.left, insetBounds.right - stackBounds.width());
    movementBoundsOut.bottom = Math.max(insetBounds.top, insetBounds.bottom - stackBounds.height());
    movementBoundsOut.bottom -= bottomOffset;
}