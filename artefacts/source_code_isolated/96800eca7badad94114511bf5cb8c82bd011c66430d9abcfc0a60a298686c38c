public List<ShortcutInfo> deleteAllDynamicShortcuts(boolean ignoreInvisible){
    final long now = mShortcutUser.mService.injectCurrentTimeMillis();
    boolean changed = false;
    for (int i = mShortcuts.size() - 1; i >= 0; i--) {
        final ShortcutInfo si = mShortcuts.valueAt(i);
        if (si.isDynamic() && (!ignoreInvisible || si.isVisibleToPublisher())) {
            changed = true;
            si.setTimestamp(now);
            si.clearFlags(ShortcutInfo.FLAG_DYNAMIC);
            si.setRank(0);
        }
    }
    if (changed) {
        return removeOrphans();
    }
    return null;
}