public static boolean isCorruptException(Throwable th){
    while (th != null) {
        if (th instanceof SQLiteDatabaseCorruptException) {
            return true;
        }
        th = th.getCause();
    }
    return false;
}