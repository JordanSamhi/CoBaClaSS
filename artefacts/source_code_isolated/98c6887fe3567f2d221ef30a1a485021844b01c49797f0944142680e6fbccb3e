public boolean isInLockedDownShade(){
    if (!mStatusBarKeyguardViewManager.isShowing() || !mKeyguardStateController.isMethodSecure()) {
        return false;
    }
    int state = mStateController.getState();
    if (state != StatusBarState.SHADE && state != StatusBarState.SHADE_LOCKED) {
        return false;
    }
    if (!isDynamicPrivacyEnabled() || isDynamicallyUnlocked()) {
        return false;
    }
    return true;
}