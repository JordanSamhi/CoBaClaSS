public void setNumPages(int numPages, int color){
    setVisibility(numPages > 1 ? View.VISIBLE : View.GONE);
    if (numPages == getChildCount()) {
        return;
    }
    if (mAnimating) {
        Log.w(TAG, "setNumPages during animation");
    }
    while (numPages < getChildCount()) {
        removeViewAt(getChildCount() - 1);
    }
    while (numPages > getChildCount()) {
        ImageView v = new ImageView(mContext);
        v.setImageResource(R.drawable.minor_a_b);
        v.setImageTintList(ColorStateList.valueOf(color));
        addView(v, new LayoutParams(mPageIndicatorWidth, mPageIndicatorHeight));
    }
    setIndex(mPosition >> 1);
}