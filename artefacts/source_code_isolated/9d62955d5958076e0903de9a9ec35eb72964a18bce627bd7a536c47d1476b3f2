public static byte[] digest(FileDescriptor fd, String algorithm) throws IOException, NoSuchAlgorithmException{
    return digestInternalUserspace(new FileInputStream(fd), algorithm);
}