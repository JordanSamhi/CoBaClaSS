public void resetSimNetworks(){
    if (mVerboseLoggingEnabled)
        localLog("resetSimNetworks");
    for (WifiConfiguration config : getInternalConfiguredNetworks()) {
        if (config.enterpriseConfig == null || !config.enterpriseConfig.isAuthenticationSimBased()) {
            continue;
        }
        if (config.enterpriseConfig.getEapMethod() == WifiEnterpriseConfig.Eap.PEAP) {
            Pair<String, String> currentIdentity = mWifiCarrierInfoManager.getSimIdentity(config);
            if (mVerboseLoggingEnabled) {
                Log.d(TAG, "New identity for config " + config + ": " + currentIdentity);
            }
            if (currentIdentity == null) {
                Log.d(TAG, "Identity is null");
            } else {
                config.enterpriseConfig.setIdentity(currentIdentity.first);
            }
        } else {
            config.enterpriseConfig.setIdentity("");
            if (!WifiCarrierInfoManager.isAnonymousAtRealmIdentity(config.enterpriseConfig.getAnonymousIdentity())) {
                config.enterpriseConfig.setAnonymousIdentity("");
            }
        }
    }
}