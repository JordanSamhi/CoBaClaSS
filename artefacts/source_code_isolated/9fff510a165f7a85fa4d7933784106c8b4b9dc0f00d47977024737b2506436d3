public ArraySet<ComponentName> getInstalled(int userId){
    synchronized (mLock) {
        ArraySet<ComponentName> ret = mInstalledSet.get(userId);
        if (ret == null) {
            return new ArraySet<ComponentName>();
        }
        return ret;
    }
}