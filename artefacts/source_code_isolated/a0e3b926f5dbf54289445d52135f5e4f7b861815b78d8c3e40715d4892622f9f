public void dump(final IndentingPrintWriter pw){
    synchronized (mLock) {
        pw.println("Is enabled: " + mIsEnabled);
        pw.println("Is global quota free: " + mIsQuotaFree);
        pw.println("Current elapsed time: " + mInjector.getElapsedRealtime());
        pw.println();
        pw.println();
        mInQuotaAlarmListener.dumpLocked(pw);
        pw.println();
        pw.println("Per-app free quota:");
        pw.increaseIndent();
        for (int u = 0; u < mFreeQuota.numMaps(); ++u) {
            final int userId = mFreeQuota.keyAt(u);
            for (int p = 0; p < mFreeQuota.numElementsForKey(userId); ++p) {
                final String pkgName = mFreeQuota.keyAt(u, p);
                pw.print(string(userId, pkgName, null));
                pw.print(": ");
                pw.println(mFreeQuota.get(userId, pkgName));
            }
        }
        pw.decreaseIndent();
    }
}