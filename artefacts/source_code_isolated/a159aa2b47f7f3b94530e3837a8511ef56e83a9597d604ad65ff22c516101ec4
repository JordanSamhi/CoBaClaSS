public static byte[] getBytesFromHexDigest(String hexDigest){
    checkArgument(hexDigest.length() % 2 == 0, "Invalid hex encoding " + hexDigest + ": must have even length");
    byte[] rawBytes = new byte[hexDigest.length() / 2];
    for (int i = 0; i < rawBytes.length; i++) {
        int upperNibble = hexDigest.charAt(2 * i);
        int lowerNibble = hexDigest.charAt(2 * i + 1);
        rawBytes[i] = (byte) ((hexToDec(upperNibble) << 4) | hexToDec(lowerNibble));
    }
    return rawBytes;
}