public int[] getProfileIds(@UserIdInt int userId, @Nullable String userType, boolean enabledOnly){
    if (userId != UserHandle.getCallingUserId()) {
        checkManageOrCreateUsersPermission("getting profiles related to user " + userId);
    }
    final long ident = Binder.clearCallingIdentity();
    try {
        synchronized (mUsersLock) {
            return getProfileIdsLU(userId, userType, enabledOnly).toArray();
        }
    } finally {
        Binder.restoreCallingIdentity(ident);
    }
}