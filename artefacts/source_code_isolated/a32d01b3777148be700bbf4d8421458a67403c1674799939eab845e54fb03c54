public static void getMetadata(Bundle metadata, InputStream stream, String mimeType, @Nullable String[] tags) throws IOException{
    List<String> metadataTypes = new ArrayList<>();
    if (isSupportedMimeType(mimeType)) {
        Bundle exifData = getExifData(stream, tags);
        if (exifData.size() > 0) {
            metadata.putBundle(DocumentsContract.METADATA_EXIF, exifData);
            metadataTypes.add(DocumentsContract.METADATA_EXIF);
        }
    }
    metadata.putStringArray(DocumentsContract.METADATA_TYPES, metadataTypes.toArray(new String[metadataTypes.size()]));
}