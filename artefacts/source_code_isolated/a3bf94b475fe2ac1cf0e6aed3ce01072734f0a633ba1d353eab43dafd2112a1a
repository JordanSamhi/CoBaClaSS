public void showOrHideDialog(boolean keyguardShowing, boolean isDeviceProvisioned, GlobalActionsPanelPlugin walletPlugin){
    mKeyguardShowing = keyguardShowing;
    mDeviceProvisioned = isDeviceProvisioned;
    mWalletPlugin = walletPlugin;
    if (mDialog != null && mDialog.isShowing()) {
        mWindowManagerFuncs.onGlobalActionsShown();
        mDialog.dismiss();
        mDialog = null;
    } else {
        handleShow();
    }
}