public void terminate(){
    if (mProvider == null) {
        throw new IllegalStateException("This NetworkFactory was never registered");
    }
    if (DBG)
        log("Unregistering NetworkFactory");
    ((ConnectivityManager) mContext.getSystemService(Context.CONNECTIVITY_SERVICE)).unregisterNetworkProvider(mProvider);
    removeCallbacksAndMessages(null);
}