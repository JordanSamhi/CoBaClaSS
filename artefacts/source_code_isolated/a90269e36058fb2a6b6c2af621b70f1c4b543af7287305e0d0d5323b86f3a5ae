public int[] getActiveSubIdList(boolean visibleOnly){
    List<Integer> allSubs = getActiveSubIdArrayList();
    if (visibleOnly) {
        allSubs = allSubs.stream().filter(subId -> isSubscriptionVisible(subId)).collect(Collectors.toList());
    }
    int[] subIdArr = new int[allSubs.size()];
    int i = 0;
    for (int sub : allSubs) {
        subIdArr[i] = sub;
        i++;
    }
    if (VDBG) {
        logdl("[getActiveSubIdList] allSubs=" + allSubs + " subIdArr.length=" + subIdArr.length);
    }
    return subIdArr;
}