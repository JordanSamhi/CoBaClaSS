public static int procStateToImportanceForTargetSdk(int procState, int targetSdkVersion){
    final int importance = procStateToImportance(procState);
    if (targetSdkVersion < VERSION_CODES.O) {
        switch(importance) {
            case IMPORTANCE_PERCEPTIBLE:
                return IMPORTANCE_PERCEPTIBLE_PRE_26;
            case IMPORTANCE_TOP_SLEEPING:
                return IMPORTANCE_TOP_SLEEPING_PRE_28;
            case IMPORTANCE_CANT_SAVE_STATE:
                return IMPORTANCE_CANT_SAVE_STATE_PRE_26;
        }
    }
    return importance;
}