public static void writeSetWhitelistEvent(@Nullable ComponentName service, @Nullable List<String> packages, @Nullable List<ComponentName> activities){
    final String serviceName = ComponentName.flattenToShortString(service);
    StringBuilder stringBuilder = new StringBuilder();
    if (packages != null && packages.size() > 0) {
        final int size = packages.size();
        stringBuilder.append(packages.get(0));
        for (int i = 1; i < size; i++) {
            stringBuilder.append(" ");
            stringBuilder.append(packages.get(i));
        }
    }
    if (activities != null && activities.size() > 0) {
        stringBuilder.append(" ");
        stringBuilder.append(activities.get(0).flattenToShortString());
        final int size = activities.size();
        for (int i = 1; i < size; i++) {
            stringBuilder.append(" ");
            stringBuilder.append(activities.get(i).flattenToShortString());
        }
    }
    FrameworkStatsLog.write(FrameworkStatsLog.CONTENT_CAPTURE_SERVICE_EVENTS, FrameworkStatsLog.CONTENT_CAPTURE_SERVICE_EVENTS__EVENT__SET_WHITELIST, serviceName, stringBuilder.toString());
}