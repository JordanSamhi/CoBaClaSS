public void onNetwork(){
    if ((mThreadPolicyMask & DETECT_THREAD_NETWORK) == 0) {
        return;
    }
    if ((mThreadPolicyMask & PENALTY_DEATH_ON_NETWORK) != 0) {
        throw new NetworkOnMainThreadException();
    }
    if (tooManyViolationsThisLoop()) {
        return;
    }
    startHandlingViolationException(new NetworkViolation());
}