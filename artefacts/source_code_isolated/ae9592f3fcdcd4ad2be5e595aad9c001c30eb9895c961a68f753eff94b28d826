public static int toChars(int codePoint, char[] dst, int dstIndex){
    if (isBmpCodePoint(codePoint)) {
        dst[dstIndex] = (char) codePoint;
        return 1;
    } else if (isValidCodePoint(codePoint)) {
        toSurrogates(codePoint, dst, dstIndex);
        return 2;
    } else {
        throw new IllegalArgumentException();
    }
}