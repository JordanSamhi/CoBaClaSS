public void resetBuffer(){
    synchronized (mBufferLock) {
        if (mProtoDequeuedCallback != null) {
            for (T item : mBuffer) {
                mProtoDequeuedCallback.accept(item);
            }
        }
        mBuffer.clear();
        mBufferUsedSize = 0;
    }
}