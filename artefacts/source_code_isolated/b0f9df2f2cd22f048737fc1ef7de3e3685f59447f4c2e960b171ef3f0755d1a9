public final IState getCurrentState(){
    SmHandler smh = mSmHandler;
    if (smh == null)
        return null;
    return smh.getCurrentState();
}