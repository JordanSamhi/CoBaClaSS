public void testGetCurrentTransportComponent_whenTransportNotRegistered() throws Exception{
    mShadowContext.grantPermissions(android.Manifest.permission.BACKUP);
    when(mTransportManager.getCurrentTransportComponent()).thenThrow(TransportNotRegisteredException.class);
    UserBackupManagerService backupManagerService = createUserBackupManagerServiceAndRunTasks();
    ComponentName transportComponent = backupManagerService.getCurrentTransportComponent();
    assertThat(transportComponent).isNull();
}