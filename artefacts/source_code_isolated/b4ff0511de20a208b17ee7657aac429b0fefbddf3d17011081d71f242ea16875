public void fetchInitialState(){
    if (mWifiManager == null) {
        return;
    }
    updateWifiState();
    final NetworkInfo networkInfo = mConnectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);
    connected = networkInfo != null && networkInfo.isConnected();
    mWifiInfo = null;
    ssid = null;
    if (connected) {
        mWifiInfo = mWifiManager.getConnectionInfo();
        if (mWifiInfo != null) {
            if (mWifiInfo.isPasspointAp() || mWifiInfo.isOsuAp()) {
                ssid = mWifiInfo.getPasspointProviderFriendlyName();
            } else {
                ssid = getValidSsid(mWifiInfo);
            }
            updateRssi(mWifiInfo.getRssi());
            maybeRequestNetworkScore();
        }
    }
    updateStatusLabel();
}