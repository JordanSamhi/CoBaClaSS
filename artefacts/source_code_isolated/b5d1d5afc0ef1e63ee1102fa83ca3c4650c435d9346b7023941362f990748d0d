public int getExplicitStyle(@Nullable AttributeSet set){
    if (set == null) {
        return ID_NULL;
    }
    int styleAttr = set.getStyleAttribute();
    if (styleAttr == ID_NULL) {
        return ID_NULL;
    }
    String styleAttrType = getResources().getResourceTypeName(styleAttr);
    if ("attr".equals(styleAttrType)) {
        TypedValue explicitStyle = new TypedValue();
        boolean resolved = resolveAttribute(styleAttr, explicitStyle, true);
        if (resolved) {
            return explicitStyle.resourceId;
        }
    } else if ("style".equals(styleAttrType)) {
        return styleAttr;
    }
    return ID_NULL;
}