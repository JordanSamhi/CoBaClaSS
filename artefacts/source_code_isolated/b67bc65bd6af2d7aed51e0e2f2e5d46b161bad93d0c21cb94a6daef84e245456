public AppUsageHistory reportUsage(String packageName, int userId, int newBucket, int usageReason, long nowElapsed, long timeout){
    ArrayMap<String, AppUsageHistory> userHistory = getUserHistory(userId);
    AppUsageHistory history = getPackageHistory(userHistory, packageName, nowElapsed, true);
    return reportUsage(history, packageName, userId, newBucket, usageReason, nowElapsed, timeout);
}