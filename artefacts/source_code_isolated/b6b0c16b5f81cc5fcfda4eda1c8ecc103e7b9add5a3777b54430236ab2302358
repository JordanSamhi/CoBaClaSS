public boolean deleteSettingLocked(String name){
    if (TextUtils.isEmpty(name) || !hasSettingLocked(name)) {
        return false;
    }
    Setting oldState = mSettings.remove(name);
    FrameworkStatsLog.write(FrameworkStatsLog.SETTING_CHANGED, name, "", "", oldState.value, "", false, getUserIdFromKey(mKey), FrameworkStatsLog.SETTING_CHANGED__REASON__DELETED);
    updateMemoryUsagePerPackageLocked(oldState.packageName, oldState.value, null, oldState.defaultValue, null);
    addHistoricalOperationLocked(HISTORICAL_OPERATION_DELETE, oldState);
    scheduleWriteIfNeededLocked();
    return true;
}