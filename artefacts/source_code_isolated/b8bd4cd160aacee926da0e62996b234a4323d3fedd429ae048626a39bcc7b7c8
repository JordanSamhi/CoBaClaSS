public static SmsMessage createFromEfRecord(int index, byte[] data){
    try {
        SmsMessage msg = new SmsMessage();
        msg.mIndexOnIcc = index;
        if ((data[0] & 1) == 0) {
            Rlog.w(LOG_TAG, "SMS parsing failed: Trying to parse a free record");
            return null;
        } else {
            msg.mStatusOnIcc = data[0] & 0x07;
        }
        int size = data[1] & 0xFF;
        byte[] pdu = new byte[size];
        System.arraycopy(data, 2, pdu, 0, size);
        msg.parsePduFromEfRecord(pdu);
        return msg;
    } catch (RuntimeException ex) {
        Rlog.e(LOG_TAG, "SMS PDU parsing failed: ", ex);
        return null;
    }
}