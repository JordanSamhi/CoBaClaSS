public boolean isBoundary(int offset){
    if (offset == 0) {
        return true;
    }
    int boundary = following(offset - 1);
    if (boundary == DONE) {
        throw new IllegalArgumentException();
    }
    return boundary == offset;
}