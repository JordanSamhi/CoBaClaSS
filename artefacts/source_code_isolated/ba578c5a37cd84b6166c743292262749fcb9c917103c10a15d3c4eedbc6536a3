public static CdmaSmsAddress parse(String address){
    CdmaSmsAddress addr = new CdmaSmsAddress();
    addr.address = address;
    addr.ton = TON_UNKNOWN;
    addr.digitMode = DIGIT_MODE_4BIT_DTMF;
    addr.numberPlan = NUMBERING_PLAN_UNKNOWN;
    addr.numberMode = NUMBER_MODE_NOT_DATA_NETWORK;
    byte[] origBytes;
    String filteredAddr = filterNumericSugar(address);
    if (address.contains("+") || filteredAddr == null) {
        addr.digitMode = DIGIT_MODE_8BIT_CHAR;
        addr.numberMode = NUMBER_MODE_DATA_NETWORK;
        filteredAddr = filterWhitespace(address);
        if (address.contains("@")) {
            addr.ton = TON_NATIONAL_OR_EMAIL;
        } else if (address.contains("+") && filterNumericSugar(address) != null) {
            addr.ton = TON_INTERNATIONAL_OR_IP;
            addr.numberPlan = NUMBERING_PLAN_ISDN_TELEPHONY;
            addr.numberMode = NUMBER_MODE_NOT_DATA_NETWORK;
            filteredAddr = filterNumericSugar(address);
        }
        origBytes = UserData.stringToAscii(filteredAddr);
    } else {
        origBytes = parseToDtmf(filteredAddr);
    }
    if (origBytes == null) {
        return null;
    }
    addr.origBytes = origBytes;
    addr.numberOfDigits = origBytes.length;
    return addr;
}