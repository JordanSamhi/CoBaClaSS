public boolean isAvailable(){
    long ident = Binder.clearCallingIdentity();
    try {
        return mRttNative != null && mRttNative.isReady() && !mPowerManager.isDeviceIdleMode() && mWifiPermissionsUtil.isLocationModeEnabled();
    } finally {
        Binder.restoreCallingIdentity(ident);
    }
}