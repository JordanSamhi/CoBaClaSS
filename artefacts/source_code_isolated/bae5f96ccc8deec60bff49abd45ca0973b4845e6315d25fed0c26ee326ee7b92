public CharSequence getSummary(Context context){
    if (mSummaryOverride != null) {
        return mSummaryOverride;
    }
    ensureMetadataNotStale(context);
    CharSequence summary = null;
    final PackageManager packageManager = context.getPackageManager();
    if (mMetaData != null) {
        if (mMetaData.containsKey(META_DATA_PREFERENCE_SUMMARY_URI)) {
            return null;
        }
        if (mMetaData.containsKey(META_DATA_PREFERENCE_SUMMARY)) {
            if (mMetaData.get(META_DATA_PREFERENCE_SUMMARY) instanceof Integer) {
                try {
                    final Resources res = packageManager.getResourcesForApplication(mComponentPackage);
                    summary = res.getString(mMetaData.getInt(META_DATA_PREFERENCE_SUMMARY));
                } catch (PackageManager.NameNotFoundException | Resources.NotFoundException e) {
                    Log.d(TAG, "Couldn't find info", e);
                }
            } else {
                summary = mMetaData.getString(META_DATA_PREFERENCE_SUMMARY);
            }
        }
    }
    return summary;
}