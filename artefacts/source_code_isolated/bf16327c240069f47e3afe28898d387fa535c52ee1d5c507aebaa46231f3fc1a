public int checkOpNoThrow(int op, int uid, String packageName){
    try {
        int mode = mService.checkOperation(op, uid, packageName);
        return mode == AppOpsManager.MODE_FOREGROUND ? AppOpsManager.MODE_ALLOWED : mode;
    } catch (RemoteException e) {
        throw e.rethrowFromSystemServer();
    }
}