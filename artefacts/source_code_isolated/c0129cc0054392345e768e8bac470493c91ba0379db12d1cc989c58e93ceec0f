public boolean allowAutojoin(int networkId, boolean choice){
    if (mVerboseLoggingEnabled) {
        Log.v(TAG, "Setting allowAutojoin to " + choice + " for netId " + networkId);
    }
    WifiConfiguration config = getInternalConfiguredNetwork(networkId);
    if (config == null) {
        Log.e(TAG, "allowAutojoin: Supplied networkId " + networkId + " has no matching config");
        return false;
    }
    config.allowAutojoin = choice;
    if (!choice) {
        removeConnectChoiceFromAllNetworks(config.getKey());
        clearNetworkConnectChoice(config.networkId);
    }
    sendConfiguredNetworkChangedBroadcast(WifiManager.CHANGE_REASON_CONFIG_CHANGE);
    if (!config.ephemeral) {
        saveToStore(true);
    }
    return true;
}