public void handleCancel(boolean cancelAll){
    backupManagerService.removeOperation(mEphemeralOpToken);
    if (DEBUG) {
        Slog.w(TAG, "Full-data restore target timed out; shutting down");
    }
    mMonitor = BackupManagerMonitorUtils.monitorEvent(mMonitor, BackupManagerMonitor.LOG_EVENT_ID_FULL_RESTORE_TIMEOUT, mCurrentPackage, BackupManagerMonitor.LOG_EVENT_CATEGORY_AGENT, null);
    mEngineThread.handleTimeout();
    IoUtils.closeQuietly(mEnginePipes[1]);
    mEnginePipes[1] = null;
    IoUtils.closeQuietly(mEnginePipes[0]);
    mEnginePipes[0] = null;
}