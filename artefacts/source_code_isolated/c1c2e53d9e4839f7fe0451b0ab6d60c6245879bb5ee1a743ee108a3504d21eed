public Builder setEncapsulationMode(@EncapsulationMode int encapsulationMode){
    switch(encapsulationMode) {
        case ENCAPSULATION_MODE_NONE:
        case ENCAPSULATION_MODE_ELEMENTARY_STREAM:
        case ENCAPSULATION_MODE_HANDLE:
            mEncapsulationMode = encapsulationMode;
            break;
        default:
            throw new IllegalArgumentException("Invalid encapsulation mode " + encapsulationMode);
    }
    return this;
}