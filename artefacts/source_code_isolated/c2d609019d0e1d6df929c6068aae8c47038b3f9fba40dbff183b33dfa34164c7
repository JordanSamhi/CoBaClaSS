public static String canBeUsedForPrivilegedCapture(AudioFormat format){
    int sampleRate = format.getSampleRate();
    if (sampleRate > PRIVILEDGED_CAPTURE_MAX_SAMPLE_RATE || sampleRate <= 0) {
        return "Privileged audio capture sample rate " + sampleRate + " can not be over " + PRIVILEDGED_CAPTURE_MAX_SAMPLE_RATE + "kHz";
    }
    int channelCount = format.getChannelCount();
    if (channelCount > PRIVILEDGED_CAPTURE_MAX_CHANNEL_NUMBER || channelCount <= 0) {
        return "Privileged audio capture channel count " + channelCount + " can not be over " + PRIVILEDGED_CAPTURE_MAX_CHANNEL_NUMBER;
    }
    int encoding = format.getEncoding();
    if (!format.isPublicEncoding(encoding) || !format.isEncodingLinearPcm(encoding)) {
        return "Privileged audio capture encoding " + encoding + "is not linear";
    }
    if (format.getBytesPerSample(encoding) > PRIVILEDGED_CAPTURE_MAX_BYTES_PER_SAMPLE) {
        return "Privileged audio capture encoding " + encoding + " can not be over " + PRIVILEDGED_CAPTURE_MAX_BYTES_PER_SAMPLE + " bytes per sample";
    }
    return null;
}