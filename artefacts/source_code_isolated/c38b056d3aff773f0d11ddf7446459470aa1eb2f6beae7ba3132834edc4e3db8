public int getFlags(){
    int flags = this.flags;
    if (deprecationTime != LIFETIME_UNKNOWN) {
        if (SystemClock.elapsedRealtime() >= deprecationTime) {
            flags |= IFA_F_DEPRECATED;
        } else {
            flags &= ~IFA_F_DEPRECATED;
        }
    }
    if (expirationTime == LIFETIME_PERMANENT) {
        flags |= IFA_F_PERMANENT;
    } else if (expirationTime != LIFETIME_UNKNOWN) {
        flags &= ~IFA_F_PERMANENT;
    }
    return flags;
}