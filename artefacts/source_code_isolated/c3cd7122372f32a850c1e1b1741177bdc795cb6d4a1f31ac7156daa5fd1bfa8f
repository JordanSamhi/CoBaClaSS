public Message next(){
    while (!mLooperBlocked) {
        synchronized (this) {
            try {
                wait();
            } catch (InterruptedException e) {
            }
        }
    }
    checkReleased();
    return mQueue.next();
}