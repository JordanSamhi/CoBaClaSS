public ParcelFileDescriptor openDevice(String deviceAddress, UsbUserPermissionManager permissions, String packageName, int pid, int uid){
    synchronized (mLock) {
        if (isBlackListed(deviceAddress)) {
            throw new SecurityException("USB device is on a restricted bus");
        }
        UsbDevice device = mDevices.get(deviceAddress);
        if (device == null) {
            throw new IllegalArgumentException("device " + deviceAddress + " does not exist or is restricted");
        }
        permissions.checkPermission(device, packageName, pid, uid);
        return nativeOpenDevice(deviceAddress);
    }
}