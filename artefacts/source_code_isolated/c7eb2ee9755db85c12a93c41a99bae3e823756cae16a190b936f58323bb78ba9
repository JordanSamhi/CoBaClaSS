public void stop(){
    Log.d(TAG, " currentstate: " + getCurrentStateName());
    mTargetRole = ROLE_UNSPECIFIED;
    if (mIfaceIsUp) {
        updateConnectModeState(WifiManager.WIFI_STATE_DISABLING, WifiManager.WIFI_STATE_ENABLED);
    } else {
        updateConnectModeState(WifiManager.WIFI_STATE_DISABLING, WifiManager.WIFI_STATE_ENABLING);
    }
    mDeferStopHandler.start(getWifiOffDeferringTimeMs());
}