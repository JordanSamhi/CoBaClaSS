public void prepareOperationTimeout(int token, long interval, BackupRestoreTask callback, int operationType){
    if (operationType != OP_TYPE_BACKUP_WAIT && operationType != OP_TYPE_RESTORE_WAIT) {
        Slog.wtf(TAG, addUserIdToLogMessage(mUserId, "prepareOperationTimeout() doesn't support operation " + Integer.toHexString(token) + " of type " + operationType));
        return;
    }
    if (MORE_DEBUG) {
        Slog.v(TAG, addUserIdToLogMessage(mUserId, "starting timeout: token=" + Integer.toHexString(token) + " interval=" + interval + " callback=" + callback));
    }
    synchronized (mCurrentOpLock) {
        mCurrentOperations.put(token, new Operation(OP_PENDING, callback, operationType));
        Message msg = mBackupHandler.obtainMessage(getMessageIdForOperationType(operationType), token, 0, callback);
        mBackupHandler.sendMessageDelayed(msg, interval);
    }
}