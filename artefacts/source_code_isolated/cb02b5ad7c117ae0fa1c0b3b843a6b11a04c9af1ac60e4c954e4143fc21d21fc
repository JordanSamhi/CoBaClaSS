public int getColor(@NonNull Context context, PartnerConfig partnerConfig){
    if (partnerConfig.getResourceType() != PartnerConfig.ResourceType.COLOR) {
        throw new IllegalArgumentException("Not a color resource");
    }
    if (mPartnerResourceCache.containsKey(partnerConfig)) {
        Object cacheValue = mPartnerResourceCache.get(partnerConfig);
        if (cacheValue instanceof Integer) {
            return (int) cacheValue;
        }
    }
    int result = 0;
    try {
        String resourceName = partnerConfig.getResourceName();
        ResourceEntry resourceEntry = getResourceEntryFromKey(resourceName);
        if (resourceEntry == null) {
            Log.w(TAG, "Resource not found: " + resourceName);
            return 0;
        }
        Resources resource = getResourcesByPackageName(context, resourceEntry.getPackageName());
        result = resource.getColor(resourceEntry.getResourceId(), null);
        mPartnerResourceCache.put(partnerConfig, result);
    } catch (PackageManager.NameNotFoundException exception) {
        Log.e(TAG, exception.getMessage());
    }
    return result;
}