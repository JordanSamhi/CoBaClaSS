public boolean updateAdnRecordsInEfBySearch(int efid, String oldTag, String oldPhoneNumber, String newTag, String newPhoneNumber, String pin2){
    if (mPhone.getContext().checkCallingOrSelfPermission(android.Manifest.permission.WRITE_CONTACTS) != PackageManager.PERMISSION_GRANTED) {
        throw new SecurityException("Requires android.permission.WRITE_CONTACTS permission");
    }
    if (DBG)
        logd("updateAdnRecordsInEfBySearch: efid=0x" + Integer.toHexString(efid).toUpperCase() + " (" + Rlog.pii(LOG_TAG, oldTag) + "," + Rlog.pii(LOG_TAG, oldPhoneNumber) + ")" + "==>" + " (" + Rlog.pii(LOG_TAG, newTag) + "," + Rlog.pii(LOG_TAG, newPhoneNumber) + ")" + " pin2=" + Rlog.pii(LOG_TAG, pin2));
    efid = updateEfForIccType(efid);
    checkThread();
    Request updateRequest = new Request();
    synchronized (updateRequest) {
        Message response = mBaseHandler.obtainMessage(EVENT_UPDATE_DONE, updateRequest);
        AdnRecord oldAdn = new AdnRecord(oldTag, oldPhoneNumber);
        AdnRecord newAdn = new AdnRecord(newTag, newPhoneNumber);
        if (mAdnCache != null) {
            mAdnCache.updateAdnBySearch(efid, oldAdn, newAdn, pin2, response);
            waitForResult(updateRequest);
            return (boolean) updateRequest.mResult;
        } else {
            loge("Failure while trying to update by search due to uninitialised adncache");
            return false;
        }
    }
}