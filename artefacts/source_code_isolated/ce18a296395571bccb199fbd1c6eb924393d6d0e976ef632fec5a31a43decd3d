public static String translate(CharSequence message, boolean isCdmaFormat){
    if (message == null) {
        Rlog.w(TAG, "Null message can not be translated");
        return null;
    }
    int size = message.length();
    if (size <= 0) {
        return "";
    }
    if (!mIs7BitTranslationTableLoaded) {
        mTranslationTableCommon = new SparseIntArray();
        mTranslationTableGSM = new SparseIntArray();
        mTranslationTableCDMA = new SparseIntArray();
        load7BitTranslationTableFromXml();
        mIs7BitTranslationTableLoaded = true;
    }
    if ((mTranslationTableCommon != null && mTranslationTableCommon.size() > 0) || (mTranslationTableGSM != null && mTranslationTableGSM.size() > 0) || (mTranslationTableCDMA != null && mTranslationTableCDMA.size() > 0)) {
        char[] output = new char[size];
        for (int i = 0; i < size; i++) {
            output[i] = translateIfNeeded(message.charAt(i), isCdmaFormat);
        }
        return String.valueOf(output);
    }
    return null;
}