public static void request(@NonNull Window source, @Nullable Rect srcRect, @NonNull Bitmap dest, @NonNull OnPixelCopyFinishedListener listener, @NonNull Handler listenerThread){
    validateBitmapDest(dest);
    if (source == null) {
        throw new IllegalArgumentException("source is null");
    }
    if (source.peekDecorView() == null) {
        throw new IllegalArgumentException("Only able to copy windows with decor views");
    }
    Surface surface = null;
    final ViewRootImpl root = source.peekDecorView().getViewRootImpl();
    if (root != null) {
        surface = root.mSurface;
        final Rect surfaceInsets = root.mWindowAttributes.surfaceInsets;
        if (srcRect == null) {
            srcRect = new Rect(surfaceInsets.left, surfaceInsets.top, root.mWidth + surfaceInsets.left, root.mHeight + surfaceInsets.top);
        } else {
            srcRect.offset(surfaceInsets.left, surfaceInsets.top);
        }
    }
    if (surface == null || !surface.isValid()) {
        throw new IllegalArgumentException("Window doesn't have a backing surface!");
    }
    request(surface, srcRect, dest, listener, listenerThread);
}