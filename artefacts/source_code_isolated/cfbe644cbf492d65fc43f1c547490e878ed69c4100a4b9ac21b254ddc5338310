public TelephonyEventBuilder setSimStateChange(SparseArray<Integer> simStates){
    int phoneCount = TelephonyManager.getDefault().getPhoneCount();
    mEvent.simState = new int[phoneCount];
    Arrays.fill(mEvent.simState, SimState.SIM_STATE_UNKNOWN);
    mEvent.type = Type.SIM_STATE_CHANGED;
    for (int i = 0; i < simStates.size(); i++) {
        int key = simStates.keyAt(i);
        if (0 <= key && key < phoneCount) {
            mEvent.simState[key] = simStates.get(key);
        }
    }
    return this;
}