public static int findAlphaToMeetContrast(int color, int backgroundColor, double minRatio){
    int fg = color;
    int bg = backgroundColor;
    if (ColorUtilsFromCompat.calculateContrast(fg, bg) >= minRatio) {
        return color;
    }
    int startAlpha = Color.alpha(color);
    int r = Color.red(color);
    int g = Color.green(color);
    int b = Color.blue(color);
    int low = startAlpha, high = 255;
    for (int i = 0; i < 15 && high - low > 0; i++) {
        final int alpha = (low + high) / 2;
        fg = Color.argb(alpha, r, g, b);
        if (ColorUtilsFromCompat.calculateContrast(fg, bg) > minRatio) {
            high = alpha;
        } else {
            low = alpha;
        }
    }
    return Color.argb(high, r, g, b);
}