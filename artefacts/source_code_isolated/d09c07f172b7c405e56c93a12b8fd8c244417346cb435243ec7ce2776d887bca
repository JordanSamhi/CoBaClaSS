public boolean hasWindowInsetsAnimationCallback(){
    if (super.hasWindowInsetsAnimationCallback()) {
        return true;
    }
    boolean isOptionalFitSystemWindows = (mViewFlags & OPTIONAL_FITS_SYSTEM_WINDOWS) != 0 || isFrameworkOptionalFitsSystemWindows();
    if (isOptionalFitSystemWindows && mAttachInfo != null && mAttachInfo.mContentOnApplyWindowInsetsListener != null && (getWindowSystemUiVisibility() & SYSTEM_UI_LAYOUT_FLAGS) == 0) {
        return false;
    }
    final int count = getChildCount();
    for (int i = 0; i < count; i++) {
        if (getChildAt(i).hasWindowInsetsAnimationCallback()) {
            return true;
        }
    }
    return false;
}