public void setMetadata(@Nullable MediaMetadata metadata){
    long duration = -1;
    int fields = 0;
    MediaDescription description = null;
    if (metadata != null) {
        metadata = (new MediaMetadata.Builder(metadata, mMaxBitmapSize)).build();
        if (metadata.containsKey(MediaMetadata.METADATA_KEY_DURATION)) {
            duration = metadata.getLong(MediaMetadata.METADATA_KEY_DURATION);
        }
        fields = metadata.size();
        description = metadata.getDescription();
    }
    String metadataDescription = "size=" + fields + ", description=" + description;
    try {
        mBinder.setMetadata(metadata, duration, metadataDescription);
    } catch (RemoteException e) {
        Log.wtf(TAG, "Dead object in setPlaybackState.", e);
    }
}