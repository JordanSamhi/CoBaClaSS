public static short getShort(Object array, int index) throws IllegalArgumentException, ArrayIndexOutOfBoundsException{
    if (array instanceof short[]) {
        return ((short[]) array)[index];
    } else if (array instanceof byte[]) {
        return ((byte[]) array)[index];
    }
    throw badArray(array);
}