public final boolean isActivityStartAllowedOnDisplay(int displayId, Intent intent, String resolvedType, int userId){
    final int callingUid = Binder.getCallingUid();
    final int callingPid = Binder.getCallingPid();
    final long origId = Binder.clearCallingIdentity();
    try {
        ActivityInfo aInfo = mStackSupervisor.resolveActivity(intent, resolvedType, 0, null, userId, ActivityStarter.computeResolveFilterUid(callingUid, callingUid, UserHandle.USER_NULL));
        aInfo = mAmInternal.getActivityInfoForUser(aInfo, userId);
        synchronized (mGlobalLock) {
            return mStackSupervisor.canPlaceEntityOnDisplay(displayId, callingPid, callingUid, aInfo);
        }
    } finally {
        Binder.restoreCallingIdentity(origId);
    }
}