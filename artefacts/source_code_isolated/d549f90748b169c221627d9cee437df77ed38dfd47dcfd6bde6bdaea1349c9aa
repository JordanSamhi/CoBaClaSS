public boolean isSimPresent(int subId){
    if (!SubscriptionManager.isValidSubscriptionId(subId)) {
        return false;
    }
    List<SubscriptionInfo> subInfoList = mSubscriptionManager.getActiveSubscriptionInfoList();
    if (subInfoList == null || subInfoList.isEmpty()) {
        return false;
    }
    return subInfoList.stream().anyMatch(info -> info.getSubscriptionId() == subId && isSimStateReady(info));
}