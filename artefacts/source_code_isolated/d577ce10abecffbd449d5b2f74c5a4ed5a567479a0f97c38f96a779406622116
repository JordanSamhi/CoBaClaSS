public Intent createShareIntent(){
    Intent shareIntent = new Intent(Intent.ACTION_SEND_MULTIPLE);
    shareIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
    shareIntent.putExtra(Intent.EXTRA_SUBJECT, String.format("SystemUI memory dump (rss=%dM)", rss / 1024));
    shareIntent.putExtra(Intent.EXTRA_TEXT, body.toString());
    if (hprofUri != null) {
        final ArrayList<Uri> uriList = new ArrayList<>();
        uriList.add(hprofUri);
        shareIntent.setType("application/zip");
        shareIntent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uriList);
        ClipData clipdata = new ClipData(new ClipDescription("content", new String[] { ClipDescription.MIMETYPE_TEXT_PLAIN }), new ClipData.Item(hprofUri));
        shareIntent.setClipData(clipdata);
        shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
    }
    return shareIntent;
}