public void disconnect(){
    synchronized (mLock) {
        if (mIsConnecting) {
            throw new IllegalStateException("Cannot call disconnect() while connecting " + this);
        }
        throwIfNotConnectedLocked();
        mConnectionId = CONNECTION_ID_UNDEFINED;
    }
    try {
        mUiAutomationConnection.disconnect();
    } catch (RemoteException re) {
        throw new RuntimeException("Error while disconnecting " + this, re);
    } finally {
        mRemoteCallbackThread.quit();
        mRemoteCallbackThread = null;
    }
}