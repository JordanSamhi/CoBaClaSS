public static InstrumentationInfo generateInstrumentationInfo(ParsedInstrumentation i, AndroidPackage pkg, @PackageManager.ComponentInfoFlags int flags, int userId, @Nullable PackageSetting pkgSetting){
    if (i == null)
        return null;
    InstrumentationInfo info = PackageInfoWithoutStateUtils.generateInstrumentationInfo(i, pkg, flags, userId);
    if (info == null) {
        return null;
    }
    info.primaryCpuAbi = AndroidPackageUtils.getPrimaryCpuAbi(pkg, pkgSetting);
    info.secondaryCpuAbi = AndroidPackageUtils.getSecondaryCpuAbi(pkg, pkgSetting);
    info.nativeLibraryDir = pkg.getNativeLibraryDir();
    info.secondaryNativeLibraryDir = pkg.getSecondaryNativeLibraryDir();
    assignStateFieldsForPackageItemInfo(info, i, pkgSetting, userId);
    return info;
}