public static DozeMachine.Service wrapIfNeeded(DozeMachine.Service inner, DozeParameters params){
    return isNeeded(params) ? new DozeScreenStatePreventingAdapter(inner) : inner;
}