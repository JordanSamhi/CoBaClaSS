public boolean isVisibleToUserForAutofill(int virtualId){
    if (mContext.isAutofillCompatibilityEnabled()) {
        final AccessibilityNodeProvider provider = getAccessibilityNodeProvider();
        if (provider != null) {
            final AccessibilityNodeInfo node = provider.createAccessibilityNodeInfo(virtualId);
            if (node != null) {
                return node.isVisibleToUser();
            }
        } else {
            Log.w(VIEW_LOG_TAG, "isVisibleToUserForAutofill(" + virtualId + "): no provider");
        }
        return false;
    }
    return true;
}