public boolean enableNetwork(int networkId, boolean disableOthers, int uid, String packageName){
    if (mVerboseLoggingEnabled) {
        Log.v(TAG, "Enabling network " + networkId + " (disableOthers " + disableOthers + ")");
    }
    if (!doesUidBelongToCurrentUser(uid)) {
        Log.e(TAG, "UID " + uid + " not visible to the current user");
        return false;
    }
    WifiConfiguration config = getInternalConfiguredNetwork(networkId);
    if (config == null) {
        return false;
    }
    if (disableOthers) {
        setLastSelectedNetwork(networkId);
    }
    if (!canModifyNetwork(config, uid, packageName)) {
        Log.e(TAG, "UID " + uid + " does not have permission to update configuration " + config.getKey());
        return false;
    }
    if (!updateNetworkSelectionStatus(networkId, WifiConfiguration.NetworkSelectionStatus.DISABLED_NONE)) {
        return false;
    }
    saveToStore(true);
    return true;
}