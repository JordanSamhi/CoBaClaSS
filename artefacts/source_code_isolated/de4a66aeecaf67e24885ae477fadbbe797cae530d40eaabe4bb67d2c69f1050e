public synchronized void setErrorManager(ErrorManager em){
    checkPermission();
    if (em == null) {
        throw new NullPointerException();
    }
    errorManager = em;
}