public void setSourceMetricsCategory(Activity activity){
    if (mSourceMetricsCategory != MetricsProto.MetricsEvent.VIEW_UNKNOWN || activity == null) {
        return;
    }
    final Intent intent = activity.getIntent();
    if (intent == null) {
        return;
    }
    mSourceMetricsCategory = intent.getIntExtra(MetricsFeatureProvider.EXTRA_SOURCE_METRICS_CATEGORY, MetricsProto.MetricsEvent.VIEW_UNKNOWN);
}