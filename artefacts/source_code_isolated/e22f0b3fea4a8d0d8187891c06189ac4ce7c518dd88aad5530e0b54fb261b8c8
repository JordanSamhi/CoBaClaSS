public boolean update(ImsCall imsCall, ImsPhoneCall.State state){
    if (state == ImsPhoneCall.State.ACTIVE) {
        if (imsCall.isPendingHold()) {
            Rlog.w(LOG_TAG, "update : state is ACTIVE, but call is pending hold, skipping");
            return false;
        }
        if (mParent.getState().isRinging() || mParent.getState().isDialing()) {
            onConnectedInOrOut();
        }
        if (mParent.getState().isRinging() || mParent == mOwner.mBackgroundCall) {
            mParent.detach(this);
            mParent = mOwner.mForegroundCall;
            mParent.attach(this);
        }
    } else if (state == ImsPhoneCall.State.HOLDING) {
        onStartedHolding();
    }
    boolean updateParent = mParent.update(this, imsCall, state);
    boolean updateAddressDisplay = updateAddressDisplay(imsCall);
    boolean updateMediaCapabilities = updateMediaCapabilities(imsCall);
    boolean updateExtras = updateExtras(imsCall);
    return updateParent || updateAddressDisplay || updateMediaCapabilities || updateExtras;
}