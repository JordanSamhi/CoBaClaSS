public int getTrafficClass() throws SocketException{
    if (isClosed()) {
        throw new SocketException("Socket is closed");
    }
    return ((Integer) (getImpl().getOption(SocketOptions.IP_TOS))).intValue();
}