public void onWindowFocusChanged(boolean hasWindowFocus){
    super.onWindowFocusChanged(hasWindowFocus);
    if (!hasWindowFocus && !mPopup.isDropDownAlwaysVisible()) {
        dismissDropDown();
    }
}