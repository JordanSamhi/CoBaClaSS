public void collectObserversLocked(Uri uri, int segmentCount, int index, IContentObserver observer, boolean observerWantsSelfNotifications, int flags, int targetUserHandle, ObserverCollector collector){
    String segment = null;
    if (index >= segmentCount) {
        if (DEBUG)
            Slog.d(TAG, "Collecting leaf observers @ #" + index + ", node " + mName);
        collectMyObserversLocked(uri, true, observer, observerWantsSelfNotifications, flags, targetUserHandle, collector);
    } else if (index < segmentCount) {
        segment = getUriSegment(uri, index);
        if (DEBUG)
            Slog.d(TAG, "Collecting non-leaf observers @ #" + index + " / " + segment);
        collectMyObserversLocked(uri, false, observer, observerWantsSelfNotifications, flags, targetUserHandle, collector);
    }
    int N = mChildren.size();
    for (int i = 0; i < N; i++) {
        ObserverNode node = mChildren.get(i);
        if (segment == null || node.mName.equals(segment)) {
            node.collectObserversLocked(uri, segmentCount, index + 1, observer, observerWantsSelfNotifications, flags, targetUserHandle, collector);
            if (segment != null) {
                break;
            }
        }
    }
}