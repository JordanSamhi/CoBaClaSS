public void pullPackagePreferencesStats(List<StatsEvent> events){
    synchronized (mPackagePreferences) {
        for (int i = 0; i < mPackagePreferences.size(); i++) {
            if (i > NOTIFICATION_PREFERENCES_PULL_LIMIT) {
                break;
            }
            SysUiStatsEvent.Builder event = mStatsEventBuilderFactory.newBuilder().setAtomId(PACKAGE_NOTIFICATION_PREFERENCES);
            final PackagePreferences r = mPackagePreferences.valueAt(i);
            event.writeInt(r.uid);
            event.addBooleanAnnotation(ANNOTATION_ID_IS_UID, true);
            event.writeInt(r.importance);
            event.writeInt(r.visibility);
            event.writeInt(r.lockedAppFields);
            events.add(event.build());
        }
    }
}