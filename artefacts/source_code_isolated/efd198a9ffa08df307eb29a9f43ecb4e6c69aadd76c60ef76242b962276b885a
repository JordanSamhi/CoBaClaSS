public void setMicrophoneMuteFromSwitch(boolean on){
    int userId = Binder.getCallingUid();
    if (userId != android.os.Process.SYSTEM_UID) {
        Log.e(TAG, "setMicrophoneMuteFromSwitch() called from non system user!");
        return;
    }
    mMicMuteFromSwitch = on;
    new MediaMetrics.Item(MediaMetrics.Name.AUDIO_MIC).setUid(userId).set(MediaMetrics.Property.EVENT, "setMicrophoneMuteFromSwitch").set(MediaMetrics.Property.REQUEST, on ? MediaMetrics.Value.MUTE : MediaMetrics.Value.UNMUTE).record();
    setMicrophoneMuteNoCallerCheck(userId);
}