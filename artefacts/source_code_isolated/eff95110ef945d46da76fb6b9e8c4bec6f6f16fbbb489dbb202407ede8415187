public void discoverServices(String serviceType, int protocolType, DiscoveryListener listener){
    checkStringNotEmpty(serviceType, "Service type cannot be empty");
    checkProtocol(protocolType);
    NsdServiceInfo s = new NsdServiceInfo();
    s.setServiceType(serviceType);
    int key = putListener(listener, s);
    mAsyncChannel.sendMessage(DISCOVER_SERVICES, 0, key, s);
}