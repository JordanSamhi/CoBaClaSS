public static boolean hasProxyChanged(WifiConfiguration existingConfig, WifiConfiguration newConfig){
    if (existingConfig == null) {
        return newConfig.getProxySettings() != IpConfiguration.ProxySettings.NONE;
    }
    if (newConfig.getProxySettings() != existingConfig.getProxySettings()) {
        return true;
    }
    return !Objects.equals(existingConfig.getHttpProxy(), newConfig.getHttpProxy());
}