public String createAppSpecificSmsTokenWithPackageInfo(int subId, @NonNull String callingPackageName, @Nullable String prefixes, @NonNull PendingIntent intent){
    Preconditions.checkStringNotEmpty(callingPackageName, "callingPackageName cannot be null or empty.");
    Preconditions.checkNotNull(intent, "intent cannot be null");
    AppOpsManager appOps = (AppOpsManager) mContext.getSystemService(Context.APP_OPS_SERVICE);
    appOps.checkPackage(Binder.getCallingUid(), callingPackageName);
    String token = PackageBasedTokenUtil.generateToken(mContext, callingPackageName);
    if (token != null) {
        synchronized (mLock) {
            if (mPackageMap.containsKey(callingPackageName)) {
                removeRequestLocked(mPackageMap.get(callingPackageName));
            }
            AppRequestInfo info = new AppRequestInfo(callingPackageName, intent, token, prefixes, subId, true);
            addRequestLocked(info);
        }
    }
    return token;
}