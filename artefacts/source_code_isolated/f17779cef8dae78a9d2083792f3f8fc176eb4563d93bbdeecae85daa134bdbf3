public final AlwaysOnHotwordDetector createAlwaysOnHotwordDetector(String keyphrase, Locale locale, AlwaysOnHotwordDetector.Callback callback){
    if (mSystemService == null) {
        throw new IllegalStateException("Not available until onReady() is called");
    }
    synchronized (mLock) {
        safelyShutdownHotwordDetector();
        mHotwordDetector = new AlwaysOnHotwordDetector(keyphrase, locale, callback, mKeyphraseEnrollmentInfo, mSystemService);
    }
    return mHotwordDetector;
}