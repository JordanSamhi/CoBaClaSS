public static long bytesToRawLong(byte[] src, int offset, int length){
    if (length > 8) {
        throw new IllegalArgumentException("length must be <= 8 (only 64-bit long supported): " + length);
    }
    if (offset < 0 || length < 0 || offset + length > src.length) {
        throw new IndexOutOfBoundsException("Out of the bounds: src=[" + src.length + "], offset=" + offset + ", length=" + length);
    }
    long result = 0;
    for (int i = 0; i < length; i++) {
        result = (result << 8) | (src[offset + i] & 0xFF);
    }
    return result;
}