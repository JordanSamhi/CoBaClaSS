public void startIntensityAnimation(ValueAnimator.AnimatorUpdateListener updateListener, boolean dark, long delay, Animator.AnimatorListener listener){
    float startIntensity = dark ? 0f : 1f;
    float endIntensity = dark ? 1f : 0f;
    ValueAnimator animator = ValueAnimator.ofFloat(startIntensity, endIntensity);
    animator.addUpdateListener(updateListener);
    animator.setDuration(StackStateAnimator.ANIMATION_DURATION_WAKEUP);
    animator.setInterpolator(Interpolators.LINEAR_OUT_SLOW_IN);
    animator.setStartDelay(delay);
    if (listener != null) {
        animator.addListener(listener);
    }
    animator.start();
}