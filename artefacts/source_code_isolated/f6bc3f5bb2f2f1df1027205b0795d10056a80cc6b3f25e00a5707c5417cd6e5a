public void noteLingerDefaultNetwork(@NonNull final NetworkAgentInfo fromNai, @Nullable final NetworkAgentInfo toNai){
    if (VDBG) {
        Log.d(TAG, "noteLingerDefaultNetwork from=" + fromNai.toShortString() + " everValidated=" + fromNai.everValidated + " lastValidated=" + fromNai.lastValidated + " to=" + toNai.toShortString());
    }
    maybeStopNotifying(fromNai);
    if (null == toNai)
        return;
    if (!fromNai.everValidated)
        return;
    boolean forceToast = fromNai.networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_CAPTIVE_PORTAL);
    if (everNotified(fromNai)) {
        if (VDBG) {
            Log.d(TAG, "Not notifying handover from " + fromNai.toShortString() + ", already notified");
        }
        return;
    }
    if (fromNai.lastValidated)
        return;
    if (!isNotificationEnabled(fromNai, toNai))
        return;
    final long now = SystemClock.elapsedRealtime();
    if (isRateLimited(now) || isAboveDailyLimit(now))
        return;
    notify(fromNai, toNai, forceToast);
}