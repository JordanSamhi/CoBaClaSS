public boolean isAvailable(int flags){
    final boolean matchAnyUser = (flags & PackageManager.MATCH_ANY_USER) != 0;
    final boolean matchUninstalled = (flags & PackageManager.MATCH_UNINSTALLED_PACKAGES) != 0;
    return matchAnyUser || (this.installed && (!this.hidden || matchUninstalled));
}