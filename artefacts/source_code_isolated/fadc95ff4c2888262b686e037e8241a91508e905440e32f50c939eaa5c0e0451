public int getClosestPreExecutionState(ActivityClientRecord r, int postExecutionState){
    switch(postExecutionState) {
        case UNDEFINED:
            return UNDEFINED;
        case ON_RESUME:
            return getClosestOfStates(r, ON_RESUME_PRE_EXCUTION_STATES);
        default:
            throw new UnsupportedOperationException("Pre-execution states for state: " + postExecutionState + " is not supported.");
    }
}