public static int checkCallingPermissionForPreflight(@NonNull Context context, @NonNull String permission, @Nullable String packageName){
    if (Binder.getCallingPid() == Process.myPid()) {
        return PERMISSION_HARD_DENIED;
    }
    return checkPermissionForPreflight(context, permission, Binder.getCallingPid(), Binder.getCallingUid(), packageName);
}