public StringBuffer format(double number, StringBuffer result, FieldPosition fieldPosition){
    FieldPosition icuFieldPosition = getIcuFieldPosition(fieldPosition);
    icuDecimalFormat.format(number, result, icuFieldPosition);
    fieldPosition.setBeginIndex(icuFieldPosition.getBeginIndex());
    fieldPosition.setEndIndex(icuFieldPosition.getEndIndex());
    return result;
}